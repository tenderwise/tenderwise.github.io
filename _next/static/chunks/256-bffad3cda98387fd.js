(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[256],{12001:(e,t,r)=>{"use strict";r.d(t,{u:()=>v,A:()=>g});var s=r(95155),n=r(17476),a=r(12115),i=r(82855),l=r(76919),c=r(67666),d=r(77641),o=r(46014),u=r(32584),h=r.n(u);let m=e=>{let{label:t,value:r}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:h().Label,children:t}),(0,s.jsx)("div",{className:(0,i.t)(h().Value,"mt-1"),children:r})]})},g=function(e){let{tender:t,className:r}=e,{title:u,product_category:g,authority:f,location:v,id:x,tenderValueInInr:y,emdValueInInr:j,submissionDeadline:_}=t,S=(0,a.useMemo)(()=>[g,f].filter(Boolean),[g,f]);return(0,s.jsxs)("div",{className:(0,i.t)(r,h().Card),children:[(0,s.jsxs)("div",{className:h().TopSection,children:[(0,s.jsxs)("div",{className:h().StatsSection,children:[(0,s.jsxs)("div",{className:(0,i.t)(h().StatsItem,h().StatsItemPrimary),children:[(0,s.jsx)(c.A,{src:"/assets/images/icons/eye.svg",width:18,height:18,alt:"Location pin"}),(0,s.jsx)("span",{children:"4"})]}),(0,s.jsxs)("div",{className:(0,i.t)(h().StatsItem,h().StatsItemAlert),children:[(0,s.jsx)(c.A,{className:(0,i.t)(h().Icon,h().IconWhenOpen,"filter-clr-danger"),src:"/assets/images/icons/clock_2.svg",alt:"Edit items",width:16,height:16}),(0,s.jsx)("span",{children:"Ends in 2 days"})]})]}),(0,s.jsx)("h4",{className:(0,i.t)(h().Heading,"mt-2"),children:u}),(0,s.jsxs)("div",{className:(0,i.t)(h().DetailsContainer,"mt-2"),children:[(0,s.jsxs)("div",{className:h().DetailsLeftContainer,children:[!!S.length&&(0,s.jsx)("div",{className:h().TagsContainer,children:S.map(e=>(0,s.jsx)(o.A,{children:e},e))}),(0,s.jsxs)("div",{className:(0,i.t)(h().Location,"mt-2"),children:[(0,s.jsx)(c.A,{src:"/assets/images/icons/location_pin.svg",width:16,height:12,alt:"Location pin"})," ",v]})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:h().PrimaryValue,children:"0%"}),(0,s.jsx)("div",{className:h().LabelSmall,children:"Compatibility Score"})]})]})]}),(0,s.jsxs)("div",{className:h().BottomSection,children:[(0,s.jsx)(m,{label:"Last Apply Date",value:_?(0,l.Y)(_):"-"}),(0,s.jsx)(m,{label:"EMD Amount",value:j?"₹ ".concat(j):"-"}),(0,s.jsx)(m,{label:"Tender Value",value:y?"₹ ".concat(y):"-"})]}),(0,s.jsx)(n.A,{href:(0,d.oC)({tenderId:x}),className:h().Link})]})};var f=r(78066);let v=function(e){let{className:t}=e;return(0,s.jsxs)("div",{className:(0,i.t)(t,h().Card),children:[(0,s.jsxs)("div",{className:h().TopSection,children:[(0,s.jsxs)("div",{className:h().StatsSection,children:[(0,s.jsxs)("div",{className:(0,i.t)(h().StatsItem,h().StatsItemPrimary),children:[(0,s.jsx)(f.A.Circular,{size:"1rem"}),(0,s.jsx)(f.A.Default,{style:{width:"5rem",height:".75rem"}})]}),(0,s.jsxs)("div",{className:(0,i.t)(h().StatsItem,h().StatsItemAlert),children:[(0,s.jsx)(f.A.Circular,{size:"1rem"}),(0,s.jsx)(f.A.Default,{style:{width:"5rem",height:".75rem"}})]})]}),(0,s.jsx)("h4",{className:(0,i.t)(h().Heading,"mt-3"),children:(0,s.jsx)(f.A.Default,{style:{width:"100%",height:"1.25rem"}})}),(0,s.jsxs)("div",{className:(0,i.t)(h().DetailsContainer,"mt-2"),children:[(0,s.jsx)("div",{className:h().DetailsLeftContainer,children:(0,s.jsxs)("div",{className:h().TagsContainer,children:[(0,s.jsx)(f.A.Default,{style:{width:"3rem",height:"1.25rem"}}),(0,s.jsx)(f.A.Default,{style:{width:"5rem",height:"1.25rem"}})]})}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("div",{className:h().PrimaryValue,children:(0,s.jsx)(f.A.Default,{style:{width:"5rem",height:"2rem"}})})})]})]}),(0,s.jsxs)("div",{className:h().BottomSection,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:h().Label,children:(0,s.jsx)(f.A.Default,{style:{width:"5rem",height:"12px"}})}),(0,s.jsx)("div",{className:(0,i.t)(h().Value,"mt-1"),children:(0,s.jsx)(f.A.Default,{style:{width:"5rem",height:"1rem"}})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:h().Label,children:(0,s.jsx)(f.A.Default,{style:{width:"5rem",height:"12px"}})}),(0,s.jsx)("div",{className:(0,i.t)(h().Value,"mt-1"),children:(0,s.jsx)(f.A.Default,{style:{width:"5rem",height:"1rem"}})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:h().Label,children:(0,s.jsx)(f.A.Default,{style:{width:"5rem",height:"12px"}})}),(0,s.jsx)("div",{className:(0,i.t)(h().Value,"mt-1"),children:(0,s.jsx)(f.A.Default,{style:{width:"5rem",height:"1rem"}})})]})]})]})}},30832:function(e){e.exports=function(){"use strict";var e="millisecond",t="second",r="minute",s="hour",n="week",a="month",i="quarter",l="year",c="date",d="Invalid Date",o=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,u=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h=function(e,t,r){var s=String(e);return!s||s.length>=t?e:""+Array(t+1-s.length).join(r)+e},m="en",g={};g[m]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}};var f="$isDayjsObject",v=function(e){return e instanceof _||!(!e||!e[f])},x=function e(t,r,s){var n;if(!t)return m;if("string"==typeof t){var a=t.toLowerCase();g[a]&&(n=a),r&&(g[a]=r,n=a);var i=t.split("-");if(!n&&i.length>1)return e(i[0])}else{var l=t.name;g[l]=t,n=l}return!s&&n&&(m=n),n||!s&&m},y=function(e,t){if(v(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new _(r)},j={s:h,z:function(e){var t=-e.utcOffset(),r=Math.abs(t);return(t<=0?"+":"-")+h(Math.floor(r/60),2,"0")+":"+h(r%60,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var s=12*(r.year()-t.year())+(r.month()-t.month()),n=t.clone().add(s,a),i=r-n<0,l=t.clone().add(s+(i?-1:1),a);return+(-(s+(r-n)/(i?n-l:l-n))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(d){return({M:a,y:l,w:n,d:"day",D:c,h:s,m:r,s:t,ms:e,Q:i})[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}};j.l=x,j.i=v,j.w=function(e,t){return y(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var _=function(){function h(e){this.$L=x(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[f]=!0}var m=h.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(j.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var s=t.match(o);if(s){var n=s[2]-1||0,a=(s[7]||"0").substring(0,3);return r?new Date(Date.UTC(s[1],n,s[3]||1,s[4]||0,s[5]||0,s[6]||0,a)):new Date(s[1],n,s[3]||1,s[4]||0,s[5]||0,s[6]||0,a)}}return new Date(t)}(e),this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return j},m.isValid=function(){return this.$d.toString()!==d},m.isSame=function(e,t){var r=y(e);return this.startOf(t)<=r&&r<=this.endOf(t)},m.isAfter=function(e,t){return y(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<y(e)},m.$g=function(e,t,r){return j.u(e)?this[t]:this.set(r,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,i){var d=this,o=!!j.u(i)||i,u=j.p(e),h=function(e,t){var r=j.w(d.$u?Date.UTC(d.$y,t,e):new Date(d.$y,t,e),d);return o?r:r.endOf("day")},m=function(e,t){return j.w(d.toDate()[e].apply(d.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(t)),d)},g=this.$W,f=this.$M,v=this.$D,x="set"+(this.$u?"UTC":"");switch(u){case l:return o?h(1,0):h(31,11);case a:return o?h(1,f):h(0,f+1);case n:var y=this.$locale().weekStart||0,_=(g<y?g+7:g)-y;return h(o?v-_:v+(6-_),f);case"day":case c:return m(x+"Hours",0);case s:return m(x+"Minutes",1);case r:return m(x+"Seconds",2);case t:return m(x+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(n,i){var d,o=j.p(n),u="set"+(this.$u?"UTC":""),h=((d={}).day=u+"Date",d[c]=u+"Date",d[a]=u+"Month",d[l]=u+"FullYear",d[s]=u+"Hours",d[r]=u+"Minutes",d[t]=u+"Seconds",d[e]=u+"Milliseconds",d)[o],m="day"===o?this.$D+(i-this.$W):i;if(o===a||o===l){var g=this.clone().set(c,1);g.$d[h](m),g.init(),this.$d=g.set(c,Math.min(this.$D,g.daysInMonth())).$d}else h&&this.$d[h](m);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[j.p(e)]()},m.add=function(e,i){var c,d=this;e=Number(e);var o=j.p(i),u=function(t){var r=y(d);return j.w(r.date(r.date()+Math.round(t*e)),d)};if(o===a)return this.set(a,this.$M+e);if(o===l)return this.set(l,this.$y+e);if("day"===o)return u(1);if(o===n)return u(7);var h=((c={})[r]=6e4,c[s]=36e5,c[t]=1e3,c)[o]||1,m=this.$d.getTime()+e*h;return j.w(m,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||d;var s=e||"YYYY-MM-DDTHH:mm:ssZ",n=j.z(this),a=this.$H,i=this.$m,l=this.$M,c=r.weekdays,o=r.months,h=r.meridiem,m=function(e,r,n,a){return e&&(e[r]||e(t,s))||n[r].slice(0,a)},g=function(e){return j.s(a%12||12,e,"0")},f=h||function(e,t,r){var s=e<12?"AM":"PM";return r?s.toLowerCase():s};return s.replace(u,function(e,s){return s||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return j.s(t.$y,4,"0");case"M":return l+1;case"MM":return j.s(l+1,2,"0");case"MMM":return m(r.monthsShort,l,o,3);case"MMMM":return m(o,l);case"D":return t.$D;case"DD":return j.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return m(r.weekdaysMin,t.$W,c,2);case"ddd":return m(r.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(a);case"HH":return j.s(a,2,"0");case"h":return g(1);case"hh":return g(2);case"a":return f(a,i,!0);case"A":return f(a,i,!1);case"m":return String(i);case"mm":return j.s(i,2,"0");case"s":return String(t.$s);case"ss":return j.s(t.$s,2,"0");case"SSS":return j.s(t.$ms,3,"0");case"Z":return n}return null}(e)||n.replace(":","")})},m.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},m.diff=function(e,c,d){var o,u=this,h=j.p(c),m=y(e),g=(m.utcOffset()-this.utcOffset())*6e4,f=this-m,v=function(){return j.m(u,m)};switch(h){case l:o=v()/12;break;case a:o=v();break;case i:o=v()/3;break;case n:o=(f-g)/6048e5;break;case"day":o=(f-g)/864e5;break;case s:o=f/36e5;break;case r:o=f/6e4;break;case t:o=f/1e3;break;default:o=f}return d?o:j.a(o)},m.daysInMonth=function(){return this.endOf(a).$D},m.$locale=function(){return g[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),s=x(e,t,!0);return s&&(r.$L=s),r},m.clone=function(){return j.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},h}(),S=_.prototype;return y.prototype=S,[["$ms",e],["$s",t],["$m",r],["$H",s],["$W","day"],["$M",a],["$y",l],["$D",c]].forEach(function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),y.extend=function(e,t){return e.$i||(e(t,_,y),e.$i=!0),y},y.locale=x,y.isDayjs=v,y.unix=function(e){return y(1e3*e)},y.en=g[m],y.Ls=g,y.p={},y}()},32584:e=>{e.exports={Card:"TenderCard_Card__2P6lV",TopSection:"TenderCard_TopSection___VLDH",BottomSection:"TenderCard_BottomSection__aA8MV",Heading:"TenderCard_Heading__54FS8",DetailsContainer:"TenderCard_DetailsContainer__zXoGq",DetailsLeftContainer:"TenderCard_DetailsLeftContainer__CMaq_",TagsContainer:"TenderCard_TagsContainer__tniRQ",Location:"TenderCard_Location__bCbJ3",PrimaryValue:"TenderCard_PrimaryValue__GRDn3",LabelSmall:"TenderCard_LabelSmall__eK3dk",Label:"TenderCard_Label__vgMOJ",Value:"TenderCard_Value__CbzQK",Link:"TenderCard_Link__ksza8",StatsSection:"TenderCard_StatsSection__bBi6j",StatsItem:"TenderCard_StatsItem__H8Cuw",StatsItemPrimary:"TenderCard_StatsItemPrimary__x3ags",StatsItemAlert:"TenderCard_StatsItemAlert__0_4kz"}},46014:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var s=r(95155),n=r(82855),a=r(56041),i=r.n(a);let l=(0,r(74466).F)(i().Tag,{variants:{variant:{primary:i().TagPrimary,secondary:i().TagSecondary,ghost:i().TagGhost},size:{sm:i().TagSmall,md:i().TagMedium,lg:i().TagLarge},color:{default:i().TagPrimary,black:i().TagBlack,gray:i().TagGray,green:i().TagGreen,red:i().TagRed}},defaultVariants:{variant:"primary",size:"sm",color:"green"}}),c=function(e){let{children:t,className:r,variant:a,size:c,color:d}=e;return(0,s.jsx)("span",{className:(0,n.t)(r,i().Tag,l({variant:a,size:c,color:d})),children:t})}},56041:e=>{e.exports={Tag:"Tag_Tag__h3g8g",TagGhost:"Tag_TagGhost__DONkn",TagPrimary:"Tag_TagPrimary__9uBcN",TagSecondary:"Tag_TagSecondary__IE6lk",TagSmall:"Tag_TagSmall__B0bK7",TagMedium:"Tag_TagMedium__MCZ5O",TagLarge:"Tag_TagLarge__8vbse",TagGreen:"Tag_TagGreen__rdoK6",TagBlack:"Tag_TagBlack__8PJv3",TagGray:"Tag_TagGray__W78bC",TagRed:"Tag_TagRed__bc5iQ"}},57360:(e,t,r)=>{"use strict";r.d(t,{A:()=>w});var s=r(95155),n=r(82855),a=r(91954),i=r.n(a),l=r(12115),c=r(29119),d=r(45009),o=r.n(d),u=r(50803);let h=(0,l.createContext)({}),m=()=>(0,l.useContext)(h),g=function(e){let{children:t}=e,[r,n]=function(e){let t=(0,c.createParser)({parse:t=>{if(!t)return e;try{return JSON.parse(decodeURIComponent(t))}catch(t){return e}},serialize:e=>encodeURIComponent(JSON.stringify(e))}),[r,s]=(0,c.useQueryState)("filters",t.withDefault(e)),n=(0,l.useCallback)(e=>{if("function"==typeof e){let t=e(r);s({...r,...t})}else s({...r,...e})},[r,s]),a=(0,l.useCallback)((e,t)=>{let n=JSON.parse(JSON.stringify(r));return o()(n,e,t),s(n),{updated:n}},[r,s]);return[r,n,a]}({}),{state:a,setState:i}=(0,u.A)(),{state:d,setState:m}=(0,u.A)(),{state:g,setState:f}=(0,u.A)(),v=(0,l.useMemo)(()=>({tenderFilters:r,setTenderFilters:n,isCategoryFilterDrawerOpen:a,setCategoryFilterDrawerOpenState:i,isAuthorityFilterDrawerOpen:d,setAuthorityFilterDrawerOpenState:m,isLocationFilterDrawerOpen:g,setLocationFilterDrawerOpenState:f}),[r,n,a,i,d,m,g,f]);return(0,l.useMemo)(()=>{console.log("DEBUG:TENDERS:FILTERS",{tenderFilters:r})},[r]),(0,s.jsx)(h.Provider,{value:v,children:t})};var f=r(67666),v=r(34309);let x=function(e){var t,r;let{className:a}=e,{tenderFilters:l,setCategoryFilterDrawerOpenState:c}=m(),d=(null==l||null==(t=l.selectedSubCategoryIds)?void 0:t.length)||0,o=!!(null==l||null==(r=l.selectedSubCategoryIds)?void 0:r.length);return(0,s.jsxs)(v.A,{variant:"ghost",className:(0,n.t)(i().FilterToggleButton,a),onClick:()=>{c(!0)},children:[(0,s.jsxs)("span",{className:(0,n.t)(i().RoundIconContainer,o&&i().RoundIconContainerActive),children:[!!d&&(0,s.jsx)("span",{className:(0,n.t)(i().FilterCount),children:d>=10?"9+":d}),(0,s.jsx)(f.A,{src:"/assets/images/pages/tenders/filters/categories.svg",alt:"",width:28,height:28})]}),"By Category"]})};var y=r(72074),j=r(30816),_=r(8889),S=r(34642);let C=function(){var e;let{isLocationFilterDrawerOpen:t,setLocationFilterDrawerOpenState:r,tenderFilters:n,setTenderFilters:a}=m(),[i,c]=(0,l.useState)(""),{data:d,loading:o,error:u}=(0,j.yG)({variables:{locationFilters:{}}}),h=(null==d||null==(e=d.userTenderLocationFiltersHierarchical)?void 0:e.states)||[],g=h.length>0,v=n.selectedCityIds||[];return(0,s.jsx)(y.A,{isOpen:t,onOpenChange:r,title:"Select Location",children:o?(0,s.jsx)("div",{children:"Loading States..."}):u?(0,s.jsx)("div",{children:"Error loading location filters"}):(0,s.jsxs)(s.Fragment,{children:[g&&(0,s.jsx)(_.A,{id:"search-field",className:"mt-2",placeholder:"Search",value:i,onChange:c,prependContent:(0,s.jsx)(f.A,{src:"/assets/images/icons/search.svg",alt:"Search",height:18,width:18})}),h.map(e=>{let t=(e.cities||[]).map(e=>({name:e.name,value:String(e.id)}));return(0,s.jsx)(S.A,{"aria-labelledby":"state-".concat(e.id),className:"mt-3",title:e.name,options:t,value:v.map(String),searchLabel:"Select City",searchPlaceholder:"Search Cities",onChange:e=>{let r=Array.from(new Set([...v.filter(e=>!t.some(t=>t.value===String(e))),...e.map(Number)]));a(e=>({...e,selectedCityIds:r}))}},e.id)})]})})},T=function(e){var t,r;let{className:a}=e,{setLocationFilterDrawerOpenState:l}=m(),{tenderFilters:c}=m(),d=(null==c||null==(t=c.selectedCityIds)?void 0:t.length)||0,o=!!(null==c||null==(r=c.selectedCityIds)?void 0:r.length);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C,{}),(0,s.jsxs)(v.A,{variant:"ghost",className:(0,n.t)(i().FilterToggleButton,a),onClick:()=>{l(!0)},children:[(0,s.jsxs)("span",{className:(0,n.t)(i().RoundIconContainer,o&&i().RoundIconContainerActive),children:[!!d&&(0,s.jsx)("span",{className:(0,n.t)(i().FilterCount),children:d>=10?"9+":d}),(0,s.jsx)(f.A,{src:"/assets/images/pages/tenders/filters/location.svg",alt:"",width:28,height:28})]}),"By Location"]})]})},p=function(){var e;let{isAuthorityFilterDrawerOpen:t,setAuthorityFilterDrawerOpenState:r,tenderFilters:n,setTenderFilters:a}=m(),[i,c]=(0,l.useState)(""),{data:d,loading:o,error:u}=(0,j.cb)({variables:{authorityFilters:{}}}),h=(null==d||null==(e=d.userTenderAuthorityFiltersHierarchical)?void 0:e.authorities)||[],g=h.length>0,v=n.selectedSubAuthorityIds||[],x=e=>{a(t=>{let r=t.selectedSubAuthorityIds||[],s=r.includes(e);return{...t,selectedSubAuthorityIds:s?r.filter(t=>t!==e):[...r,e]}})};return(0,s.jsx)(y.A,{isOpen:t,onOpenChange:r,title:"Select Authority",children:o?(0,s.jsx)("div",{children:"Loading Authorities..."}):u?(0,s.jsx)("div",{children:"Error loading authority filters"}):(0,s.jsxs)(s.Fragment,{children:[g&&(0,s.jsx)(_.A,{id:"search-field",className:"mt-2",placeholder:"Search",value:i,onChange:c,prependContent:(0,s.jsx)(f.A,{src:"/assets/images/icons/search.svg",alt:"Search",height:18,width:18})}),h.map(e=>{var t;return(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("div",{children:(0,s.jsx)("b",{children:e.name})}),null==(t=e.departments)?void 0:t.map(e=>(0,s.jsx)("div",{style:{marginLeft:16},children:(0,s.jsxs)("label",{style:{cursor:"pointer"},children:[(0,s.jsx)("input",{type:"checkbox",checked:v.includes(Number(e.id)),onChange:()=>x(Number(e.id))}),(0,s.jsx)("span",{style:{marginLeft:8},children:e.name})]})},e.id))]},e.id)})]})})},b=function(e){var t,r;let{className:a}=e,{setAuthorityFilterDrawerOpenState:l}=m(),{tenderFilters:c}=m(),d=(null==c||null==(t=c.selectedSubAuthorityIds)?void 0:t.length)||0,o=!!(null==c||null==(r=c.selectedSubAuthorityIds)?void 0:r.length);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p,{}),(0,s.jsxs)(v.A,{variant:"ghost",className:(0,n.t)(i().FilterToggleButton,a),onClick:()=>{l(!0)},children:[(0,s.jsxs)("span",{className:(0,n.t)(i().RoundIconContainer,o&&i().RoundIconContainerActive),children:[!!d&&(0,s.jsx)("span",{className:(0,n.t)(i().FilterCount),children:d>=10?"9+":d}),(0,s.jsx)(f.A,{src:"/assets/images/pages/tenders/filters/authority.svg",alt:"",width:28,height:28})]}),"By Authority"]})]})},A=function(e){var t,r,a;let{className:c}=e,{tenderFilters:d,setTenderFilters:o}=m(),u=!(null==d||null==(t=d.selectedCityIds)?void 0:t.length)&&!(null==d||null==(r=d.selectedSubAuthorityIds)?void 0:r.length)&&!(null==d||null==(a=d.selectedSubCategoryIds)?void 0:a.length),h=(0,l.useCallback)(()=>{o({selectedCityIds:[],selectedSubAuthorityIds:[],selectedSubCategoryIds:[]})},[o]);return(0,s.jsxs)(v.A,{variant:"ghost",className:(0,n.t)(i().FilterToggleButton,c),onClick:h,children:[(0,s.jsx)("span",{className:(0,n.t)(i().RoundIconContainer,u&&i().RoundIconContainerActive),children:(0,s.jsx)(f.A,{src:"/assets/images/pages/tenders/filters/all_tenders.svg",alt:"",width:28,height:28})}),"All Tenders"]})},$=function(e){let{className:t}=e;return(0,s.jsxs)(v.A,{variant:"secondary",color:"gray",className:(0,n.t)(i().FilterButtonSecondary,t),children:["Sort By",(0,s.jsx)(f.A,{src:"/assets/images/icons/sort.svg",alt:"",width:16,height:16})]})},N=function(e){let{className:t}=e,{setCategoryFilterDrawerOpenState:r}=m();return(0,s.jsxs)(v.A,{variant:"secondary",color:"gray",className:(0,n.t)(i().FilterButtonSecondary,t),onClick:()=>{r(!0)},children:["Filter",(0,s.jsx)(f.A,{src:"/assets/images/icons/filter.svg",alt:"",width:16,height:16})]})},D=function(){var e;let{isCategoryFilterDrawerOpen:t,setCategoryFilterDrawerOpenState:r,tenderFilters:n,setTenderFilters:a}=m(),[i,c]=(0,l.useState)(""),{data:d,loading:o,error:u}=(0,j.fS)({variables:{categoryFilters:{}}}),h=(null==d||null==(e=d.userTenderCategoryFiltersHierarchical)?void 0:e.categories)||[],g=h.length>0,v=n.selectedSubCategoryIds||[];return(0,s.jsx)(y.A,{isOpen:t,onOpenChange:r,title:"Select Category",children:o?(0,s.jsx)("div",{children:"Loading Categories..."}):u?(0,s.jsx)("div",{children:"Error loading category filters"}):(0,s.jsxs)(s.Fragment,{children:[g&&(0,s.jsx)(_.A,{id:"search-field",className:"mt-2",placeholder:"Search",value:i,onChange:c,prependContent:(0,s.jsx)(f.A,{src:"/assets/images/icons/search.svg",alt:"Search",height:18,width:18})}),h.map(e=>{let t=(e.subcategories||[]).map(e=>({name:e.name,value:String(e.id)}));return(0,s.jsx)(S.A,{"aria-labelledby":"category-".concat(e.id),className:"mt-3",title:e.name,options:t,value:v.map(String),searchLabel:"Select Sub Category",searchPlaceholder:"Search Subcategories",onChange:e=>{let r=Array.from(new Set([...v.filter(e=>!t.some(t=>t.value===String(e))),...e.map(Number)]));a(e=>({...e,selectedSubCategoryIds:r}))}},e.id)})]})})},w=function(e){let{className:t,showMainCategoryButtons:r=!0,showFilterButton:a=!0,showSortButton:l=!0,filterHeading:c}=e;return(0,s.jsx)(g,{children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(D,{}),(0,s.jsx)(p,{}),(0,s.jsx)(C,{}),(0,s.jsxs)("div",{className:(0,n.t)(t,i().Container),children:[r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:"Matching Tenders By"}),(0,s.jsxs)("div",{className:"d-flex justify-content-between gap-3 mt-3 mb-4",children:[(0,s.jsx)(A,{}),(0,s.jsx)(x,{}),(0,s.jsx)(b,{}),(0,s.jsx)(T,{})]})]}),(0,s.jsxs)("div",{className:"d-flex justify-content-between align-items-center gap-2",children:[(0,s.jsx)("div",{className:i().MatchingTendersLabel,children:c||"Tenders By"}),a&&(0,s.jsx)(N,{}),l&&(0,s.jsx)($,{})]}),!1]})]})})}},76919:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a});var s=r(30832),n=r.n(s);function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t?n()(e).format(t):(e=new Date(e),new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(e))}},91954:e=>{e.exports={FilterToggleButton:"TenderFilters_FilterToggleButton__DN4g6",RoundIconContainer:"TenderFilters_RoundIconContainer__RCjof",RoundIconContainerActive:"TenderFilters_RoundIconContainerActive__uZw3I",FilterCount:"TenderFilters_FilterCount__F56ok",MatchingTendersLabel:"TenderFilters_MatchingTendersLabel__C3Fg6",FilterButtonSecondary:"TenderFilters_FilterButtonSecondary___Yl6y",ScrollableFilterContainer:"TenderFilters_ScrollableFilterContainer__mL8KS"}}}]);