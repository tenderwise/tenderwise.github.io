(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[906],{369:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useParamState:()=>o});var r=n(12115),a=n(67460),i=n.n(a),s=n(35695);let l=function(e,t){let{parseJson:n,encode:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null===e)return t;try{let t=e;if(r&&(t=atob(t)),n)return JSON.parse(t);return e}catch(t){return e}};function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(0,s.useRouter)(),o=(0,s.usePathname)(),u=(0,s.useSearchParams)(),d=(0,r.useRef)(u);d.current=u;let c=u.get(e),{encode:h=i()(t),parseJson:m=!0,replaceHistory:g=!0}=n,_=(0,r.useMemo)(()=>l(c||"",t,{encode:h,parseJson:m}),[c,t,h,m]),[p,f]=(0,r.useState)(_),v=(0,r.useCallback)((n,r)=>{try{f(l(n,t,{encode:h,parseJson:m}));let i=new URLSearchParams(d.current);if(void 0===n)i.delete(e);else{let t=m?JSON.stringify(n):n;h&&(t=btoa(t)),i.set(e,t)}let s=[o,i.toString()].join("?");(void 0!==r?r:g)?a.replace(s):a.push(s)}catch(r){console.error("Error setting param state:",r);let t=new URLSearchParams(d.current);void 0===n?t.delete(e):t.set(e,JSON.stringify(n))}},[t,h,m,o,e,a,g]),y=(0,r.useRef)(p);return y.current=p,(0,r.useEffect)(()=>{let e=l(_,t,{encode:h,parseJson:m});JSON.stringify(y.current)!==JSON.stringify(e)&&f(e)},[_,t,n,h,m]),[_,v]}},1977:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(95155),a=n(12115),i=n(27262),s=n(6144),l=n(39608),o=n.n(l),u=n(8889),d=n(71273),c=n.n(d),h=n(82855);function m(e){let{x:t,y:n,width:a,height:i,fill:s,count:l,showCount:o,isInRange:u}=e;return(0,r.jsxs)("g",{children:[(0,r.jsx)("rect",{x:t,y:n,width:a,height:i,rx:1.5,fill:s}),o&&i>8&&(0,r.jsx)("text",{x:t+a/2,y:n+8,textAnchor:"middle",fontSize:"7",fill:u?"#fff":"#6c3cff",style:{pointerEvents:"none",userSelect:"none"},fontFamily:"inherit",children:l})]})}let g=function(e){let{className:t,label:n,thumbLabels:l,valueRender:d,slidersConfig:g=[],barGraph:_,dummyBarCount:p,showBarCounts:f=!1,...v}=e,y=(0,a.useRef)(null),[x,C]=(0,a.useState)(100);(0,a.useLayoutEffect)(()=>{if(!y.current)return;let e=()=>{var e,t;C((null==(e=y.current)?void 0:e.offsetWidth)?(null==(t=y.current)?void 0:t.offsetWidth)-64:100)};e();let t=new window.ResizeObserver(e);return t.observe(y.current),()=>t.disconnect()},[]);let b=(0,a.useCallback)(()=>{let e=(null==_?void 0:_.bars)||[],t=null==_?void 0:_.maxCount,n="number"==typeof v.minValue?v.minValue:0,a="number"==typeof v.maxValue?v.maxValue:100,i=a-n;if(p&&p>0){let t=20;t=Math.max(...(e=Array.from({length:p}).map((e,r)=>{let a=n+r*i/(p-1),s=Math.exp(-.5*Math.pow((r/(p-1)-.5)/.18,2)),l=Math.round(Math.max(0,Math.min(t,s*t*(.7+.6*Math.random()))));return l<0&&(l=0),{value:a,count:l}})).map(e=>e.count),1)}let s=n,l=a;Array.isArray(v.value)&&2===v.value.length?(s=Math.min(v.value[0],v.value[1]),l=Math.max(v.value[0],v.value[1])):"number"==typeof v.value&&(s=l=v.value);let o=x/(e.length+1);return e.length?(t=t||Math.max(...e.map(e=>e.count),1),(0,r.jsx)("svg",{className:c().SliderBarGraph,width:x,height:32,viewBox:"0 0 ".concat(x," ").concat(32),style:{display:"block",marginBottom:8},"aria-hidden":"true",preserveAspectRatio:"none",children:e.map((e,n)=>{let a=e.count?e.count/t*28:0;a=e.count>0?Math.max(Math.ceil(a),10):0;let i=e.value>=s&&e.value<=l;return(0,r.jsx)(m,{x:o/2+n*o,y:32-a,width:.8*o,height:a,fill:i?"rgb(var(--clr-primary-rgb))":"#d4c5ff",count:e.count,showCount:f,isInRange:i,viewBoxHeight:32},n)})})):null},[null==_?void 0:_.bars,null==_?void 0:_.maxCount,p,v.maxValue,v.minValue,v.value,f,x]);return(0,r.jsxs)("div",{ref:y,className:(0,h.t)(c().Container,t),children:[b(),(0,r.jsxs)(i.Ap,{...v,className:c().Slider,"aria-labelledby":"Slider",children:[n&&(0,r.jsx)(s.J,{className:c().SliderLabel,children:n}),(0,r.jsx)(i.hB,{className:c().SliderTrack,children:e=>{let{state:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:c().SliderTrackFill,style:{width:1===t.values.length?100*t.getThumbPercent(0)+"%":(t.getThumbPercent(1)-t.getThumbPercent(0))*100+"%",left:1===t.values.length?0:100*t.getThumbPercent(0)+"%"}}),t.values.map((e,n)=>(0,r.jsx)(i.OQ,{index:n,"aria-label":null==l?void 0:l[n],className:c().SliderThumb,children:(0,r.jsx)(i.Vw,{className:c().SliderOutput,children:d?d({value:t.getThumbValueLabel(n)}):t.getThumbValueLabel(n)})},n))]})}})]}),!!(null==g?void 0:g.length)&&(0,r.jsx)("div",{className:c().InputContainers,children:g.map((e,t)=>{var n;let r=o()(v.value)?null==(n=v.value)?void 0:n[t]:v.value;return(0,a.createElement)(u.A,{...e.inputProps,key:e.id,className:c().Input,value:void 0!==r?String(r):"",onChange:e=>{if(v.onChange){let n=o()(v.value)?[...v.value]:[v.value];n[t]=Number(e);let r=o()(v.value)?n:n[0];v.onChange(r)}}})})})]})}},2634:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(95155),a=n(82855),i=n(25819),s=n.n(i);let l=(0,n(74466).F)(s().Button,{variants:{error:{true:s().Error,false:void 0}},defaultVariants:{}}),o=function(e){let{inputComponent:t,className:n,error:i,appendContent:o,prependContent:u,style:d}=e;return(0,r.jsxs)("div",{className:(0,a.t)(s().Container,n,l({error:i})),style:d,children:[u,(0,r.jsx)("div",{className:s().InputContainer,children:t}),o]})}},3005:e=>{e.exports={drawerOverlay:"Drawer_drawerOverlay__uw5Pn",drawerModal:"Drawer_drawerModal__ooXXP",drawerModalDark:"Drawer_drawerModalDark___erPg",drawerButton:"Drawer_drawerButton__wdLw8",drawerButtonMargin:"Drawer_drawerButtonMargin__X7x75",drawerDialogHeader:"Drawer_drawerDialogHeader__uaj6s",drawer:"Drawer_drawer__3gxEn",drawerTitle:"Drawer_drawerTitle__4Pq6O",drawerHeader:"Drawer_drawerHeader__6rzeg",drawerContent:"Drawer_drawerContent__rl34t",dragAffordance:"Drawer_dragAffordance__xcJh7",closeButton:"Drawer_closeButton__Ih_tZ"}},4407:e=>{e.exports={Container:"PhoneField_Container__EtH3i",Input:"PhoneField_Input__dCT3d",Button:"PhoneField_Button__O8Eae"}},7618:(e,t,n)=>{"use strict";n.d(t,{M:()=>a,KJ:()=>r}),JSON.parse('{"rE":"0.36.152-alpha"}').rE;let r=!0,a=!0},8889:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(95155),a=n(84555),i=n(96982),s=n(2634),l=n(10657),o=n.n(l);let u=function(e){let{className:t,prependContent:n,appendContent:l,style:u,...d}=e,c=d["aria-labelledby"]||d["aria-label"]||d.name||d.placeholder;return(0,r.jsx)(s.A,{className:t,error:d.error,prependContent:n,appendContent:l,style:{...u||{}},inputComponent:(0,r.jsx)(a.A,{"aria-labelledby":c||"Text Field",...d,className:o().TextField,children:(0,r.jsx)(i.p,{className:o().Input,max:d.max,min:d.min})})})}},8979:(e,t,n)=>{"use strict";n.d(t,{Ht:()=>h,As:()=>m.useAuth});var r=n(94971),a=n(95920),i=n(86266),s=n(48973),l=n.n(s),o=n(19587);let u="USER_DATA";var d=new WeakMap,c=new WeakMap;class h{constructor(e){(0,a._)(this,d,{writable:!0,value:void 0}),(0,a._)(this,c,{writable:!0,value:void 0}),(0,i._)(this,c,null),this.checkUserExists=e=>{let{phoneNumberWithCountryCode:t}=e;return(0,r._)(this,d).anonPost("/auth/user_exist_check?user_id=".concat(t)).then(e=>e.data)},this.generateOtp=e=>{let{phoneNumberWithCountryCode:t}=e;return this.setUserId({userId:t}),(0,r._)(this,d).anonPost("/auth/generate_otp?user_id=".concat(t),{user_id:t}).then(e=>e.data)},this.verifyOtp=async e=>{let{otp:t,token:n}=e;return(0,r._)(this,d).anonPost("/auth/verify_otp",{otp:t,user_id:this.getUserId()},{headers:{Authorization:"Bearer ".concat(n)}}).then(e=>e.data)},this.fetchUserDetails=()=>(0,r._)(this,d).post("/users/fetch_preferences",{user_id:this.getUserId()}).then(e=>({userPreferences:(0,o.vB)({userPreferences:e.data.data}).userPreferencesSanitized,success:!0})),this.saveUserDetails=e=>{let{userPreferences:t}=e,n={...t,user_id:this.getUserId()};return(0,r._)(this,d).put("/users/update_preferences",n).then(()=>({success:!0}))},this.saveUserDetailsPartial=e=>{let{userPreferences:t}=e,n={...t,user_id:this.getUserId()||""};return n=(0,o.vB)({userPreferences:n}).userPreferencesSanitized,(0,r._)(this,d).patch("/users/update_preferences_partial",n).then(()=>({success:!0}))},this.mockFetchUserDetails=()=>{let e=null;if("undefined"!=typeof localStorage)try{e=JSON.parse(localStorage.getItem("TENDERWISE:USER_DETAILS")||"{}")}catch(t){e=null}return this.fetchUserDetails(),(0,r._)(this,d).mockCall().then(()=>({userDetails:e}))},this.mockSaveUserDetails=e=>{let{userPreferences:t}=e;return"undefined"!=typeof localStorage&&localStorage.setItem("TENDERWISE:USER_DETAILS",JSON.stringify(t)),this.saveUserDetailsPartial({userPreferences:t}),(0,r._)(this,d).mockCall().then(()=>({success:!0}))},this.setUserId=e=>{let{userId:t}=e;return"undefined"!=typeof localStorage&&localStorage.setItem(u,JSON.stringify({user_id:t})),(0,i._)(this,c,t),(0,r._)(this,c)},this.getUserId=()=>{if("undefined"!=typeof localStorage)try{let e=JSON.parse(localStorage.getItem(u)||"{}"),t=l()(e,"user_id");(0,i._)(this,c,t)}catch(e){}return(0,r._)(this,c)},this.resetUserId=()=>("undefined"!=typeof localStorage&&localStorage.removeItem(u),(0,i._)(this,c,null),(0,r._)(this,c)),(0,i._)(this,d,e.apiService),this.getUserId()}}n(90183);var m=n(29629);n(32768)},10657:e=>{e.exports={TextField:"TextField_TextField__KvGkg",Input:"TextField_Input__xMalt"}},15616:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>m,sf:()=>o,l9:()=>d});var r=n(95155),a=n(12115),i=n(67959),s=n(72415),l=n(95279);let o=()=>(0,i.mN)(),u=(0,a.createContext)({}),d=()=>(0,a.useContext)(u),c=function(e){let{children:t,startWithLastIncompleteStep:n}=e,{values:i,errors:s,steps:d=[],activeStepIndex:c,activeStepId:h,gotToStep:m}=o(),g=(0,a.useRef)(!1),{stepsListValidationData:_,stepsValidationDataMap:p}=(0,a.useMemo)(()=>(0,l.m)({values:i,errors:s,steps:d}),[i,s,d]),f=(0,a.useMemo)(()=>h?p[h]:null,[h,p]),v=!f||(null==f?void 0:f.completed),y=c===d.length-1,x=(0,a.useMemo)(()=>d.sort((e,t)=>((null==e?void 0:e.order)||0)-((null==t?void 0:t.order)||0)).find((e,t)=>{let{completed:n}=_[t];return!n})||null,[d,_]),C=(0,a.useMemo)(()=>({isCurrentStepCompleted:v,stepsListValidationData:_,lastIncompleteStep:x,stepsValidationDataMap:p,isOnLastStep:y}),[v,_,x,p,y]);return(0,a.useEffect)(()=>{!g.current&&(null==x?void 0:x.id)&&n&&h!==(null==x?void 0:x.id)&&(m(null==x?void 0:x.id,{syncHistory:!0,replaceHistory:!0}),g.current=!0)},[null==x?void 0:x.id,m,h,n]),(0,r.jsx)(u.Provider,{value:C,children:t})},h=(0,a.forwardRef)(function(e,t){let{steps:n,initialStepId:l,extraFields:o,className:u,onStepChange:d,children:h,startWithLastIncompleteStep:m,...g}=e,[_,p]=(0,s.gk)("active_step",l),f=(0,a.useRef)(p);f.current=p;let v=(0,a.useRef)(null),y=(0,a.useRef)(null);(0,a.useRef)(null).current=g.initialValues,(0,a.useRef)(null).current={};let x=(0,a.useMemo)(()=>{let e=[...n];return e.sort((e,t)=>((null==e?void 0:e.order)||0)-((null==t?void 0:t.order)||0)),e},[n]),C=(0,a.useMemo)(()=>x.reduce((e,t)=>({...e,[t.id]:t}),{}),[x]),b=(0,a.useCallback)((e,t)=>{let n=e;for(;n>=0&&n<x.length;){var r,a;let e=x[n];if(!y.current||!e.canShowStepFunction)return{step:e,index:n};let{show:i}=e.canShowStepFunction({values:null==(r=y.current)?void 0:r.values,errors:null==(a=y.current)?void 0:a.errors});if(i)return{step:e,index:n};n="next"===t?n+1:n-1}return{step:null,index:n}},[x]),[A,I]=(0,a.useState)(()=>{var e,t;let n=x.find(e=>e.id===_),r=l||(null==n?void 0:n.id)||(null==(e=x[0])?void 0:e.id)||null,a=x.findIndex(e=>e.id===r),{step:i}=b(a,"previous"),s=i?i.id:(null==(t=x[0])?void 0:t.id)||null;return console.log("DEBUG FORM 1",{targetStepIndex:a,targetStep:i,finalStepId:s,activeStepFromParams:n,step:r}),s&&f.current(s,!0),s}),S=(0,a.useMemo)(()=>x.findIndex(e=>e.id===A)||0,[A,x]),w=(0,a.useRef)(A);w.current=A;let j=A?C[A]:null;console.log("DEBUG FORM 2",{activeStep:j,activeStepId:A});let N=(0,a.useCallback)((e,t)=>{I(e),(null==t?void 0:t.syncHistory)&&((null==t?void 0:t.replaceHistory)?f.current(e,!0):f.current(e,!1)),d&&d({activeStepId:e,activeStep:C[e]})},[d,C]),k=(0,a.useCallback)(()=>{if(0===S)return;let{step:e,index:t}=b(Math.max(0,S-1),"previous");!(t<0)&&e&&(N(x[t].id),f.current(x[t].id,!0))},[S,N,x,b]),T=(0,a.useCallback)(()=>{if(S===x.length-1)return;let{step:e,index:t}=b(Math.min(x.length-1,S+1),"next");!(t>=x.length)&&e&&(N(x[t].id),f.current(x[t].id,!1))},[S,N,x,b]),F=(0,a.useMemo)(()=>({...o,activeStepIndex:S,activeStepId:A,activeStep:j,nextStep:T,previousStep:k,gotToStep:N,stepFormRef:v,steps:x}),[o,S,A,j,T,k,N,x]);return(0,a.useImperativeHandle)(t,()=>(v.current={activeStepIndex:S,activeStepId:A,activeStep:j,nextStep:T,previousStep:k,gotToStep:N},v.current),[S,A,j,T,k,N]),(0,a.useEffect)(()=>{_&&_!==w.current&&N(_)},[_]),(0,r.jsx)(i.Ay,{...g,extraFields:F,initialValues:g.initialValues,ref:y,children:e=>{let{context:{submitForm:t}}=e;return(0,r.jsx)("form",{className:u,onSubmit:t,children:(0,r.jsx)(c,{startWithLastIncompleteStep:m,children:h?h({...e,children:(null==j?void 0:j.content)||null}):(0,r.jsx)(r.Fragment,{children:(null==j?void 0:j.content)||null})})})}})});h.displayName="StepForm";let m=h},17476:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(95155),a=n(6874),i=n(92532);let s=function(e){let{href:t,children:n,...a}=e;return(0,r.jsx)(i.N,{href:t,...a,children:n})}},17478:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});var r=n(95155),a=n(35695),i=n(22989);let s=function(e){let{children:t}=e,n=(0,a.useRouter)();return(0,r.jsx)(i.pg,{navigate:n.push,children:t})}},19587:(e,t,n)=>{"use strict";n.d(t,{tg:()=>c,vB:()=>d});var r=n(45009),a=n.n(r),i=n(48973),s=n.n(i),l=n(78966),o=n.n(l),u=n(93162);function d(e){let{userPreferences:t}=e,n=o()(t);["location.state","location.districts","location.town","location.locality","location.locality_village"].forEach(e=>{s()(n,e)||a()(n,e,[])});try{"string"==typeof n.keywords&&(n.keywords=JSON.parse(n.keywords)||[])}catch(e){n.keywords=[]}Array.isArray(n.emd)&&2===n.emd.length||(n.emd=[0,0]),Array.isArray(n.value)&&2===n.value.length||(n.value=[0,0]);try{if("string"==typeof n.authority_tenders_completed_count){let e=JSON.parse(n.authority_tenders_completed_count);n.authority_tenders_completed_count="number"==typeof e?String(e):"0"}}catch(e){n.authority_tenders_completed_count="0"}n.business_category||(n.business_category={}),n.product_category||(n.product_category={}),n.authority||(n.authority={});try{"string"==typeof n.metadata&&(n.metadata=JSON.parse(n.metadata)||{})}catch(e){n.metadata={}}return{userPreferencesSanitized:n}}function c(e){return u.F.some(t=>!!(e===t||e.startsWith(t+"/")))}},21178:e=>{e.exports={Error:"FormError_Error__eRI_X"}},25509:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(95155),a=n(61622),i=n(82855),s=n(67666),l=n(42113),o=n.n(l);let u={Container:function(e){let{className:t,children:n,...s}=e;return(0,r.jsx)(a.$Q,{className:(0,i.t)(o().Container,t),...s,children:n})},Option:function(e){let{className:t,children:n,...l}=e;return(0,r.jsx)(a.Sc,{className:(0,i.t)(o().Radio,t),...l,children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.A,{src:"/assets/images/icons/plus.svg",alt:"Info",height:16,width:16,className:o().Icon}),n]})})}}},25768:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(95155),a=n(65504),i=n(30704),s=n.n(i);n(12115);var l=n(47650),o=n(7618);let u=e=>{let{children:t,container:n=o.KJ?window.document.body:null}=e;return n?(0,l.createPortal)((0,r.jsx)(r.Fragment,{children:t}),n):t},d=function(){return(0,r.jsx)(u,{children:(0,r.jsx)("div",{className:s().Container,children:(0,r.jsx)(a.A,{})})})}},25819:e=>{e.exports={Container:"InputField_Container__17vUd",Error:"InputField_Error__pM6DW",InputContainer:"InputField_InputContainer__qs5nO"}},29545:(e,t,n)=>{"use strict";n.d(t,{default:()=>y});var r=n(95155),a=n(12115),i=n(17476),s=n(82855),l=n(65504),o=n(93162),u=n(55050),d=n(67666),c=n(35695),h=n(79510),m=n.n(h);let g=e=>{let{icon:t,label:n,link:a}=e,l=(0,c.usePathname)();return(0,r.jsxs)(i.A,{href:a,className:(0,s.t)(m().NavItem,a===l&&m().NavItemActive),children:[(0,r.jsx)(d.A,{className:m().Icon,src:t,alt:"",width:20,height:20}),(0,r.jsx)("span",{className:m().Label,children:n})]})},_=function(e){let{className:t}=e;return(0,r.jsx)("div",{className:t,children:(0,r.jsx)("div",{className:m().Container,children:(0,r.jsxs)("nav",{className:m().Nav,children:[(0,r.jsx)(g,{label:"Home",icon:"/assets/images/icons/home.svg",link:o.f.HOME_PAGE}),(0,r.jsx)(g,{label:"Search",icon:"/assets/images/icons/search.svg",link:o.f.TENDERS_PAGE}),(0,r.jsx)(g,{label:"My Tenders",icon:"/assets/images/icons/suitcase.svg",link:o.f.USER_DASHBOARD_PAGE}),(0,r.jsx)(g,{label:"My Profile",icon:"/assets/images/icons/user_outline.svg",link:o.f.PROFILE_PAGE})]})})})};var p=n(8979),f=n(37244),v=n.n(f);let y=function(e){let{children:t,className:n,mainClassName:h,appendHeader:m,appendActionButtons:g,showNotificationAction:f=!1,showSearchAction:y=!1,showLogo:x=!0,heading:C,showBackButton:b=!1}=e,{isAuthenticated:A}=(0,p.As)(),{back:I}=(0,c.useRouter)(),S=A&&y,w=(0,a.useRef)(null),j=(0,a.useRef)(null),N=(0,a.useRef)(null),k=(0,a.useRef)(0),T=(0,a.useCallback)(e=>{let t=e.target.scrollTop;t>k.current?(w.current&&w.current.classList.add("scroll-out"),j.current&&j.current.classList.add("scroll-out")):(w.current&&w.current.classList.remove("scroll-out"),j.current&&j.current.classList.remove("scroll-out")),k.current=t},[]),F=(0,a.useCallback)(()=>(0,r.jsx)("div",{className:v().HeaderContaier,children:(0,r.jsxs)("header",{ref:w,className:v().Header,children:[b&&(0,r.jsx)(u.A,{className:v().BackButton,color:"gray",onClick:I,children:(0,r.jsx)(d.A,{src:"/assets/images/icons/chevron_left.svg",alt:"Back",height:20,width:20})}),C,x&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.A,{href:o.f.HOME_PAGE,children:(0,r.jsx)(l.A,{})})," ",(0,r.jsx)(d.A,{src:"/assets/images/icons/pro_subscription_badge.svg",alt:"Pro Subscription Badge",height:24,width:24})]}),(0,r.jsxs)("div",{className:v().HeaderRightSection,children:[S&&(0,r.jsx)(u.A,{className:v().RoundButton,color:"gray",children:(0,r.jsx)(d.A,{src:"/assets/images/icons/search.svg",alt:"Info",height:18,width:18})}),!1,g]}),m]})}),[g,m,I,C,b,x,!1,S]);return(0,a.useEffect)(()=>{},[T]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:(0,s.t)(v().Outer,n),children:(0,r.jsx)("div",{className:(0,s.t)(v().Container,"container"),children:(0,r.jsx)("main",{ref:N,className:(0,s.t)(v().Main,h),children:t})})}),(0,r.jsx)(F,{}),A&&(0,r.jsx)("div",{ref:j,children:(0,r.jsx)(_,{className:v().AppTabBar})})]})}},29629:(e,t,n)=>{"use strict";n.d(t,{g:()=>a,j:()=>s,useAuth:()=>i});var r=n(12115);let a=(0,r.createContext)({}),i=()=>(0,r.useContext)(a),s=!1},30704:e=>{e.exports={Container:"FullscreenLoader_Container__l9D7Q",pulsating:"FullscreenLoader_pulsating__ucT_1"}},30816:(e,t,n)=>{"use strict";n.d(t,{$K:()=>ev,Az:()=>L,JR:()=>ed,JS:()=>X,KK:()=>eg,LY:()=>U,M8:()=>es,Oe:()=>Q,V8:()=>ep,WC:()=>eh,Wb:()=>eb,Y8:()=>V,_P:()=>J,b$:()=>eo,cb:()=>ea,dZ:()=>E,dm:()=>ex,fS:()=>en,oR:()=>z,p1:()=>H,x8:()=>R,yG:()=>ee});var r=n(15933),a=n(36112),i=n(88095),s=n(92213);function l(){let e=(0,r._)(["\n    mutation GenerateOtp($input: GenerateOtpInput!) {\n  generateOtp(input: $input) {\n    success\n    message\n    verificationId\n    expiresInSeconds\n  }\n}\n    "]);return l=function(){return e},e}function o(){let e=(0,r._)(["\n    mutation VerifyOtp($input: VerifyOtpInput!) {\n  verifyOtp(input: $input) {\n    accessToken\n    expiresIn\n    refreshToken\n    user {\n      id\n      email\n      firstName\n      lastName\n      phone\n    }\n  }\n}\n    "]);return o=function(){return e},e}function u(){let e=(0,r._)(["\n    mutation RefreshToken($input: RefreshTokenInput!) {\n  refreshToken(input: $input) {\n    accessToken\n    expiresIn\n    refreshToken\n  }\n}\n    "]);return u=function(){return e},e}function d(){let e=(0,r._)(["\n    mutation SaveUserProfile($input: SaveUserProfileInput!) {\n  saveUserProfile(input: $input) {\n    success\n    message\n    profile {\n      user {\n        id\n        firstName\n        lastName\n        email\n        languageId\n        phone\n      }\n      businessDetails {\n        id\n        name\n        description\n        businessTypeId\n        gstNumber\n        annualTurnoverInInr\n        websiteUrl\n      }\n      tenderPreference {\n        id\n        radiusFromLocationInKm\n        minEmdInInr\n        maxEmdInInr\n        minTenderValueInInr\n        maxTenderValueInInr\n        stateIds\n        cityIds\n        townIds\n        categoryIds\n        subcategoryIds\n        keywordIds\n        authorityBodyIds\n        metadata\n      }\n    }\n    errors\n  }\n}\n    "]);return d=function(){return e},e}function c(){let e=(0,r._)(["\n    mutation UpdateUserDetails($input: UpdateUserDetailsInput!) {\n  updateUserDetails(input: $input) {\n    success\n    message\n    profile {\n      user {\n        id\n        firstName\n        lastName\n        email\n        languageId\n      }\n    }\n    errors\n  }\n}\n    "]);return c=function(){return e},e}function h(){let e=(0,r._)(["\n    query GetAuthorityBodyCategories($filters: AuthorityBodyCategoryFilters) {\n  authorityBodyCategories(filters: $filters) {\n    id\n    name\n    isActive\n  }\n}\n    "]);return h=function(){return e},e}function m(){let e=(0,r._)(["\n    query GetAuthorityBodies($filters: AuthorityBodyFilters) {\n  authorityBodies(filters: $filters) {\n    id\n    name\n    isActive\n    categories(filters: {isActive: true}) {\n      id\n      name\n      isActive\n    }\n  }\n}\n    "]);return m=function(){return e},e}function g(){let e=(0,r._)(["\n    query GetTenderCategories($filters: TenderCategoryFilters) {\n  tenderCategories(filters: $filters) {\n    id\n    name\n    isActive\n    businessCategories {\n      id\n      localizedNameId\n      isActive\n    }\n  }\n}\n    "]);return g=function(){return e},e}function _(){let e=(0,r._)(["\n    query GetBusinessCategories($filters: BusinessCategoryFilters) {\n  businessCategories(filters: $filters) {\n    id\n    name\n  }\n}\n    "]);return _=function(){return e},e}function p(){let e=(0,r._)(["\n    query GetBusinessSubCategories($filters: BusinessSubcategoryFilters) {\n  businessSubcategories(filters: $filters) {\n    id\n    name\n    isActive\n  }\n}\n    "]);return p=function(){return e},e}function f(){let e=(0,r._)(["\n    query GetTenderSubcategories($filters: TenderSubcategoryFilters) {\n  tenderSubcategories(filters: $filters) {\n    id\n    name\n    isActive\n  }\n}\n    "]);return f=function(){return e},e}function v(){let e=(0,r._)(["\n    query GetBusinessTypes($filters: BusinessTypeFilters) {\n  businessTypes(filters: $filters) {\n    id\n    name\n    isActive\n  }\n}\n    "]);return v=function(){return e},e}function y(){let e=(0,r._)(["\n    query UserTenderLocationFiltersHierarchical($locationFilters: UserTenderLocationStateFilters) {\n  userTenderLocationFiltersHierarchical(filters: $locationFilters) {\n    states {\n      id\n      name\n      cities {\n        id\n        name\n        towns {\n          id\n          name\n        }\n      }\n    }\n  }\n}\n    "]);return y=function(){return e},e}function x(){let e=(0,r._)(["\n    query UserTenderCategoryFiltersHierarchical($categoryFilters: UserTenderCategoryFilters) {\n  userTenderCategoryFiltersHierarchical(filters: $categoryFilters) {\n    categories {\n      id\n      name\n      subcategories {\n        id\n        name\n      }\n    }\n  }\n}\n    "]);return x=function(){return e},e}function C(){let e=(0,r._)(["\n    query UserTenderAuthorityFiltersHierarchical($authorityFilters: UserTenderAuthorityFilters) {\n  userTenderAuthorityFiltersHierarchical(filters: $authorityFilters) {\n    authorities {\n      id\n      name\n      departments {\n        id\n        name\n      }\n    }\n  }\n}\n    "]);return C=function(){return e},e}function b(){let e=(0,r._)(["\n    query UserBusinessCategoryFiltersHierarchical($businessCategoryFilters: UserTenderBusinessCategoryFilters) {\n  userBusinessCategoryFiltersHierarchical(filters: $businessCategoryFilters) {\n    categories {\n      id\n      name\n      subcategories {\n        id\n        name\n      }\n    }\n  }\n}\n    "]);return b=function(){return e},e}function A(){let e=(0,r._)(["\n    query GetTenderKeywords($filters: TenderKeywordFilters) {\n  tenderKeywords(filters: $filters) {\n    id\n    name\n    isActive\n  }\n}\n    "]);return A=function(){return e},e}function I(){let e=(0,r._)(["\n    query GetLanguages($filters: LanguageFilters) {\n  languages(filters: $filters) {\n    id\n    name\n    code\n    nativeName\n    isActive\n  }\n}\n    "]);return I=function(){return e},e}function S(){let e=(0,r._)(["\n    query GetLocationStates($filters: LocationStateFilters) {\n  states(filters: $filters) {\n    id\n    name\n    isActive\n  }\n}\n    "]);return S=function(){return e},e}function w(){let e=(0,r._)(["\n    query GetLocationCities($filters: LocationCityFilters) {\n  cities(filters: $filters) {\n    id\n    name\n    isActive\n  }\n}\n    "]);return w=function(){return e},e}function j(){let e=(0,r._)(["\n    query GetLocationTowns($filters: LocationTownFilters) {\n  towns(filters: $filters) {\n    id\n    name\n    isActive\n  }\n}\n    "]);return j=function(){return e},e}function N(){let e=(0,r._)(["\n    query GetMyProfile {\n  myProfile {\n    user {\n      id\n      firstName\n      lastName\n      email\n      languageId\n      phone\n      createdAt\n      updatedAt\n    }\n    businessDetails {\n      id\n      name\n      description\n      businessTypeId\n      gstNumber\n      annualTurnoverInInr\n      websiteUrl\n      categoryIds\n      subcategoryIds\n      startDate\n      metadata\n    }\n    tenderPreference {\n      id\n      radiusFromLocationInKm\n      minEmdInInr\n      maxEmdInInr\n      minTenderValueInInr\n      maxTenderValueInInr\n      stateIds\n      cityIds\n      townIds\n      categoryIds\n      subcategoryIds\n      keywordIds\n      authorityBodyIds\n      metadata\n    }\n    workOrders {\n      id\n      name\n      type\n      isDone\n      metadata\n    }\n  }\n}\n    "]);return N=function(){return e},e}function k(){let e=(0,r._)(["\n    query UserTenderRangeFilterIntervalCounts($filters: UserTenderRangeFilterIntervalCountsFiltersInput, $intervals: Float) {\n  userTenderRangeFilterIntervalCounts(filters: $filters, intervals: $intervals) {\n    emd {\n      count\n      start\n      end\n    }\n    tenderValue {\n      count\n      start\n      end\n    }\n  }\n}\n    "]);return k=function(){return e},e}function T(){let e=(0,r._)(["\n    query GetTenders($filters: TenderFilters) {\n  tenders(filters: $filters) {\n    data {\n      id\n      title\n      description\n      tenderValueInInr\n      emdValueInInr\n      publishedDate\n      bidSubmissionStartDate\n      bidSubmissionEndDate\n      workPeriodInDays\n      bidOpeningPlace\n      tenderPlatformId\n      metadata\n      userScore\n      locationCity {\n        id\n        name\n      }\n      locationTown {\n        id\n        name\n      }\n      locationState {\n        id\n        name\n      }\n    }\n    total\n    page\n  }\n}\n    "]);return T=function(){return e},e}function F(){let e=(0,r._)(["\n    query GetTenderById($filters: TenderFilters) {\n  tender(filters: $filters) {\n    id\n    createdAt\n    updatedAt\n    sourcePlatformId\n    title\n    description\n    tenderValueInInr\n    emdValueInInr\n    publishedDate\n    bidSubmissionStartDate\n    bidSubmissionEndDate\n    workPeriodInDays\n    bidOpeningPlace\n    tenderPlatformId\n    locationStateId\n    locationCityId\n    locationTownId\n    authorityBodyId\n    metadata\n    isActive\n    categories {\n      id\n      name\n      localizedNameId\n      createdAt\n      updatedAt\n      isActive\n      localizedContent {\n        id\n        referenceId\n      }\n    }\n    subcategories {\n      id\n      name\n      localizedNameId\n      createdAt\n      updatedAt\n      isActive\n      localizedContent {\n        id\n        referenceId\n      }\n    }\n    keywords {\n      id\n      name\n      createdAt\n      updatedAt\n      isActive\n      localizedContentId\n      localizedContent {\n        id\n        referenceId\n      }\n    }\n    sourcePlatform {\n      id\n      name\n      uniqueName\n      description\n      metadata\n      isActive\n      createdAt\n      updatedAt\n    }\n    locationState {\n      id\n      name\n      localizedNameId\n      createdAt\n      updatedAt\n      isActive\n      localizedContent {\n        id\n        referenceId\n      }\n    }\n    locationCity {\n      id\n      name\n      localizedNameId\n      createdAt\n      updatedAt\n      isActive\n      localizedContent {\n        id\n        referenceId\n      }\n    }\n    locationTown {\n      id\n      name\n      localizedNameId\n      createdAt\n      updatedAt\n      isActive\n      localizedContent {\n        id\n        referenceId\n      }\n    }\n    authorityBody {\n      id\n      name\n      localizedNameId\n      createdAt\n      updatedAt\n      isActive\n      localizedContent {\n        id\n        referenceId\n      }\n    }\n    files {\n      id\n      fileType\n      file {\n        id\n        name\n        path\n        mimeType\n        sizeInBytes\n        createdAt\n        updatedAt\n        url\n      }\n    }\n  }\n}\n    "]);return F=function(){return e},e}let B={},P=(0,a.J1)(l());function E(e){let t={...B,...e};return(0,i.n)(P,t)}let O=(0,a.J1)(o());function R(e){let t={...B,...e};return(0,i.n)(O,t)}(0,a.J1)(u());let D=(0,a.J1)(d());function L(e){let t={...B,...e};return(0,i.n)(D,t)}(0,a.J1)(c());let M=(0,a.J1)(h());function U(e){let t={...B,...e};return(0,s.I)(M,t)}let G=(0,a.J1)(m());function H(e){let t={...B,...e};return(0,s.I)(G,t)}let W=(0,a.J1)(g());function J(e){let t={...B,...e};return(0,s.I)(W,t)}let $=(0,a.J1)(_());function V(e){let t={...B,...e};return(0,s.I)($,t)}let q=(0,a.J1)(p());function z(e){let t={...B,...e};return(0,s.I)(q,t)}let K=(0,a.J1)(f());function Q(e){let t={...B,...e};return(0,s.I)(K,t)}let Z=(0,a.J1)(v());function X(e){let t={...B,...e};return(0,s.I)(Z,t)}let Y=(0,a.J1)(y());function ee(e){let t={...B,...e};return(0,s.I)(Y,t)}let et=(0,a.J1)(x());function en(e){let t={...B,...e};return(0,s.I)(et,t)}let er=(0,a.J1)(C());function ea(e){let t={...B,...e};return(0,s.I)(er,t)}(0,a.J1)(b());let ei=(0,a.J1)(A());function es(e){let t={...B,...e};return(0,s.I)(ei,t)}let el=(0,a.J1)(I());function eo(e){let t={...B,...e};return(0,s.I)(el,t)}let eu=(0,a.J1)(S());function ed(e){let t={...B,...e};return(0,s.I)(eu,t)}let ec=(0,a.J1)(w());function eh(e){let t={...B,...e};return(0,s.I)(ec,t)}let em=(0,a.J1)(j());function eg(e){let t={...B,...e};return(0,s.I)(em,t)}let e_=(0,a.J1)(N());function ep(e){let t={...B,...e};return(0,s.I)(e_,t)}let ef=(0,a.J1)(k());function ev(e){let t={...B,...e};return(0,s.I)(ef,t)}let ey=(0,a.J1)(T());function ex(e){let t={...B,...e};return(0,s.I)(ey,t)}let eC=(0,a.J1)(F());function eb(e){let t={...B,...e};return(0,s.I)(eC,t)}},32701:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(95155),a=n(8889),i=n(67666),s=n(55050);let l=function(e){return(0,r.jsx)(a.A,{placeholder:"Search",...e,prependContent:(0,r.jsx)(i.A,{src:"/assets/images/icons/search.svg",alt:"Search",height:18,width:18}),appendContent:e.value?(0,r.jsx)(s.A,{variant:"ghost",onClick:()=>{e.onChange&&e.onChange("")},children:(0,r.jsx)(i.A,{src:"/assets/images/icons/cross.svg",alt:"Close",height:18,width:18})}):null})}},32768:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});var r=n(12115),a=n(26072),i=n(86906);let s=function(){let{data:e,isLoading:t,error:n,mutate:s}=(0,a.Ay)("/user_info/fetch",()=>i.a.fetchUserDetails(),{errorRetryCount:1,revalidateOnFocus:!1,shouldRetryOnError:!1});return{data:e,isLoading:t,error:n,update:(0,r.useCallback)(async e=>{await i.a.saveUserDetails({userPreferences:e}),s({userPreferences:e,success:!0})},[s])}}},37244:e=>{e.exports={Outer:"Layout_Outer__NjEpg",Container:"Layout_Container__8QhIo",CommonContainer:"Layout_CommonContainer__bq4CX",HeaderContaier:"Layout_HeaderContaier__ZzNUx",Header:"Layout_Header__f_3V0",Main:"Layout_Main__KyruP",HeaderRightSection:"Layout_HeaderRightSection__ocSBD",RoundButton:"Layout_RoundButton__6Bjo4",AppTabBar:"Layout_AppTabBar__i6Dk4",BackButton:"Layout_BackButton__flrGI",FormContainer:"Layout_FormContainer__8ims9"}},39922:(e,t,n)=>{"use strict";n.d(t,{A:()=>r.default});var r=n(29545)},42113:e=>{e.exports={Container:"CheckboxGroup_Container__A2IZP",Radio:"CheckboxGroup_Radio__hXNNi",Icon:"CheckboxGroup_Icon__W8OBx"}},44377:(e,t,n)=>{"use strict";n.d(t,{GraphqlProvider:()=>s});var r=n(95155),a=n(43565),i=n(86906);function s(e){let{children:t}=e;return(0,r.jsx)(a.X,{client:i.qh.getClient(),children:t})}},49836:(e,t,n)=>{"use strict";n.d(t,{default:()=>d});var r=n(95155),a=n(38155),i=n(82855),s=n(17476),l=n(90147),o=n.n(l);let u=(0,n(74466).F)(o().Button,{variants:{variant:{primary:o().ButtonPrimary,secondary:o().ButtonSecondary,ghost:o().ButtonGhost},disabled:{true:o().ButtonDisabled,false:void 0},size:{sm:o().ButtonSmall,md:o().ButtonMedium,lg:o().ButtonLarge},color:{primary:o().ButtonColorPrimary,black:o().ButtonBlack,gray:o().ButtonGray,red:o().ButtonRed}},defaultVariants:{color:"primary",variant:"primary",size:"md"}}),d=function(e){let{children:t,className:n,variant:l,size:d,fakeDisabled:c,color:h,linkProps:m,...g}=e,{..._}=g,p=g.disabled||!1;return m?(0,r.jsx)(s.A,{...m,isDisabled:p,className:(0,i.t)(o().Button,u({variant:l,disabled:c||p,size:d,color:h}),n),children:t}):(0,r.jsx)(a.$,{isDisabled:p,className:(0,i.t)(o().Button,u({variant:l,disabled:c||p,size:d,color:h}),n),..._,children:t})}},50418:e=>{e.exports={Layout:"AuthenticationPage_Layout__7Pyd_",Main:"AuthenticationPage_Main__gll00",FormContainer:"AuthenticationPage_FormContainer__NwHe6"}},55050:(e,t,n)=>{"use strict";n.d(t,{A:()=>r.default});var r=n(49836);n(12115)},61413:(e,t,n)=>{"use strict";n.d(t,{U:()=>p,A:()=>g});var r=n(95155),a=n(12115),i=n(7628),s=n(68265),l=n(82855),o=n(55050),u=n(67666),d=n(8889),c=n(94213),h=n.n(c);let m=e=>e.toLowerCase().replace(/[^\w\s]/gi,"").trim(),g=function(e){let{className:t,options:n,title:c,optionSections:g=[],value:_,searchLabel:p,searchPlaceholder:f,id:v,...y}=e,[x,C]=(0,a.useState)(""),b=(0,a.useMemo)(()=>{let e=n.map(e=>e.value);return(_||[]).filter(t=>e.includes(t))},[n,_]),A=(0,a.useMemo)(()=>n.filter(e=>(function(e,t){let n=m(e),r=m(t);return n.includes(r)||r.includes(n)})(e.name,x)),[n,x]),I=(0,a.useMemo)(()=>g.length?g.map((e,t)=>{let{name:n,optionNames:i}=e,o=i.filter(e=>e.toLocaleLowerCase().includes(x.toLocaleLowerCase()));return o.length?(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)("div",{className:(0,l.t)(h().SectionTitle,"mt-3"),children:n}),(0,r.jsx)("div",{className:(0,l.t)(h().OptionContainer,"mt-3"),children:o.map((e,t)=>(0,r.jsx)(s.A.Option,{value:e,children:e},t))}),(0,r.jsx)("hr",{className:"my-3"})]},t):null}):null,[g,x]),S=!!(null==b?void 0:b.length),w=S?(0,r.jsx)(u.A,{className:(0,l.t)(h().Icon,h().IconWhenClosed),src:"/assets/images/icons/edit.svg",alt:"Add items",width:16,height:16}):(0,r.jsx)(u.A,{className:(0,l.t)(h().Icon,h().IconWhenClosed),src:"/assets/images/icons/plus.svg",alt:"Edit items",width:16,height:16}),j=n.length>8;return(0,r.jsxs)(i.EN,{id:v,className:(0,l.t)(h().Card,t,S&&h().CardWithValue),children:[(0,r.jsxs)("div",{className:h().Title,children:[c,(0,r.jsxs)(o.A,{slot:"trigger",size:"sm",variant:"ghost",children:[w,(0,r.jsx)(u.A,{className:(0,l.t)(h().Icon,h().IconWhenOpen),src:"/assets/images/icons/minus.svg",alt:"Edit items",width:16,height:16})]})]}),(0,r.jsxs)(i.kS,{className:h().ContentContainer,children:[j&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{className:h().SectionTitle,htmlFor:"search-field",children:p||"Search"}),(0,r.jsx)(d.A,{id:"search-field",className:"mt-2 mb-4",placeholder:f||"Type here to search",value:x,onChange:C})]}),(0,r.jsx)(s.A.Container,{...y,value:b,children:(0,r.jsxs)("div",{children:[I,(0,r.jsx)("div",{className:(0,l.t)(h().OptionContainer),children:A.map((e,t)=>{let{name:n,value:a}=e;return(0,r.jsx)(s.A.Option,{value:a||n,children:n},t)})})]})})]})]})};var _=n(78066);let p=function(e){let{className:t}=e;return(0,r.jsx)("div",{className:(0,l.t)(h().Card,h().CardWithValue,t),children:(0,r.jsxs)("div",{className:h().Title,children:[(0,r.jsx)(_.A.Default,{style:{width:"5rem",height:"1.75rem"}}),(0,r.jsx)(_.A.Circular,{size:"1.25rem"})]})})}},61781:e=>{e.exports={Container:"OtpField_Container__eAguj",Input:"OtpField_Input__xzhuh"}},62213:e=>{e.exports={Loader:"ShimmerLoader_Loader__4_Scx",shimmer:"ShimmerLoader_shimmer__jNnZO",CircularLoader:"ShimmerLoader_CircularLoader__0d7x8"}},65504:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(95155),a=n(67666);let i=function(e){let{className:t}=e;return(0,r.jsx)(a.A,{className:t,src:"/assets/images/branding/tenderwise_logo.svg",alt:"Tenderwise logo",height:40,width:140})}},66758:(e,t,n)=>{"use strict";n.d(t,{cs:()=>o,oC:()=>v,WS:()=>p,s_:()=>m,FX:()=>h});var r=n(94971),a=n(95920),i=n(86266),s=new WeakMap,l=new WeakMap;class o{constructor(e){(0,a._)(this,s,{writable:!0,value:void 0}),(0,a._)(this,l,{writable:!0,value:void 0}),this.fetchTendersList=e=>{let{limit:t=30,offset:n=0}=e;return(0,r._)(this,s).post("/tenders/view_all_tenders",{user_id:(0,r._)(this,l).getUserId(),limit:t,offset:n}).then(e=>({tenders:e.data}))},this.fetchTenderById=e=>{let{tenderId:t}=e;return(0,r._)(this,s).post("/tenders/single_page_view",{user_id:(0,r._)(this,l).getUserId(),tender_id:t}).then(e=>({tendersDetails:e.data}))},this.addTenderToInterestedList=e=>{let{tenderId:t}=e;return(0,r._)(this,s).post("/tenders/add_event",{user_id:(0,r._)(this,l).getUserId(),tender_id:t,event_type:"interest",event_data:{interest:"yes"}})},this.removeTenderFromInterestedList=e=>{let{tenderId:t}=e;return(0,r._)(this,s).post("/tenders/add_event",{user_id:(0,r._)(this,l).getUserId(),tender_id:t,event_type:"interest",event_data:{interest:"no"}})},this.createWorkOrder=e=>(0,r._)(this,s).post("/users/work-orders",{user_id:(0,r._)(this,l).getUserId(),...e}),this.getWorkOrderById=e=>{let{workOrderId:t}=e;return(0,r._)(this,s).post("/users/work-orders/get",{user_id:(0,r._)(this,l).getUserId(),work_order_id:t})},this.getWorkOrders=()=>(0,r._)(this,s).post("/users/work-orders/list",{user_id:(0,r._)(this,l).getUserId()}),this.updateWorkOrder=e=>(0,r._)(this,s).post("/users/work-orders/update",{user_id:(0,r._)(this,l).getUserId(),...e}),this.deleteWorkOrder=e=>{let{workOrderId:t}=e;return(0,r._)(this,s).post("/users/work-orders/delete",{user_id:(0,r._)(this,l).getUserId(),work_order_id:t})},this.calculateTenderScore=e=>{let{tenderId:t}=e;return(0,r._)(this,s).post("/tender/calculate-score",{tenderId:t}).then(e=>e.data)},(0,i._)(this,s,e.apiService),(0,i._)(this,l,e.authenticationService)}}var u=n(12115),d=n(30816),c=n(80609);let h=function(){var e,t,n;let{filters:r={limit:5}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{tenderFilters:a}=(0,c.Z0)(),i=(0,u.useMemo)(()=>({locationCityIds:a.selectedCityIds||[],authorityBodyIds:a.selectedSubAuthorityIds||[],minValue:a.minValue,maxValue:a.maxValue,minEmd:a.minEmd,maxEmd:a.maxEmd,minDistanceRadius:a.minDistanceRadius,maxDistanceRadius:a.maxDistanceRadius,limit:null==r?void 0:r.limit,page:null==r?void 0:r.page,search:null==r?void 0:r.search}),[r,a]),{data:s,error:l,loading:o,refetch:h,networkStatus:m}=(0,d.dm)({variables:{filters:i},fetchPolicy:"cache-and-network",notifyOnNetworkStatusChange:!0}),g=(null==s||null==(e=s.tenders)?void 0:e.data)||[],_=o&&!s,p=o&&!!s,f=!o&&(!s||!g.length);return{tenders:g,error:l,isLoading:_,isUpdating:p,refresh:()=>h(),noData:f,networkStatus:m,page:(null==s||null==(t=s.tenders)?void 0:t.page)||0,total:(null==s||null==(n=s.tenders)?void 0:n.total)||0}},m=function(e){let{tenderId:t}=e,{data:n,error:r,loading:a,refetch:i,networkStatus:s}=(0,d.Wb)({variables:{filters:{ids:t?[t]:[]}},skip:!t,fetchPolicy:"cache-and-network",notifyOnNetworkStatusChange:!0}),l=(null==n?void 0:n.tender)||null,o=a&&!n;return{tenderDetails:l,error:r,isLoading:o,isUpdating:a&&!!n,refresh:()=>i(),noData:!a&&!l,networkStatus:s}};var g=n(86906),_=n(26072);let p=function(e){let{tenderId:t}=e,{data:n,error:r,isLoading:a,mutate:i}=(0,_.Ay)(t?"tender-calculate-score-".concat(t):null,async()=>{if(!t)throw Error("Tender ID is required");return await g.av.calculateTenderScore({tenderId:t})},{revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateOnMount:!1,revalidateIfStale:!1,refreshInterval:0}),s=n||null;return{scoreData:s,error:r,isLoading:a,isUpdating:a&&!!n,refresh:()=>i(),noData:!a&&!s}};var f=n(93162);function v(e){let{tenderId:t}=e;return"".concat(f.f.TENDERS_PAGE,"/details?tender_id=").concat(t)}},67666:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(95155),a=n(66766);let i=function(e){let{src:t,alt:n,width:i,height:s,className:l,style:o}=e;return(0,r.jsx)(a.default,{src:t,alt:n,width:i,height:s,className:l,style:o})}},67959:(e,t,n)=>{"use strict";n.d(t,{jQ:()=>f,Ay:()=>m,mN:()=>c});var r=n(95155),a=n(12115),i=n(49694),s=n(40139),l=n.n(s),o=n(48973),u=n.n(o);let d=a.createContext({});function c(){return a.useContext(d)}let h=(0,a.forwardRef)(function(e,t){let{initialValues:n={},yupValidationSchema:s,children:o,onSubmit:c,extraFields:h,onChange:m}=e,g=(0,a.useCallback)(e=>{c&&c(e)},[c]),_=(0,i.Wx)({initialValues:n,onSubmit:g,validationSchema:s,validateOnMount:!0}),{values:p,errors:f,touched:v,setFieldValue:y,handleSubmit:x,setFieldTouched:C}=_,b=(0,a.useCallback)(e=>!!u()(f,e,!1)&&!!u()(v,e,!1),[f,v]),A=!!Object.keys(f).length,I=(0,a.useMemo)(()=>({values:p,errors:f,touched:v,setFieldValue:y,submitForm:x,setFieldTouched:C,touchedAndHasError:b,hasError:A,...h}),[p,f,v,y,x,C,b,h,A]);return(0,a.useImperativeHandle)(t,()=>I,[I]),(0,a.useEffect)(()=>{m&&m(p,{hasError:A})},[m,p,A]),(0,r.jsx)(d.Provider,{value:I,children:(0,r.jsx)(i.QI,{value:_,children:l()(o)?o({context:I}):o})})}),m=(0,a.forwardRef)(function(e,t){return(0,r.jsx)(h,{...e,ref:t})});var g=n(82855),_=n(21178),p=n.n(_);let f=e=>{let{fieldKey:t,className:n,children:a}=e,{touchedAndHasError:i,errors:s}=c(),l=u()(s,t);return l&&i(t)?(0,r.jsx)("div",{className:(0,g.t)(p().Error,n),children:a||l}):null}},68265:(e,t,n)=>{"use strict";n.d(t,{k:()=>u,A:()=>r.A});var r=n(25509),a=n(95155),i=n(82855),s=n(78066),l=n(42113),o=n.n(l);let u=function(e){let{className:t}=e;return(0,a.jsxs)("div",{className:(0,i.t)(o().Container,t),children:[(0,a.jsx)(s.A.Default,{style:{height:"2.875rem",width:"7rem",borderRadius:".5rem"}}),(0,a.jsx)(s.A.Default,{style:{height:"2.875rem",width:"10rem",borderRadius:".5rem"}}),(0,a.jsx)(s.A.Default,{style:{height:"2.875rem",width:"12rem",borderRadius:".5rem"}}),(0,a.jsx)(s.A.Default,{style:{height:"2.875rem",width:"7rem",borderRadius:".5rem"}}),(0,a.jsx)(s.A.Default,{style:{height:"2.875rem",width:"10rem",borderRadius:".5rem"}}),(0,a.jsx)(s.A.Default,{style:{height:"2.875rem",width:"12rem",borderRadius:".5rem"}}),(0,a.jsx)(s.A.Default,{style:{height:"2.875rem",width:"7rem",borderRadius:".5rem"}})]})}},71273:e=>{e.exports={Container:"Slider_Container__s_wBb",Slider:"Slider_Slider__32NR5",SliderBarGraph:"Slider_SliderBarGraph__snf3O",SliderOutput:"Slider_SliderOutput__kUyBg",SliderTrack:"Slider_SliderTrack__1AgbF",SliderThumb:"Slider_SliderThumb__J2IK0",SliderLabel:"Slider_SliderLabel__RL6i2",SliderTrackFill:"Slider_SliderTrackFill__83xOz",InputContainers:"Slider_InputContainers__HqXgT",Input:"Slider_Input__z_tD5"}},72074:(e,t,n)=>{"use strict";n.d(t,{A:()=>j});var r=n(15933),a=n(95155),i=n(75862),s=n(62483),l=n(8619),o=n(30672),u=n(6464),d=n(16242),c=n(95056),h=n(19114),m=n(77695),g=n(62538),_=n(74121),p=n(82855),f=n(55050),v=n(67666),y=n(3005),x=n.n(y);function C(){let e=(0,r._)(["rgba(0, 0, 0, ",")"]);return C=function(){return e},e}let b=i.P.create(g.aF),A=i.P.create(g.mH),I={type:"inertia",bounceStiffness:300,bounceDamping:40,timeConstant:300},S={duration:.5,ease:(0,s.A)(.32,.72,0,1)},w="undefined"!=typeof document?document.querySelector("body > div:first-of-type"):null;function j(e){let{isOpen:t,children:n,onOpenChange:r,className:i,title:s}=e,g=window.innerHeight-34,y=(0,l.d)(g),j=(0,o.G)(y,[0,g],[.4,0]),N=(0,u.E)(C(),j),k=(0,d.m)(),T=(0,o.G)(y,[0,g],[(window.innerWidth-34)/window.innerWidth,1]),F=(0,o.G)(y,[0,g],[22,0]),B=(0,o.G)(y,[0,g],[12,0]);return(0,c.L)(T,"change",e=>{w&&(w.style.scale="".concat(e))}),(0,c.L)(F,"change",e=>{w&&(w.style.translate="0 ".concat(e,"px"))}),(0,c.L)(B,"change",e=>{w&&(w.style.borderRadius="".concat(e,"px"))}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.N,{children:t&&(0,a.jsx)(A,{isOpen:!0,onOpenChange:r,className:x().drawerOverlay,style:{backgroundColor:N},children:(0,a.jsx)(b,{className:x().drawerModal,initial:{y:g},animate:{y:0},exit:{y:g},transition:S,style:{y,top:34,paddingBottom:window.screen.height},drag:"y",dragConstraints:{top:0},dragListener:!1,dragControls:k,onDragEnd:(e,t)=>{let{offset:n,velocity:a}=t;n.y>.75*window.innerHeight||a.y>10?r(!1):(0,m.i)(y,0,{...I,min:0,max:0})},dragDirectionLock:!0,children:(0,a.jsxs)(_.lG,{"aria-label":"Drawer",className:(0,p.t)(x().drawer,i),children:[(0,a.jsx)("div",{className:x().dragAffordance,onPointerDown:e=>{k.start(e)},style:{touchAction:"none",cursor:"grab"}}),(0,a.jsx)("div",{className:x().drawerHeader,children:(0,a.jsxs)("div",{className:x().drawerTitle,children:[s,(0,a.jsx)(f.A,{className:x().closeButton,variant:"ghost",size:"sm",onClick:()=>{r(!1)},children:(0,a.jsx)(v.A,{src:"/assets/images/icons/cross.svg",alt:"Info",height:20,width:20})})]})}),(0,a.jsx)("div",{className:x().drawerContent,style:{overflowY:"auto",WebkitOverflowScrolling:"touch",touchAction:"pan-y"},onPointerDown:e=>{e.stopPropagation()},children:n})]})})})}),!1]})}},72415:(e,t,n)=>{"use strict";n.d(t,{gk:()=>r.useParamState}),n(17478),n(45009),n(12115);var r=n(369)},78066:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(95155);n(12115);var a=n(82855),i=n(62213),s=n.n(i);let l={Default:e=>{let{style:t,className:n,children:i}=e;return(0,r.jsx)("div",{style:t,className:(0,a.t)(n,s().Loader),children:i})},Circular:e=>{let{size:t="4rem",style:n={},className:i,children:l}=e;return(0,r.jsx)("div",{style:{...n,"--size":t},className:(0,a.t)(i,s().Loader,s().CircularLoader),children:l})}}},79510:e=>{e.exports={Nav:"AppTabBar_Nav__MRdug",Container:"AppTabBar_Container__2UFXP",NavItem:"AppTabBar_NavItem__abfL3",NavItemActive:"AppTabBar_NavItemActive__x0oKN",Label:"AppTabBar_Label__4bL65",Icon:"AppTabBar_Icon__Sfl98"}},80609:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>O,Z0:()=>g});var r=n(95155),a=n(71411),i=n(82855),s=n(67666),l=n(78066),o=n(12115),u=n(72415);let d=(0,o.createContext)({}),c=()=>(0,o.useContext)(d);var h=function(e){return e.Default="",e.AllTenders="all_tenders",e.AllFilters="all_filters",e.ByCategory="by_category",e.ByAuthority="by_authority",e.ByLocation="by_location",e}({});let m={selectedSubCategoryIds:[],selectedSubAuthorityIds:[],selectedCityIds:[],minDistanceRadius:void 0,maxDistanceRadius:void 0,minEmd:void 0,maxEmd:void 0,minValue:void 0,maxValue:void 0},g=function(){let[e,t]=(0,u.gk)("tender_filters",{}),[n,r]=(0,o.useState)(e),a=(0,o.useCallback)(e=>{t(e),r(e)},[t]),i=(0,o.useCallback)(()=>{if(JSON.stringify(n)!==JSON.stringify(e)){if(JSON.stringify(n)===JSON.stringify(m))return void t(void 0);t(n)}},[n,e,t]),s=(0,o.useCallback)(()=>{t(void 0),r(m)},[t]);return{tenderFilters:e,draftTenderFilters:n,setDraftTenderFilters:r,applyFilters:i,setTenderFilters:a,resetFilters:s}},_=function(e){let{children:t,useGlobalFilters:n=!1}=e,{tenderFilters:a,draftTenderFilters:i,setDraftTenderFilters:s,applyFilters:l,setTenderFilters:c,resetFilters:m}=g(),[_,p]=(0,u.gk)("active_filter_menu",h.Default),f=_===h.ByCategory,v=(0,o.useCallback)(e=>{if(e)return void p(h.ByCategory);f&&p(void 0)},[p,f]),y=_===h.ByAuthority,x=(0,o.useCallback)(e=>{if(e)return void p(h.ByAuthority);y&&p(void 0)},[p,y]),C=_===h.ByLocation,b=(0,o.useCallback)(e=>{if(e)return void p(h.ByLocation);C&&p(void 0)},[p,C]),[A,I]=(0,u.gk)("show_filters",!1),S=(0,o.useCallback)(e=>{I(e||void 0)},[I]),w=(0,o.useMemo)(()=>({tenderFilters:a,setTenderFilters:c,draftTenderFilters:i,setDraftTenderFilters:s,applyFilters:l,resetFilters:m,isCategoryFilterDrawerOpen:f,setCategoryFilterDrawerOpenState:v,isAuthorityFilterDrawerOpen:y,setAuthorityFilterDrawerOpenState:x,isLocationFilterDrawerOpen:C,setLocationFilterDrawerOpenState:b,isAllFiltersDrawerOpen:A,setAllFiltersDrawerOpenState:S,useGlobalFilters:n}),[a,c,i,s,l,m,f,v,y,x,C,b,A,S,n]);return(0,r.jsx)(d.Provider,{value:w,children:t})};var p=n(55050),f=n(91954),v=n.n(f);let y=function(e){let{className:t}=e;return(0,r.jsxs)(p.A,{variant:"secondary",color:"gray",className:(0,i.t)(v().FilterButtonSecondary,t),children:["Sort By",(0,r.jsx)(s.A,{src:"/assets/images/icons/sort.svg",alt:"",width:16,height:16})]})},x=function(e){let{className:t,...n}=e,{setAllFiltersDrawerOpenState:a}=c();return(0,r.jsxs)(p.A,{variant:"secondary",color:"gray",className:(0,i.t)(v().FilterButtonSecondary,t),onClick:()=>{a(!0)},...n,children:["Filter",(0,r.jsx)(s.A,{src:"/assets/images/icons/filter.svg",alt:"",width:16,height:16})]})};var C=n(72074),b=n(30816),A=n(8889),I=n(61413),S=n(49836);function w(e){let{tenderCategoryId:t,tenderCategoryName:n,subcategories:a=[],value:i,onChange:s}=e,l=a.some(e=>!!e.id&&!!e.name),{data:u,loading:d}=(0,b.Oe)({variables:{filters:{tenderCategoryIds:[t]}}}),c=(0,o.useMemo)(()=>(l?a:(null==u?void 0:u.tenderSubcategories)||[]).map(e=>({name:e.name||"",value:"".concat(e.id)}))||[],[a,null==u?void 0:u.tenderSubcategories,l]);return d?(0,r.jsx)("div",{children:"Loading Subcategories..."}):(0,r.jsx)(I.A,{"aria-labelledby":"c-".concat(t),className:"mt-3",title:n,options:c,value:i.map(String),searchLabel:"Select Subcategory",searchPlaceholder:"Search Subcategories",onChange:e=>{s(Array.from(new Set([...i.filter(e=>!c.some(t=>t.value===String(e))),...e])))}})}let j=function(){var e;let{isCategoryFilterDrawerOpen:t,setCategoryFilterDrawerOpenState:n,draftTenderFilters:a,setDraftTenderFilters:l,tenderFilters:u,applyFilters:d,useGlobalFilters:h}=c(),[m,g]=(0,o.useState)(""),{data:_,loading:p,error:f}=(0,b.fS)({variables:{categoryFilters:{}}}),{data:y,loading:x,error:I}=(0,b._P)({variables:{filters:{isActive:!0}}}),j=h?(null==y?void 0:y.tenderCategories)||[]:(null==_||null==(e=_.userTenderCategoryFiltersHierarchical)?void 0:e.categories)||[],N=j.length>0,k=a.selectedSubCategoryIds||[];return(0,r.jsx)(C.A,{isOpen:t,onOpenChange:n,title:"Select Category",children:(h?x:p)?(0,r.jsx)("div",{children:"Loading Categories..."}):(h?I:f)?(0,r.jsx)("div",{children:"Error loading category filters"}):(0,r.jsxs)("div",{className:"d-flex flex-column h-100 gap-3 pb-3",children:[(0,r.jsxs)("div",{className:"flex-grow-1 overflow-y-auto overflow-x-hidden py-3",children:[N&&(0,r.jsx)(A.A,{id:"search-field",className:"mt-2",placeholder:"Search",value:m,onChange:g,prependContent:(0,r.jsx)(s.A,{src:"/assets/images/icons/search.svg",alt:"Search",height:18,width:18})}),j.map(e=>{let t=e.subcategories||[];return(0,r.jsx)(w,{tenderCategoryId:String(e.id),tenderCategoryName:e.name||"",subcategories:t,value:k,onChange:e=>{l(t=>({...t,selectedSubCategoryIds:e}))}},e.id)})]}),(0,r.jsxs)("div",{className:(0,i.t)(v().ButtonsContainer),children:[(0,r.jsx)(S.default,{color:"gray",variant:"secondary",onClick:()=>{l({...a,selectedSubCategoryIds:u.selectedSubCategoryIds}),setTimeout(()=>{n(!1)},500)},children:"Cancel"}),(0,r.jsx)(S.default,{className:v().ButtonPrimary,onClick:()=>{d(),n(!1)},children:"Apply"})]})]})})};var N=n(25509);let k=function(){var e;let{isAuthorityFilterDrawerOpen:t,setAuthorityFilterDrawerOpenState:n,draftTenderFilters:a,setDraftTenderFilters:l,applyFilters:u,tenderFilters:d}=c(),[h,m]=(0,o.useState)(""),{data:g,loading:_,error:p}=(0,b.cb)({variables:{authorityFilters:{}}}),f=(null==g||null==(e=g.userTenderAuthorityFiltersHierarchical)?void 0:e.authorities)||[],y=f.length>0,x=a.selectedSubAuthorityIds||[];return(0,r.jsx)(C.A,{isOpen:t,onOpenChange:n,title:"Select Authority",children:_?(0,r.jsx)("div",{children:"Loading Authorities..."}):p?(0,r.jsx)("div",{children:"Error loading authority filters"}):(0,r.jsxs)("div",{className:"d-flex flex-column h-100 gap-3 pb-3",children:[(0,r.jsxs)("div",{className:"flex-grow-1 overflow-y-auto overflow-x-hidden",children:[y&&(0,r.jsx)(A.A,{id:"search-field",className:"mt-2",placeholder:"Search",value:h,onChange:m,prependContent:(0,r.jsx)(s.A,{src:"/assets/images/icons/search.svg",alt:"Search",height:18,width:18})}),(0,r.jsx)(N.A.Container,{value:x,onChange:e=>{l(t=>({...t,selectedSubAuthorityIds:e}))},className:"mt-5",children:f.map((e,t)=>{let{name:n,id:a}=e;return(0,r.jsx)(N.A.Option,{value:a,className:"w-100 mb-2",children:n},t)})})]}),(0,r.jsxs)("div",{className:(0,i.t)(v().ButtonsContainer),children:[(0,r.jsx)(S.default,{color:"gray",variant:"secondary",onClick:()=>{l({...a,selectedSubAuthorityIds:d.selectedSubAuthorityIds}),setTimeout(()=>{n(!1)},500)},children:"Cancel"}),(0,r.jsx)(S.default,{className:v().ButtonPrimary,onClick:()=>{u(),n(!1)},children:"Apply"})]})]})})};function T(e){let{stateId:t,stateName:n,cities:a=[],value:i,onChange:s}=e,l=a.some(e=>!!e.id&&!!e.name),{data:u,loading:d}=(0,b.WC)({variables:{filters:{stateIds:[t],limit:1e3}},skip:l}),c=(0,o.useMemo)(()=>(l?a:(null==u?void 0:u.cities)||[]).map(e=>({name:e.name||"",value:"".concat(e.id)}))||[],[a,null==u?void 0:u.cities,l]);return d?(0,r.jsx)("div",{children:"Loading Cities..."}):(0,r.jsx)(I.A,{"aria-labelledby":"state-".concat(t),className:"mt-3",title:n,options:c,value:i.map(String),searchLabel:"Select City",searchPlaceholder:"Search Cities",onChange:e=>{s(Array.from(new Set([...i.filter(e=>!c.some(t=>t.value===String(e))),...e])))}})}let F=function(){var e;let{isLocationFilterDrawerOpen:t,setLocationFilterDrawerOpenState:n,draftTenderFilters:a,setDraftTenderFilters:l,tenderFilters:u,applyFilters:d,useGlobalFilters:h}=c(),[m,g]=(0,o.useState)(""),{data:_,loading:p,error:f}=(0,b.yG)({skip:h}),{data:y,loading:x,error:I}=(0,b.JR)({skip:!h,variables:{filters:{limit:1e3}}}),w=(h?null==y?void 0:y.states:null==_||null==(e=_.userTenderLocationFiltersHierarchical)?void 0:e.states)||[],j=w.length>0,N=a.selectedCityIds||[],k=h?x:p,F=h?I:f;return(0,r.jsx)(C.A,{isOpen:t,onOpenChange:n,title:"Select Location",children:k?(0,r.jsx)("div",{children:"Loading States..."}):F?(0,r.jsx)("div",{children:"Error loading location filters"}):(0,r.jsxs)("div",{className:"d-flex flex-column h-100 gap-3 pb-3",children:[(0,r.jsxs)("div",{className:"flex-grow-1 overflow-y-auto overflow-x-hidden py-3",children:[j&&(0,r.jsx)(A.A,{id:"search-field",className:"mt-2",placeholder:"Search",value:m,onChange:g,prependContent:(0,r.jsx)(s.A,{src:"/assets/images/icons/search.svg",alt:"Search",height:18,width:18})}),w.map(e=>{let t=(null==e?void 0:e.cities)||[];return(0,r.jsx)(T,{stateId:String(e.id),stateName:e.name||"",cities:t,value:N,onChange:e=>{l(t=>({...t,selectedCityIds:e}))}},e.id)})]}),(0,r.jsxs)("div",{className:(0,i.t)(v().ButtonsContainer),children:[(0,r.jsx)(S.default,{color:"gray",variant:"secondary",onClick:()=>{l({...a,selectedCityIds:u.selectedCityIds}),n(!1)},children:"Cancel"}),(0,r.jsx)(S.default,{className:v().ButtonPrimary,onClick:()=>{d(),setTimeout(()=>{n(!1)},500)},children:"Apply"})]})]})})};var B=n(32701),P=n(1977);n(68265);let E=function(){var e,t,n,a,l,o;let{isAllFiltersDrawerOpen:u,setAllFiltersDrawerOpenState:d,draftTenderFilters:h,setDraftTenderFilters:g,setAuthorityFilterDrawerOpenState:_,setCategoryFilterDrawerOpenState:f,setLocationFilterDrawerOpenState:y,applyFilters:x}=c(),{data:A}=(0,b.$K)({variables:{filters:{authorityBodyIds:h.selectedSubAuthorityIds,locationCityIds:h.selectedCityIds},intervals:50}}),I=(null==A?void 0:A.userTenderRangeFilterIntervalCounts.emd)||[],S=(null==A?void 0:A.userTenderRangeFilterIntervalCounts.tenderValue)||[],w=I.length?Math.max(...I.map(e=>e.end)):1e5,j=S.length?Math.max(...S.map(e=>e.end)):1e5,N=e=>{let{value:t,count:n,onClick:a}=e;return(0,r.jsxs)("button",{className:(0,i.t)(v().SelectedItemsDisplay,n?v().Active:""),onClick:a,type:"button",children:[(0,r.jsxs)("span",{children:[t," ",!!n&&(0,r.jsx)("span",{className:v().Count,children:n})]}),(0,r.jsx)(s.A,{src:"/assets/images/icons/chevron_left.svg",alt:"Info",height:20,width:20})]})},k=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"d-flex gap-3 justify-content-between align-items-center mb-3",children:[(0,r.jsx)("label",{className:"d-block",children:"Category"}),!!(null==(e=h.selectedSubCategoryIds)?void 0:e.length)&&(0,r.jsx)(p.A,{variant:"ghost",color:"red",size:"sm",onClick:()=>{g({...h,selectedSubCategoryIds:[]})},children:"Reset"})]}),N({value:"Select Category",count:null==(t=h.selectedSubCategoryIds)?void 0:t.length,onClick:()=>f(!0)})]}),T=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"d-flex gap-3 justify-content-between align-items-center mt-4 mb-3",children:[(0,r.jsx)("label",{className:"d-block",children:"Authority"}),!!(null==(n=h.selectedSubAuthorityIds)?void 0:n.length)&&(0,r.jsx)(p.A,{variant:"ghost",color:"red",size:"sm",onClick:()=>{g({...h,selectedSubAuthorityIds:[]})},children:"Reset"})]}),N({value:"Select Authorities",count:null==(a=h.selectedSubAuthorityIds)?void 0:a.length,onClick:()=>_(!0)})]}),F=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"d-flex gap-3 justify-content-between align-items-center mt-4",children:[(0,r.jsx)("label",{className:"d-block mb-3",children:"Location"})," ",!!(null==(l=h.selectedCityIds)?void 0:l.length)&&(0,r.jsx)(p.A,{variant:"ghost",color:"red",size:"sm",onClick:()=>{g({...h,selectedCityIds:[]})},children:"Reset"})]}),N({value:"Select Locations",count:null==(o=h.selectedCityIds)?void 0:o.length,onClick:()=>y(!0)})]});r.Fragment,v().FilterDescription,B.A,r.Fragment,P.A,null==h||h.minDistanceRadius,null==h||h.maxDistanceRadius,v().InputUnit,v().InputUnit;let E=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{className:"d-block mt-4",children:"Emd Range"}),(0,r.jsx)(P.A,{className:"mb-5",value:[(null==h?void 0:h.minEmd)||0,(null==h?void 0:h.maxEmd)||w],onChange:e=>{let[t,n]=e;g({...h,minEmd:t,maxEmd:n})},minValue:0,maxValue:w,barGraph:{bars:I.map(e=>{let{start:t,end:n,count:r}=e;return{value:(t+n)/2,count:r}})},slidersConfig:[{id:"Min Amount",inputProps:{id:"Min Amount",appendContent:(0,r.jsx)("span",{className:v().InputUnit,children:(0,r.jsx)(s.A,{src:"/assets/images/icons/rupees.svg",alt:"Rupees",width:10,height:14})})}},{id:"Max Amount",inputProps:{placeholder:"Max Amount",appendContent:(0,r.jsx)("span",{className:v().InputUnit,children:(0,r.jsx)(s.A,{src:"/assets/images/icons/rupees.svg",alt:"Rupees",width:10,height:14})})}}]})]}),O=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{className:"d-block",children:"Tender Value"}),(0,r.jsx)(P.A,{className:"mb-5",value:[(null==h?void 0:h.minValue)||0,(null==h?void 0:h.maxValue)||j],onChange:e=>{let[t,n]=e;g({...h,minValue:t,maxValue:n})},minValue:0,maxValue:j,barGraph:{bars:S.map(e=>{let{start:t,end:n,count:r}=e;return{value:(t+n)/2,count:r}})},slidersConfig:[{id:"Min Amount",inputProps:{id:"Min Amount",appendContent:(0,r.jsx)("span",{className:v().InputUnit,children:(0,r.jsx)(s.A,{src:"/assets/images/icons/rupees.svg",alt:"Rupees",width:10,height:14})})}},{id:"Max Amount",inputProps:{placeholder:"Max Amount",appendContent:(0,r.jsx)("span",{className:v().InputUnit,children:(0,r.jsx)(s.A,{src:"/assets/images/icons/rupees.svg",alt:"Rupees",width:10,height:14})})}}]})]});return(0,r.jsx)(C.A,{isOpen:u,onOpenChange:d,title:"Filters",children:(0,r.jsxs)("div",{className:(0,i.t)(v().AllFiltersDrawerContent,"d-flex flex-column h-100 gap-3 pb-3"),children:[(0,r.jsxs)("div",{className:"flex-grow-1 overflow-y-auto overflow-x-hidden py-3",children:[k,T,F,!1,!1,E,O,!1]}),(0,r.jsxs)("div",{className:(0,i.t)(v().ButtonsContainer),children:[(0,r.jsx)(p.A,{color:"red",variant:"secondary",onClick:()=>{g(m)},children:"Reset All"}),(0,r.jsx)(p.A,{className:v().ButtonPrimary,onClick:()=>{x(),setTimeout(()=>{d(!1)},500)},children:"Apply"})]})]})})},O=function(e){let{className:t,showMainCategoryButtons:n=!1,showFilterButton:o=!0,showSortButton:u=!1,filterHeading:d,isLoading:c,useGlobalFilters:h=!1}=e;return(0,r.jsx)(_,{useGlobalFilters:h,children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E,{}),(0,r.jsx)(j,{}),(0,r.jsx)(F,{}),(0,r.jsx)(k,{}),(0,r.jsxs)("div",{className:(0,i.t)(t,v().Container),children:[n&&!1,(0,r.jsxs)("div",{className:"d-flex justify-content-between align-items-center gap-2",children:[(0,r.jsx)("div",{className:v().MatchingTendersLabel,children:d||"Matching Tenders"}),o&&(0,r.jsx)(x,{disabled:c}),u&&(0,r.jsx)(y,{disabled:c})]}),c?(0,r.jsxs)("div",{className:(0,i.t)(v().ScrollableFilterContainer,"d-flex gap-3 mt-3 overflow-auto"),children:[(0,r.jsx)(l.A.Default,{style:{width:"10rem",height:"38px",borderRight:"0.75rem"}}),(0,r.jsx)(l.A.Default,{style:{width:"10rem",height:"38px",borderRight:"0.75rem"}}),(0,r.jsx)(l.A.Default,{style:{width:"10rem",height:"38px",borderRight:"0.75rem"}})]}):(0,r.jsxs)("div",{className:(0,i.t)(v().ScrollableFilterContainer,"d-flex gap-3 mt-3 overflow-auto"),children:[(0,r.jsxs)(a.f,{className:v().FilterButtonSecondary,children:["Close to deadline"," ",(0,r.jsx)(s.A,{src:"/assets/images/icons/sort_arrows.svg",alt:"",width:11,height:14})]}),(0,r.jsxs)(a.f,{className:v().FilterButtonSecondary,children:["Tender value",(0,r.jsx)(s.A,{src:"/assets/images/icons/sort_arrows.svg",alt:"",width:11,height:14})]}),(0,r.jsxs)(a.f,{className:v().FilterButtonSecondary,children:["EMD Amount",(0,r.jsx)(s.A,{src:"/assets/images/icons/sort_arrows.svg",alt:"",width:11,height:14})]})]})]})]})})}},82855:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(t=(t=Array.from(new Set(t))).filter(Boolean)).join(" ")}n.d(t,{t:()=>r})},83660:e=>{e.exports={Button:"AuthenticationForm_Button__v_7mk",Heading:"AuthenticationForm_Heading__D1NbZ",SubHeading:"AuthenticationForm_SubHeading__4X5o_",Label:"AuthenticationForm_Label__sbeYb",Small:"AuthenticationForm_Small__l3N8b",PhoneDisplay:"AuthenticationForm_PhoneDisplay__1BEpb",ErrorText:"AuthenticationForm_ErrorText___QNLF",ResendButton:"AuthenticationForm_ResendButton__gLM1r"}},85650:(e,t,n)=>{"use strict";n.d(t,{g2:()=>v,JS:()=>y.JS});var r=n(94971),a=n(95920),i=n(86266),s=n(10649),l=n(38771),o=n(658),u=n(39285),d=n(63179),c=n(54076),h=n(31957);let m="AUTH_TOKEN";var g=new WeakMap,_=new WeakMap,p=new WeakMap,f=new WeakMap;class v{constructor(e){(0,a._)(this,g,{writable:!0,value:void 0}),(0,a._)(this,_,{writable:!0,value:void 0}),(0,a._)(this,p,{writable:!0,value:void 0}),(0,a._)(this,f,{writable:!0,value:void 0}),(0,i._)(this,g,"@".concat("TENDERWISE",":GQL")),(0,i._)(this,p,""),(0,i._)(this,f,!0),this.getAuthToken=()=>{if((0,r._)(this,f)&&"undefined"!=typeof localStorage)try{let e=JSON.parse(localStorage.getItem(m)||"{}").token||"";(0,i._)(this,p,e)}catch(e){}return(0,r._)(this,p)?"Bearer ".concat((0,r._)(this,p)):""},this.setAuthToken=e=>{(0,i._)(this,p,e),(0,r._)(this,f)&&"undefined"!=typeof localStorage&&localStorage.setItem(m,JSON.stringify({token:e}))},this.clearAuthToken=()=>{(0,i._)(this,p,""),(0,r._)(this,f)&&"undefined"!=typeof localStorage&&localStorage.removeItem(m)},this.createApolloClient=e=>{let{uri:t,authToken:n,enableCache:a=!0,defaultFetchPolicy:m="cache-and-network",requestInterceptor:_,responseInterceptor:f,responseErrorInterceptor:v}=e;n&&(0,i._)(this,p,n);let y=new s.P({uri:t}),x=new c.m((e,t)=>{let n=this.getAuthToken();return _&&_({query:t.query,variables:t.variables,context:{}}).catch(e=>{console.error("[".concat((0,r._)(this,g),"]: Request interceptor error"),e)}),{...e,headers:{...e.headers||{},authorization:n||""}}}),C=new h.L(e=>{let{graphQLErrors:t,networkError:n,operation:a}=e;if(t&&t.forEach(e=>{console.error("[".concat((0,r._)(this,g),"]: GraphQL error:"),{message:e.message,locations:e.locations,path:e.path,extensions:e.extensions,operation:a.operationName})}),n&&console.error("[".concat((0,r._)(this,g),"]: Network error:"),n),v&&(t||n)){var i;v(n||Error((null==t||null==(i=t[0])?void 0:i.message)||"GraphQL Error")).catch(e=>{console.error("[".concat((0,r._)(this,g),"]: Error interceptor failed"),e)})}}),b=new l.C((e,t)=>{let n=t(e);return new o.c(e=>{let t=n.subscribe({next:t=>{f&&f(t).catch(e=>{console.error("[".concat((0,r._)(this,g),"]: Response interceptor error"),e)}),e.next(t)},error:t=>e.error(t),complete:()=>e.complete()});return()=>{t&&t.unsubscribe()}})}),A=l.C.from([C,b,x,y]);return new u.R({link:A,cache:new d.D(a?{resultCaching:!0}:{resultCaching:!1}),defaultOptions:{watchQuery:{fetchPolicy:m,errorPolicy:"all"},query:{fetchPolicy:m,errorPolicy:"all"},mutate:{errorPolicy:"all"}}})},this.query=async(e,t)=>{try{return await (0,r._)(this,_).query({query:e,variables:null==t?void 0:t.variables,fetchPolicy:null==t?void 0:t.fetchPolicy,context:null==t?void 0:t.context})}catch(e){throw console.error("[".concat((0,r._)(this,g),"]: Query error"),e),e}},this.mutate=async(e,t)=>{try{return await (0,r._)(this,_).mutate({mutation:e,variables:null==t?void 0:t.variables,context:null==t?void 0:t.context,refetchQueries:null==t?void 0:t.refetchQueries,awaitRefetchQueries:null==t?void 0:t.awaitRefetchQueries})}catch(e){throw console.error("[".concat((0,r._)(this,g),"]: Mutation error"),e),e}},this.getClient=()=>(0,r._)(this,_),this.clearCache=async()=>{await (0,r._)(this,_).clearStore()},this.resetStore=async()=>{await (0,r._)(this,_).resetStore()},(0,i._)(this,_,this.createApolloClient(e)),this.getAuthToken()}}n(44377);var y=n(30816)},86906:(e,t,n)=>{"use strict";n.d(t,{a:()=>B,qh:()=>P,av:()=>E});var r=n(94971),a=n(95920),i=n(86266),s=n(23464),l=n(45009),o=n.n(l),u=n(48973),d=n.n(u);let c="AUTH_TOKEN";var h=new WeakMap,m=new WeakMap,g=new WeakMap,_=new WeakMap;class p{constructor(e){var t=this;(0,a._)(this,h,{writable:!0,value:void 0}),(0,a._)(this,m,{writable:!0,value:void 0}),(0,a._)(this,g,{writable:!0,value:void 0}),(0,a._)(this,_,{writable:!0,value:void 0}),(0,i._)(this,h,"@".concat("TENDERWISE",":API")),(0,i._)(this,g,""),(0,i._)(this,_,!0),this.getAuthToken=()=>{if((0,r._)(this,_)&&"undefined"!=typeof localStorage)try{let e=JSON.parse(localStorage.getItem(c)||"{}"),t=d()(e,"token");(0,i._)(this,g,t)}catch(e){}return(0,r._)(this,g)?"Bearer ".concat((0,r._)(this,g)):""},this.setAuthToken=e=>{(0,i._)(this,g,e),(0,r._)(this,_)&&"undefined"!=typeof localStorage&&localStorage.setItem(c,JSON.stringify({token:e}))},this.clearAuthToken=()=>{(0,i._)(this,g,""),(0,r._)(this,_)&&"undefined"!=typeof localStorage&&localStorage.removeItem(c)},this.createAxiosInstance=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{baseUrl:""},{baseUrl:n,requestInterceptor:r,responseInterceptor:a,responseErrorInterceptor:l,authToken:o}=e,u=s.A.create({baseURL:n});return o&&(0,i._)(t,g,o),r&&u.interceptors.request.use(async e=>(r&&await r(e),Promise.resolve(e))),(a||l)&&u.interceptors.response.use(async e=>(a&&await a(e),e),async e=>(l&&await l(e),Promise.reject(e))),u},this.get=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.getAuthToken())throw Error("[".concat((0,r._)(t,h),"]: Auth token is not set, use anonGet method for anonymous get calls"));return o()(n,'headers["Authorization"]',t.getAuthToken()),(0,r._)(t,m).get(e,n)},this.post=function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.getAuthToken())throw Error("[".concat((0,r._)(t,h),"]: Auth token is not set, use anonPost method for anonymous post calls"));return o()(a,'headers["Authorization"]',t.getAuthToken()),(0,r._)(t,m).post(e,n,a)},this.put=function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.getAuthToken())throw Error("[".concat((0,r._)(t,h),"]: Auth token is not set, use anonPut method for anonymous put calls"));return o()(a,'headers["Authorization"]',t.getAuthToken()),(0,r._)(t,m).put(e,n,a)},this.delete=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.getAuthToken())throw Error("[".concat((0,r._)(t,h),"]: Auth token is not set, use anonDelete method for anonymous delete calls"));return o()(n,'headers["Authorization"]',t.getAuthToken()),(0,r._)(t,m).delete(e,n)},this.patch=function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.getAuthToken())throw Error("[".concat((0,r._)(t,h),"]: Auth token is not set, use anonPatch for anonymous patch calls"));return o()(a,'headers["Authorization"]',t.getAuthToken()),(0,r._)(t,m).patch(e,n,a)},this.anonGet=(e,t)=>(0,r._)(this,m).get(e,t),this.anonPost=(e,t,n)=>(0,r._)(this,m).post(e,t,n),this.anonPut=(e,t,n)=>(0,r._)(this,m).put(e,t,n),this.anonDelete=(e,t)=>(0,r._)(this,m).delete(e,t),this.anonPatch=(e,t,n)=>(0,r._)(this,m).patch(e,t,n),this.mockCall=function(){let{data:e,delayInMs:t=2e3}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(n=>{setTimeout(()=>{n(e||null)},t)})},(0,i._)(this,m,this.createAxiosInstance(e)),this.getAuthToken()}}var f=n(85650),v=n(8979),y=new WeakMap,x=new WeakMap;class C{constructor(e){(0,a._)(this,y,{writable:!0,value:void 0}),(0,a._)(this,x,{writable:!0,value:void 0}),this.uploadDocument=e=>{let{file:t,tenderId:n,uploadCategory:a}=e,i=new FormData;return i.append("tender_id",n),i.append("user_id",(0,r._)(this,x).getUserId()||""),i.append("upload_category",a),i.append("file",t),(0,r._)(this,y).post("/documents/upload_document",i)},(0,i._)(this,y,e.apiService),(0,i._)(this,x,e.authenticationService)}}n(12115);var b=n(51990);let A=(0,b.Z0)({name:"TAG",initialState:{tags:[]},reducers:{addTags:(e,t)=>{let{tags:n,replaceData:r,replaceList:a}=t.payload;e.tags=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{replaceData:r,replaceList:a,itemIdKey:i="id",oldNewItemCombineFunction:s}=n;return a?t:(t.forEach(t=>{let n=t[i],a=e.findIndex(e=>e.id===n);if(-1===a)e.unshift(t);else if(r)e[a]=t,e=[...e];else{let n=e[a],r=s?s(n,t):{...n,...t};e[a]=r}}),e)}(e.tags,n,{replaceData:r,replaceList:a})},removeTags:(e,t)=>{var n;let{idList:r}=t.payload;n=e.tags,e.tags=n.filter(e=>!r.includes(e.id))}}}),I=A.actions,S=A.reducer,w=(0,b.U1)({reducer:{tag:S},middleware:e=>e()});var j=new WeakMap,N=new WeakMap;class k{constructor(e){(0,a._)(this,j,{writable:!0,value:void 0}),(0,a._)(this,N,{writable:!0,value:void 0}),this.fetchTagByIds=e=>{let{tagIds:t}=e;return(0,r._)(this,j).post("/tags/by_id",{tag_ids:t,user_id:(0,r._)(this,N).getUserId()}).then(e=>{let t=e.data;return w.dispatch(I.addTags({tags:t})),{tags:t}})},this.fetchTags=e=>{let{type:t,parentId:n}=e;return(0,r._)(this,j).post("/tags",{type:t,user_id:(0,r._)(this,N).getUserId(),parent_id:n}).then(e=>{let t=e.data.data;return w.dispatch(I.addTags({tags:t})),{tags:t}})},this.addTag=e=>{let{tag:t}=e;return(0,r._)(this,j).post("/tags/insert_or_update",{...t,tag:"static_data"}).then(e=>e.data)},this.updateTag=e=>{let{tag:t}=e;return(0,r._)(this,j).post("/tags/insert_or_update",t)},(0,i._)(this,j,e.apiService),(0,i._)(this,N,e.authenticationService)}}n(67206),n(39608);var T=n(66758);let F=new p({baseUrl:"https://dev.api.tenderwise.in/gql"}),B=new v.Ht({apiService:F}),P=new f.g2({uri:"https://dev.api.tenderwise.in/gql",enableCache:!0,defaultFetchPolicy:"cache-and-network",requestInterceptor:async e=>e,responseInterceptor:async e=>((e.errors||[]).find(e=>{var t;return null==e||null==(t=e.message)?void 0:t.toLocaleLowerCase().includes("invalid access token")})&&(F.clearAuthToken(),window.location.reload()),e),responseErrorInterceptor:async e=>(console.error("GQL Response Error Interceptor:",e),Promise.reject(e))});new k({apiService:F,authenticationService:B});let E=new T.cs({apiService:F,authenticationService:B});new C({apiService:F,authenticationService:B})},90147:e=>{e.exports={Button:"Button_Button__R3Zme",ButtonPrimary:"Button_ButtonPrimary__Fz5fM",ButtonSecondary:"Button_ButtonSecondary__3yTUY",ButtonGhost:"Button_ButtonGhost__60Vkw",ButtonDisabled:"Button_ButtonDisabled__JX7Ng",ButtonSmall:"Button_ButtonSmall__cPUf_",ButtonMedium:"Button_ButtonMedium__P78u0",ButtonLarge:"Button_ButtonLarge__S7Z_W",ButtonBlack:"Button_ButtonBlack__Qgqmf",ButtonGray:"Button_ButtonGray__CCvYs",ButtonRed:"Button_ButtonRed__NqmgO",ButtonColorPrimary:"Button_ButtonColorPrimary__VHKqe"}},90183:(e,t,n)=>{"use strict";n.d(t,{default:()=>M});var r=n(95155),a=n(12115),i=n(35695),s=n(86906),l=n(15616),o=n(8979),u=n(93162),d=function(e){return e.Phone="phone",e.Otp="otp",e}({}),c=n(37129),h=n(82855),m=n(39365),g=n.n(m),_=n(4407),p=n.n(_);n(30133);let f=function(e){let{className:t,value:n,onChange:i}=e,s=(0,a.useCallback)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i&&i(t[3])},[i]);return(0,r.jsx)(g(),{disableDropdown:!0,country:"in",containerClass:(0,h.t)(p().Container,t),inputClass:p().Input,buttonClass:p().Button,value:n,onChange:s,placeholder:"Enter Your Mobile Number",inputProps:{name:"phone",autoComplete:"phone"}})};var v=n(55050),y=n(83660),x=n.n(y),C=n(23293),b=n(61781),A=n.n(b);let I=function(e){let{className:t,value:n,onChange:i}=e,[s,l]=(0,a.useState)(""),o=void 0!==n&&void 0!==i;return(0,r.jsx)(C.A,{containerStyle:(0,h.t)(t,A().Container),value:o?n:s,onChange:o?i:l,numInputs:6,renderInput:e=>(0,r.jsx)("input",{...e,type:"number",pattern:"[0-9]*",inputMode:"numeric",className:A().Input}),placeholder:"------"})};var S=n(67666);let w=l.sf,j={phone:"",otp:""},N=c.Ik().shape({phone:c.Yj().required(),otp:c.Yj().min(6).max(6).required()}),k=[{id:d.Phone,order:1,content:(0,r.jsx)(function(){let{setFieldValue:e,values:{phone:t},stepFormRef:n,setOtpResendTime:i,setOtpError:s,setIsOtpSent:l,setVerificationId:u}=w(),{generateOtp:c,isGettingOtp:m}=(0,o.As)(),g=(0,a.useCallback)(t=>{e("phone",t),e("otp","")},[e]),_=(0,a.useCallback)(async()=>{let r=t.replaceAll(" ","").replaceAll("-","");try{let t=await c({phoneNumberWithCountryCode:r});(null==t?void 0:t.success)&&t.verificationId&&(e("otp",""),i(30),l(!0),s(null),u(t.verificationId),n.current&&n.current.gotToStep(d.Otp))}catch(e){s(e.message||"Failed to send OTP")}},[c,e,t,n,l,i,s,u]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:x().Heading,children:"Enter Whatsapp Number"}),(0,r.jsx)("div",{className:(0,h.t)("mt-2",x().SubHeading),children:"We'll have to make sure it's you."}),(0,r.jsx)("label",{className:(0,h.t)("mt-4",x().Label),children:"Mobile Number"}),(0,r.jsx)(f,{className:"w-100 mt-2",value:t,onChange:g}),(0,r.jsx)("div",{className:(0,h.t)("mt-2",x().Small),children:"We will send a verification otp on your number to verify your number."}),(0,r.jsx)(v.A,{disabled:m,onClick:_,className:(0,h.t)("w-100","mt-4 mt-md-5",x().Button),children:m?"Please wait...":"Send OTP"})]})},{})},{id:d.Otp,order:1,content:(0,r.jsx)(function(){let{isSubmittingOtp:e,values:{phone:t,otp:n},setFieldValue:i,stepFormRef:s,errors:l,submitForm:u,otpError:c,otpResendTime:m,setOtpResendTime:g,setIsOtpSent:_,setOtpError:p,setVerificationId:f}=w(),{generateOtp:y,isGettingOtp:C}=(0,o.As)(),b=!!l.otp||e;(0,a.useEffect)(()=>{if(m>0){let e=setTimeout(()=>{g(m-1)},1e3);return()=>clearTimeout(e)}},[m,g]);let A=(0,a.useCallback)(()=>{s.current&&s.current.gotToStep(d.Phone)},[s]),j=(0,a.useCallback)(async()=>{let e=t.replaceAll(" ","").replaceAll("-","");try{let t=await y({phoneNumberWithCountryCode:e});(null==t?void 0:t.success)&&t.verificationId&&(i("otp",""),g(30),_(!0),p(null),f(t.verificationId))}catch(e){p(e.message||"Failed to send OTP")}},[y,t,i,g,_,p,f]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:x().Heading,children:"Verify Your Number"}),(0,r.jsx)("div",{className:(0,h.t)("mt-2",x().SubHeading),children:"Enter the OTP sent to"}),(0,r.jsxs)("div",{className:(0,h.t)("mt-1",x().PhoneDisplay),children:[t,(0,r.jsx)(v.A,{variant:"ghost",size:"sm",onClick:A,children:(0,r.jsx)(S.A,{src:"/assets/images/icons/edit.svg",alt:"Info",height:16,width:16})})]}),(0,r.jsx)("label",{className:(0,h.t)("mt-4",x().Label),children:"OTP"}),(0,r.jsx)(I,{className:"mt-2",value:n,onChange:e=>{i("otp",e)}}),c&&(0,r.jsx)("div",{className:(0,h.t)("mt-2",x().ErrorText),children:c}),(0,r.jsx)("div",{className:(0,h.t)("mt-2",x().Small),children:m>0?"Resend OTP in ".concat(m," seconds"):(0,r.jsx)(v.A,{variant:"ghost",className:x().ResendButton,disabled:C,onClick:j,children:"Resend OTP"})}),(0,r.jsx)(v.A,{disabled:b,className:(0,h.t)("w-100","mt-4 mt-md-5",x().Button),onClick:()=>{u()},children:e?"Please wait...":"Proceed"})]})},{})}],T=function(e){let{className:t}=e,[n,s]=(0,a.useState)(!1),[c,h]=(0,a.useState)(null),[m,g]=(0,a.useState)(!1),[_,p]=(0,a.useState)(0),[f,v]=(0,a.useState)(""),y=(0,i.useRouter)(),{verifyOtp:x}=(0,o.As)(),C=(0,a.useRef)(null),b=(0,a.useCallback)(async e=>{if(n)return;s(!0);let{otp:t,phone:r}=e,a=r.replaceAll(" ","").replaceAll("-","");try{let e=await x({otp:t,phoneNumberWithCountryCode:a});e&&(h(null),e.isNewUser?y.push(u.f.WELCOME_PAGE):y.push(u.f.ONBOARDING_FORM_PAGE))}catch(e){h(e.message||"Invalid OTP. Please try again.")}finally{s(!1)}},[n,x,y]),A=(0,a.useMemo)(()=>({isSubmittingOtp:n,setIsSubmittingOtp:s,otpError:c,setOtpError:h,isOtpSent:m,setIsOtpSent:g,otpResendTime:_,setOtpResendTime:p,verificationId:f,setVerificationId:v}),[n,c,m,_,f]);return(0,r.jsx)(l.Ay,{ref:C,className:t,extraFields:A,initialValues:j,yupValidationSchema:N,onSubmit:b,initialStepId:d.Phone,steps:k})};var F=n(39922),B=n(50418),P=n.n(B);let E=function(){return(0,r.jsx)(F.A,{className:P().Layout,mainClassName:P().Main,appendHeader:!1,children:(0,r.jsx)("div",{className:(0,h.t)(P().FormContainer),children:(0,r.jsx)(T,{})})})};var O=n(30816),R=n(29629),D=n(19587),L=n(25768);let M=function(e){let{children:t}=e,n=(0,i.usePathname)(),l=(0,i.useRouter)(),[o,d]=(0,a.useState)(!1),[c,h]=(0,a.useState)(!0),[m,g]=(0,a.useState)(!0),[_,p]=(0,a.useState)(""),[f,{loading:v}]=(0,O.dZ)(),[y]=(0,O.x8)(),x=(0,D.tg)(n),C=(0,a.useCallback)(async e=>{let{phoneNumberWithCountryCode:t}=e;if(!v)try{var n,r;let e=await f({variables:{input:{phoneNumber:t,deviceId:"web-client"}}});if((null==(n=e.data)?void 0:n.generateOtp.success)&&e.data.generateOtp.verificationId)return p(e.data.generateOtp.verificationId),{success:!0,verificationId:e.data.generateOtp.verificationId,expiresInSeconds:e.data.generateOtp.expiresInSeconds};throw Error((null==(r=e.data)?void 0:r.generateOtp.message)||"Failed to generate OTP")}catch(e){throw e}},[v,f]),b=(0,a.useCallback)(async function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return s.qh.clearAuthToken(),localStorage.removeItem("sessionId"),d(!1),h(!1),g(!0),p(""),e&&l.push(u.f.HOME_PAGE),{success:!0}},[l]),A=(0,a.useCallback)(async e=>{let{otp:t,phoneNumberWithCountryCode:n}=e;if(h(!0),R.j)return h(!1),d(!0),{isNewUser:!0};try{var r;let e=await y({variables:{input:{phoneNumber:n,otpCode:t,verificationId:_,deviceId:"web-client"}}});if(null==(r=e.data)?void 0:r.verifyOtp){let{accessToken:t,user:n}=e.data.verifyOtp;s.qh.setAuthToken(t),d(!0);let r=!n.firstName||"User"===n.firstName;return g(r),h(!1),{isNewUser:r}}throw Error("Verification failed")}catch(e){throw b(),h(!1),e}},[_,y,b]);(0,a.useEffect)(()=>{d(!!s.qh.getAuthToken()),h(!1)},[]);let I=(0,a.useMemo)(()=>({isAuthenticated:o,isAuthenticating:c,isGettingOtp:v,generateOtp:C,verifyOtp:A,isNewUser:m,logout:b}),[o,c,v,C,A,m,b]),S=(c||!o)&&!x;return c?(0,r.jsx)(L.A,{}):(0,r.jsx)(R.g.Provider,{value:I,children:S?(0,r.jsx)(E,{}):t})}},91954:e=>{e.exports={FilterToggleButton:"TenderFilters_FilterToggleButton__DN4g6",RoundIconContainer:"TenderFilters_RoundIconContainer__RCjof",RoundIconContainerActive:"TenderFilters_RoundIconContainerActive__uZw3I",FilterCount:"TenderFilters_FilterCount__F56ok",MatchingTendersLabel:"TenderFilters_MatchingTendersLabel__C3Fg6",FilterButtonSecondary:"TenderFilters_FilterButtonSecondary___Yl6y",ScrollableFilterContainer:"TenderFilters_ScrollableFilterContainer__mL8KS",InputUnit:"TenderFilters_InputUnit__WHhOI",FilterDescription:"TenderFilters_FilterDescription__LC6a8",AllFiltersDrawerContent:"TenderFilters_AllFiltersDrawerContent__PDJNi",SelectedItemsDisplay:"TenderFilters_SelectedItemsDisplay__W3HyG",Active:"TenderFilters_Active__SOK1_",Count:"TenderFilters_Count__FEitl",ButtonsContainer:"TenderFilters_ButtonsContainer__pDCF4",ButtonPrimary:"TenderFilters_ButtonPrimary__IcIKv"}},93162:(e,t,n)=>{"use strict";n.d(t,{F:()=>a,f:()=>r});let r={HOME_PAGE:"/",ONBOARDING_FORM_PAGE:"/onboard",TENDERS_PAGE:"/tenders",SETTINGS_PAGE:"/settings",WELCOME_PAGE:"/welcome",PROFILE_PAGE:"/profile",PROFILE_EDIT_PAGE:"/profile/edit",USER_DASHBOARD_PAGE:"/dashboard"},a=["/dev","/dev/api"]},94213:e=>{e.exports={Card:"CheckboxGroupCard_Card__1fXrE",CardWithValue:"CheckboxGroupCard_CardWithValue__B4SCK",Title:"CheckboxGroupCard_Title__0qp5Z",Icon:"CheckboxGroupCard_Icon__pmjJz",IconWhenOpen:"CheckboxGroupCard_IconWhenOpen__uTdHN",IconWhenClosed:"CheckboxGroupCard_IconWhenClosed__FoaF0",ContentContainer:"CheckboxGroupCard_ContentContainer___4aKg",OptionContainer:"CheckboxGroupCard_OptionContainer__1n07x",SectionTitle:"CheckboxGroupCard_SectionTitle__6omZ0"}},95279:(e,t,n)=>{"use strict";function r(e){let{values:t,errors:n,steps:r}=e,a=r.map(e=>{let{isCompletedValidatorFunction:r}=e;if(!r)return{stepId:e.id,completed:!0};let{completed:a}=r({values:t,errors:n});return{stepId:e.id,completed:a}}),i=a.reduce((e,t)=>({...e,[t.stepId]:t}),{});return{stepsListValidationData:a,stepsValidationDataMap:i}}n.d(t,{m:()=>r})}}]);