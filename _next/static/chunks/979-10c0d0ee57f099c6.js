(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[979],{4407:e=>{e.exports={Container:"PhoneField_Container__EtH3i",Input:"PhoneField_Input__dCT3d",Button:"PhoneField_Button__O8Eae"}},8979:(e,t,n)=>{"use strict";n.d(t,{Ht:()=>i,As:()=>l.useAuth});var s=n(94971),a=n(95920),r=n(86266),o=new WeakMap;class i{constructor(e){(0,a._)(this,o,{writable:!0,value:void 0}),this.checkUserExists=e=>{let{phoneNumberWithCountryCode:t}=e;return(0,s._)(this,o).anonPost("/auth/user_exist_check?user_id=".concat(t))},this.generateOtp=e=>{let{phoneNumberWithCountryCode:t}=e;return(0,s._)(this,o).anonPost("/auth/generate_otp?user_id=".concat(t)).then(()=>({success:!0}))},this.verifyOtp=async e=>{let{otp:t,phoneNumberWithCountryCode:n}=e,{token:a}=await (0,s._)(this,o).anonPost("/auth/generate_otp?user_id=".concat(n)).then(e=>e.data);return{token:a}},this.fetchUserDetails=()=>(0,s._)(this,o).post("/user_info/fetch").then(()=>({success:!0})),this.saveUserDetails=e=>{let{userDetails:t}=e;return t.user_preferences={email:"",phone:"",language:"",business_category:[],business_sub_category:[],business_name:"",business_description:"",business_type:"",gst_number:"",has_previous_tender_work_experience:"",business_start_date:"",business_registered_address:"",business_website:"http://localhost:3000/onboard",government_tenders_completed:"",government_tenders_completed_count:0,brief_explanation_of_work:"",product_category:[],emd:[],value:[],authority:{central:[],psu:[],statutory:[],state:[]},location:[],track_competitors:"",need_assistance_with_bidding:"",need_assistance_with_document_preparing:"",tender_topics:[],states:[],location_range_in_km:50,authorities:[],tender_emd_min_in_lakhs:0,tender_emd_max_in_lakhs:1e4,tender_value_min_in_lakhs:0,tender_value_max_in_lakhs:1e4,keywords:[],...t.user_preferences},(0,s._)(this,o).post("/user_info/save",t).then(()=>({success:!0}))},(0,r._)(this,o,e.apiService)}}n(90183);var l=n(29629)},14186:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var s=n(95155),a=n(856),r=n(82855),o=n(90147),i=n.n(o);let l=(0,n(74466).F)(i().Button,{variants:{variant:{primary:i().ButtonPrimary,secondary:i().ButtonSecondary,ghost:i().ButtonGhost},disabled:{true:i().ButtonDisabled,false:void 0},size:{sm:i().ButtonSmall,md:i().ButtonMedium,lg:i().ButtonLarge},color:{sm:i().ButtonSmall,md:i().ButtonMedium,lg:i().ButtonLarge}},defaultVariants:{variant:"primary",size:"md"}}),u=function(e){let{children:t,className:n,variant:o,size:u,fakeDisabled:c,...h}=e,{...d}=h,_=h.disabled||!1;return(0,s.jsx)(a.$,{isDisabled:_,className:(0,r.t)(n,i().Button,l({variant:o,disabled:c||_,size:u})),...d,children:t})}},15559:(e,t,n)=>{"use strict";n.d(t,{K:()=>f,a:()=>b});var s=n(94971),a=n(95920),r=n(86266),o=n(23464),i=n(45009),l=n.n(i),u=n(48973),c=n.n(u);let h="TOKEN";var d=new WeakMap,_=new WeakMap,m=new WeakMap,p=new WeakMap;class g{constructor(e){var t=this;(0,a._)(this,d,{writable:!0,value:void 0}),(0,a._)(this,_,{writable:!0,value:void 0}),(0,a._)(this,m,{writable:!0,value:void 0}),(0,a._)(this,p,{writable:!0,value:void 0}),(0,r._)(this,d,"@".concat("TENDERWISE",":API")),(0,r._)(this,m,""),(0,r._)(this,p,!0),this.getAuthToken=()=>{if((0,s._)(this,p)&&"undefined"!=typeof localStorage)try{let e=JSON.parse(localStorage.getItem(h)||"{}"),t=c()(e,"token");(0,r._)(this,m,t)}catch(e){}return(0,s._)(this,m)?"Bearer ".concat((0,s._)(this,m)):""},this.setAuthToken=e=>{(0,r._)(this,m,e),(0,s._)(this,p)&&"undefined"!=typeof localStorage&&localStorage.setItem(h,JSON.stringify({token:e}))},this.clearAuthToken=()=>{(0,r._)(this,m,""),(0,s._)(this,p)&&"undefined"!=typeof localStorage&&localStorage.removeItem(h)},this.createAxiosInstance=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{baseUrl:""},{baseUrl:n,requestInterceptor:s,responseInterceptor:a,responseErrorInterceptor:i,authToken:l}=e,u=o.A.create({baseURL:n});return l&&(0,r._)(t,m,l),s&&u.interceptors.request.use(async e=>(s&&await s(e),Promise.resolve(e))),(a||i)&&u.interceptors.response.use(async e=>(a&&await a(e),e),async e=>(i&&await i(e),Promise.reject(e))),u},this.get=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.getAuthToken())throw Error("[".concat((0,s._)(t,d),"]: Auth token is not set, use anonGet method for anonymous get calls"));return l()(n,'headers["Authorization"]',t.getAuthToken()),(0,s._)(t,_).get(e,n)},this.post=function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.getAuthToken())throw Error("[".concat((0,s._)(t,d),"]: Auth token is not set, use anonPost method for anonymous post calls"));return l()(a,'headers["Authorization"]',t.getAuthToken()),(0,s._)(t,_).post(e,n,a)},this.put=function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.getAuthToken())throw Error("[".concat((0,s._)(t,d),"]: Auth token is not set, use anonPut method for anonymous put calls"));return l()(a,'headers["Authorization"]',t.getAuthToken()),(0,s._)(t,_).put(e,n,a)},this.delete=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.getAuthToken())throw Error("[".concat((0,s._)(t,d),"]: Auth token is not set, use anonDelete method for anonymous delete calls"));return l()(n,'headers["Authorization"]',t.getAuthToken()),(0,s._)(t,_).delete(e,n)},this.patch=function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.getAuthToken())throw Error("[".concat((0,s._)(t,d),"]: Auth token is not set, use anonPatch for anonymous patch calls"));return l()(a,'headers["Authorization"]',t.getAuthToken()),(0,s._)(t,_).patch(e,n,a)},this.anonGet=(e,t)=>(0,s._)(this,_).get(e,t),this.anonPost=(e,t,n)=>(0,s._)(this,_).post(e,t,n),this.anonPut=(e,t,n)=>(0,s._)(this,_).put(e,t,n),this.anonDelete=(e,t)=>(0,s._)(this,_).delete(e,t),this.anonPatch=(e,t,n)=>(0,s._)(this,_).patch(e,t,n),(0,r._)(this,_,this.createAxiosInstance(e)),this.getAuthToken()}}var v=n(8979);let f=new g({baseUrl:"http://13.203.13.165:8000/api/v1"}),b=new v.Ht({apiService:f})},15616:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>h,sf:()=>o,l9:()=>l});var s=n(95155),a=n(12115),r=n(67959);let o=()=>(0,r.mN)(),i=(0,a.createContext)({}),l=()=>(0,a.useContext)(i),u=function(e){let{children:t}=e,{values:n,errors:r,steps:l,activeStepIndex:u,...c}=o(),h=(0,a.useMemo)(()=>l.map(e=>{let{isCompletedValidatorFunction:t}=e;if(!t)return{stepId:e.id,completed:!0};let{completed:s}=t({values:n,extraFields:c,errors:r});return{stepId:e.id,completed:s}}),[n,c,r,l]),{completed:d}=(0,a.useMemo)(()=>h[u],[u,h]),_=(0,a.useMemo)(()=>({isCurrentStepCompleted:d,stepsListValidationData:h}),[d,h]);return(0,s.jsx)(i.Provider,{value:_,children:t})},c=(0,a.forwardRef)(function(e,t){let{steps:n,initialStepId:o,extraFields:i,className:l,onStepChange:c,children:h,...d}=e,_=(0,a.useRef)(null),m=(0,a.useMemo)(()=>{let e=[...n];return e.sort((e,t)=>e.order-t.order),e},[n]),p=(0,a.useMemo)(()=>m.reduce((e,t)=>({...e,[t.id]:t}),{}),[m]),[g,v]=(0,a.useState)(()=>m.findIndex(e=>e.id===o)||0),[f,b]=(0,a.useState)(o||null),x=f?p[f]:null,y=(0,a.useCallback)(e=>{b(e),c&&c({activeStepId:e,activeStep:p[e]})},[c,p]),A=(0,a.useCallback)(()=>{if(0===g)return;let e=Math.max(0,g-1);v(e),y(m[e].id)},[g,y,m]),k=(0,a.useCallback)(()=>{if(g===m.length-1)return;let e=Math.min(m.length-1,g+1);v(e),y(m[e].id)},[g,y,m]),j=(0,a.useMemo)(()=>({...i,activeStepIndex:g,activeStepId:f,activeStep:x,nextStep:k,previousStep:A,gotToStep:y,stepFormRef:_,steps:m}),[i,g,f,x,k,A,y,m]);return(0,a.useImperativeHandle)(t,()=>(_.current={activeStepIndex:g,activeStepId:f,activeStep:x,nextStep:k,previousStep:A,gotToStep:y},_.current),[g,f,x,k,A,y]),(0,s.jsx)(r.Ay,{...d,extraFields:j,initialValues:d.initialValues,children:e=>{let{context:{submitForm:t}}=e;return(0,s.jsx)("form",{className:l,onSubmit:t,children:(0,s.jsx)(u,{children:h?h({...e,children:(null==x?void 0:x.content)||null}):(0,s.jsx)(s.Fragment,{children:(null==x?void 0:x.content)||null})})})}})});c.displayName="StepForm";let h=c},21178:e=>{e.exports={Error:"FormError_Error__eRI_X"}},29629:(e,t,n)=>{"use strict";n.d(t,{g:()=>a,useAuth:()=>r});var s=n(12115);let a=(0,s.createContext)({}),r=()=>(0,s.useContext)(a)},37244:e=>{e.exports={Container:"Layout_Container__8QhIo",Header:"Layout_Header__f_3V0",Main:"Layout_Main__KyruP",FormContainer:"Layout_FormContainer__8ims9"}},50418:e=>{e.exports={Layout:"AuthenticationPage_Layout__7Pyd_",Main:"AuthenticationPage_Main__gll00",FormContainer:"AuthenticationPage_FormContainer__NwHe6"}},61781:e=>{e.exports={Container:"OtpField_Container__eAguj",Input:"OtpField_Input__xzhuh"}},67666:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var s=n(95155),a=n(66766);let r=function(e){let{src:t,alt:n,width:r,height:o,className:i}=e;return(0,s.jsx)(a.default,{src:t,alt:n,width:r,height:o,className:i})}},67959:(e,t,n)=>{"use strict";n.d(t,{jQ:()=>v,Ay:()=>_,mN:()=>h});var s=n(95155),a=n(12115),r=n(49694),o=n(40139),i=n.n(o),l=n(48973),u=n.n(l);let c=a.createContext({});function h(){return a.useContext(c)}function d(e){let{initialValues:t={},yupValidationSchema:n,children:o,onSubmit:l,extraFields:h,onChange:d}=e,_=(0,a.useCallback)(e=>{l&&l(e)},[l]),m=(0,r.Wx)({initialValues:t,onSubmit:_,validationSchema:n,validateOnMount:!0}),{values:p,errors:g,touched:v,setFieldValue:f,handleSubmit:b,setFieldTouched:x}=m,y=(0,a.useCallback)(e=>!!u()(g,e,!1)&&!!u()(v,e,!1),[g,v]),A=!!Object.keys(g).length,k=(0,a.useMemo)(()=>({values:p,errors:g,touched:v,setFieldValue:f,submitForm:b,setFieldTouched:x,touchedAndHasError:y,hasError:A,...h}),[p,g,v,f,b,x,y,h,A]);return(0,a.useEffect)(()=>{d&&d(p,{hasError:A})},[d,p,A]),(0,s.jsx)(c.Provider,{value:k,children:(0,s.jsx)(r.QI,{value:m,children:i()(o)?o({context:k}):o})})}let _=function(e){return(0,s.jsx)(d,{...e})};var m=n(82855),p=n(21178),g=n.n(p);let v=e=>{let{fieldKey:t,className:n,children:a}=e,{touchedAndHasError:r,errors:o}=h(),i=u()(o,t);return i&&r(t)?(0,s.jsx)("div",{className:(0,m.t)(g().Error,n),children:a||i}):null}},82855:(e,t,n)=>{"use strict";function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(t=(t=Array.from(new Set(t))).filter(Boolean)).join(" ")}n.d(t,{t:()=>s})},83660:e=>{e.exports={Button:"AuthenticationForm_Button__v_7mk",Heading:"AuthenticationForm_Heading__D1NbZ",SubHeading:"AuthenticationForm_SubHeading__4X5o_",Label:"AuthenticationForm_Label__sbeYb",Small:"AuthenticationForm_Small__l3N8b",PhoneDisplay:"AuthenticationForm_PhoneDisplay__1BEpb"}},90147:e=>{e.exports={Button:"Button_Button__R3Zme",ButtonGhost:"Button_ButtonGhost__60Vkw",ButtonPrimary:"Button_ButtonPrimary__Fz5fM",ButtonSecondary:"Button_ButtonSecondary__3yTUY",ButtonDisabled:"Button_ButtonDisabled__JX7Ng",ButtonSmall:"Button_ButtonSmall__cPUf_",ButtonMedium:"Button_ButtonMedium__P78u0",ButtonLarge:"Button_ButtonLarge__S7Z_W"}},90183:(e,t,n)=>{"use strict";n.d(t,{default:()=>E});var s=n(95155),a=n(12115),r=n(15559),o=n(35695),i=n(15616),l=n(8979),u=function(e){return e.Phone="phone",e.Otp="otp",e}({}),c=n(37129),h=n(82855),d=n(39365),_=n.n(d),m=n(4407),p=n.n(m);n(30133);let g=function(e){let{className:t,value:n,onChange:r}=e,o=(0,a.useCallback)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r&&r(t[3])},[r]);return(0,s.jsx)(_(),{disableDropdown:!0,country:"in",containerClass:(0,h.t)(p().Container,t),inputClass:p().Input,buttonClass:p().Button,value:n,onChange:o,placeholder:"Enter Your Mobile Number"})};var v=n(14186),f=n(83660),b=n.n(f),x=n(23293),y=n(61781),A=n.n(y);let k=function(e){let{className:t,value:n,onChange:r}=e,[o,i]=(0,a.useState)(""),l=void 0!==n&&void 0!==r;return(0,s.jsx)(x.A,{containerStyle:(0,h.t)(t,A().Container),value:l?n:o,onChange:l?r:i,numInputs:6,renderInput:e=>(0,s.jsx)("input",{...e,type:"number",pattern:"[0-9]*",inputMode:"numeric",className:A().Input}),placeholder:"------"})};var j=n(67666);let w=i.sf,C={phone:"",otp:""},S=c.Ik().shape({phone:c.Yj().required(),otp:c.Yj().min(6).max(6).required()}),B=[{id:u.Phone,order:1,content:(0,s.jsx)(function(){let{setFieldValue:e,values:{phone:t},stepFormRef:n}=w(),{generateOtp:r,isGettingOtp:o}=(0,l.As)(),i=(0,a.useCallback)(t=>{e("phone",t),e("otp","")},[e]),c=(0,a.useCallback)(()=>{r({phoneNumberWithCountryCode:t.replaceAll("+","").replaceAll(" ","").replaceAll("-","")}).then(()=>{n.current&&n.current.gotToStep(u.Otp)}),e("otp","")},[r,e,t,n]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:b().Heading,children:"Enter Whatsapp Number"}),(0,s.jsx)("div",{className:(0,h.t)("mt-2",b().SubHeading),children:"We'll have to make sure it's you."}),(0,s.jsx)("label",{className:(0,h.t)("mt-4",b().Label),children:"Mobile Number"}),(0,s.jsx)(g,{className:"w-100 mt-2",value:t,onChange:i}),(0,s.jsx)("div",{className:(0,h.t)("mt-2",b().Small),children:"We will send a verification otp on your number to verify your number."}),(0,s.jsx)(v.A,{disabled:o,onClick:c,className:(0,h.t)("w-100","mt-4 mt-md-5",b().Button),children:o?"Please wait...":"Send OTP"})]})},{})},{id:u.Otp,order:1,content:(0,s.jsx)(function(){let{isSubmittingOtp:e,values:{phone:t,otp:n},setFieldValue:r,stepFormRef:o,errors:i}=w(),l=!!i.otp||e,c=(0,a.useCallback)(()=>{o.current&&o.current.gotToStep(u.Phone)},[o]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:b().Heading,children:"Verify Your Number"}),(0,s.jsx)("div",{className:(0,h.t)("mt-2",b().SubHeading),children:"Enter the OTP sent to"}),(0,s.jsxs)("div",{className:(0,h.t)("mt-1",b().PhoneDisplay),children:[t,(0,s.jsx)(v.A,{variant:"ghost",size:"sm",onClick:c,children:(0,s.jsx)(j.A,{src:"/assets/images/icons/edit.svg",alt:"Info",height:16,width:16})})]}),(0,s.jsx)("label",{className:(0,h.t)("mt-4",b().Label),children:"OTP"}),(0,s.jsx)(k,{className:"mt-2",value:n,onChange:e=>{r("otp",e)}}),(0,s.jsx)(v.A,{disabled:l,className:(0,h.t)("w-100","mt-4 mt-md-5",b().Button),type:"submit",children:e?"Please wait...":"Proceed"})]})},{})}],N=function(e){let{className:t}=e,[n,r]=(0,a.useState)(!1),c=(0,o.useRouter)(),{verifyOtp:h}=(0,l.As)(),d=(0,a.useRef)(null),_=(0,a.useCallback)(async e=>{if(n)return;r(!0);let{otp:t,phone:s}=e,a=s.replaceAll("+","").replaceAll(" ","").replaceAll("-",""),{isNewUser:o}=await h({otp:t,phoneNumberWithCountryCode:a}).finally(()=>{r(!1)});o&&c.push("/welcome")},[n,h,c]),m=(0,a.useMemo)(()=>({isSubmittingOtp:n}),[n]);return(0,s.jsx)(i.Ay,{ref:d,className:t,extraFields:m,initialValues:C,yupValidationSchema:S,onSubmit:_,initialStepId:u.Phone,steps:B})};var P=n(96409),M=n(50418),F=n.n(M);let I=function(){return(0,s.jsx)(P.A,{className:F().Layout,mainClassName:F().Main,appendHeader:(0,s.jsx)(v.A,{variant:"ghost",size:"sm",children:(0,s.jsx)(j.A,{src:"/assets/images/icons/info.svg",alt:"Info",height:20,width:20})}),children:(0,s.jsx)("div",{className:(0,h.t)(F().FormContainer),children:(0,s.jsx)(N,{})})})};var T=n(29629);let E=function(e){let{children:t}=e,[n,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(!0),[u,c]=(0,a.useState)(!1),[h,d]=(0,a.useState)(!0),_=(0,a.useCallback)(e=>{let{phoneNumberWithCountryCode:t}=e;return u?Promise.resolve():(c(!0),d(!1),r.a.generateOtp({phoneNumberWithCountryCode:t}).finally(()=>{c(!1)}))},[u]),m=(0,a.useCallback)(async e=>{let{otp:t,phoneNumberWithCountryCode:n}=e;if(i)return Promise.resolve({isNewUser:!1});l(!0),d(!1);let s=!await r.a.checkUserExists({phoneNumberWithCountryCode:n});return d(s),await r.a.verifyOtp({otp:t,phoneNumberWithCountryCode:n}).then(e=>{let{token:t}=e;o(!0),r.K.setAuthToken(t)}).finally(()=>{l(!1)}),{isNewUser:s}},[i]),p=(0,a.useCallback)(async()=>(r.K.clearAuthToken(),l(!1),o(!1),{success:!0}),[]);(0,a.useEffect)(()=>{o(!!r.K.getAuthToken()),l(!1)},[]);let g=(0,a.useMemo)(()=>({isAuthenticated:n,isAuthenticating:i,isGettingOtp:u,generateOtp:_,verifyOtp:m,isNewUser:h,logout:p}),[n,i,u,_,m,h,p]);return(0,s.jsx)(T.g.Provider,{value:g,children:i?null:n?t:(0,s.jsx)(I,{})})}},96409:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var s=n(95155),a=n(82855),r=n(67666);let o=function(e){let{className:t}=e;return(0,s.jsx)(r.A,{className:t,src:"/assets/images/branding/tenderwise_logo.svg",alt:"Tenderwise logo",height:40,width:140})};var i=n(37244),l=n.n(i);let u=function(e){let{children:t,className:n,mainClassName:r,appendHeader:i}=e;return(0,s.jsx)("div",{className:n,children:(0,s.jsxs)("div",{className:(0,a.t)(l().Container,"container"),children:[(0,s.jsxs)("header",{className:l().Header,children:[(0,s.jsx)(o,{}),i]}),(0,s.jsx)("main",{className:(0,a.t)(l().Main,r),children:t})]})})}}}]);