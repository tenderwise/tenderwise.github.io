(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[717],{1717:(e,t,n)=>{"use strict";n.d(t,{a:()=>W,qh:()=>q,av:()=>H});var r=n(94971),i=n(95920),a=n(86266),s=n(23464),o=n(45009),l=n.n(o),u=n(48973),c=n.n(u);let d="AUTH_TOKEN";var h=new WeakMap,_=new WeakMap,f=new WeakMap,m=new WeakMap;class p{constructor(e){var t=this;(0,i._)(this,h,{writable:!0,value:void 0}),(0,i._)(this,_,{writable:!0,value:void 0}),(0,i._)(this,f,{writable:!0,value:void 0}),(0,i._)(this,m,{writable:!0,value:void 0}),(0,a._)(this,h,"@".concat("TENDERWISE",":API")),(0,a._)(this,f,""),(0,a._)(this,m,!0),this.getAuthToken=()=>{if((0,r._)(this,m)&&"undefined"!=typeof localStorage)try{let e=JSON.parse(localStorage.getItem(d)||"{}"),t=c()(e,"token");(0,a._)(this,f,t)}catch(e){}return(0,r._)(this,f)?"Bearer ".concat((0,r._)(this,f)):""},this.setAuthToken=e=>{(0,a._)(this,f,e),(0,r._)(this,m)&&"undefined"!=typeof localStorage&&localStorage.setItem(d,JSON.stringify({token:e}))},this.clearAuthToken=()=>{(0,a._)(this,f,""),(0,r._)(this,m)&&"undefined"!=typeof localStorage&&localStorage.removeItem(d)},this.createAxiosInstance=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{baseUrl:""},{baseUrl:n,requestInterceptor:r,responseInterceptor:i,responseErrorInterceptor:o,authToken:l}=e,u=s.A.create({baseURL:n});return l&&(0,a._)(t,f,l),r&&u.interceptors.request.use(async e=>(r&&await r(e),Promise.resolve(e))),(i||o)&&u.interceptors.response.use(async e=>(i&&await i(e),e),async e=>(o&&await o(e),Promise.reject(e))),u},this.get=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.getAuthToken())throw Error("[".concat((0,r._)(t,h),"]: Auth token is not set, use anonGet method for anonymous get calls"));return l()(n,'headers["Authorization"]',t.getAuthToken()),(0,r._)(t,_).get(e,n)},this.post=function(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.getAuthToken())throw Error("[".concat((0,r._)(t,h),"]: Auth token is not set, use anonPost method for anonymous post calls"));return l()(i,'headers["Authorization"]',t.getAuthToken()),(0,r._)(t,_).post(e,n,i)},this.put=function(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.getAuthToken())throw Error("[".concat((0,r._)(t,h),"]: Auth token is not set, use anonPut method for anonymous put calls"));return l()(i,'headers["Authorization"]',t.getAuthToken()),(0,r._)(t,_).put(e,n,i)},this.delete=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.getAuthToken())throw Error("[".concat((0,r._)(t,h),"]: Auth token is not set, use anonDelete method for anonymous delete calls"));return l()(n,'headers["Authorization"]',t.getAuthToken()),(0,r._)(t,_).delete(e,n)},this.patch=function(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.getAuthToken())throw Error("[".concat((0,r._)(t,h),"]: Auth token is not set, use anonPatch for anonymous patch calls"));return l()(i,'headers["Authorization"]',t.getAuthToken()),(0,r._)(t,_).patch(e,n,i)},this.anonGet=(e,t)=>(0,r._)(this,_).get(e,t),this.anonPost=(e,t,n)=>(0,r._)(this,_).post(e,t,n),this.anonPut=(e,t,n)=>(0,r._)(this,_).put(e,t,n),this.anonDelete=(e,t)=>(0,r._)(this,_).delete(e,t),this.anonPatch=(e,t,n)=>(0,r._)(this,_).patch(e,t,n),this.mockCall=function(){let{data:e,delayInMs:t=2e3}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(n=>{setTimeout(()=>{n(e||null)},t)})},(0,a._)(this,_,this.createAxiosInstance(e)),this.getAuthToken()}}var g=n(10649),v=n(38771),y=n(90524),I=n(39285),A=n(63179),b=n(54076),S=n(31957);let w="AUTH_TOKEN";var T=new WeakMap,k=new WeakMap,C=new WeakMap,x=new WeakMap;class N{constructor(e){(0,i._)(this,T,{writable:!0,value:void 0}),(0,i._)(this,k,{writable:!0,value:void 0}),(0,i._)(this,C,{writable:!0,value:void 0}),(0,i._)(this,x,{writable:!0,value:void 0}),(0,a._)(this,T,"@".concat("TENDERWISE",":GQL")),(0,a._)(this,C,""),(0,a._)(this,x,!0),this.getAuthToken=()=>{if((0,r._)(this,x)&&"undefined"!=typeof localStorage)try{let e=JSON.parse(localStorage.getItem(w)||"{}").token||"";(0,a._)(this,C,e)}catch(e){}return(0,r._)(this,C)?"Bearer ".concat((0,r._)(this,C)):""},this.setAuthToken=e=>{(0,a._)(this,C,e),(0,r._)(this,x)&&"undefined"!=typeof localStorage&&localStorage.setItem(w,JSON.stringify({token:e}))},this.clearAuthToken=()=>{(0,a._)(this,C,""),(0,r._)(this,x)&&"undefined"!=typeof localStorage&&localStorage.removeItem(w)},this.createApolloClient=e=>{let{uri:t,authToken:n,enableCache:i=!0,defaultFetchPolicy:s="cache-and-network",requestInterceptor:o,responseInterceptor:l,responseErrorInterceptor:u}=e;n&&(0,a._)(this,C,n);let c=new g.P({uri:t}),d=(0,b.o)((e,t)=>{let{headers:n}=t,i=this.getAuthToken();return o&&o({query:e.query,variables:e.variables,context:{}}).catch(e=>{console.error("[".concat((0,r._)(this,T),"]: Request interceptor error"),e)}),{headers:{...n,authorization:i||""}}}),h=(0,S.S)(e=>{let{graphQLErrors:t,networkError:n,operation:i}=e;if(t&&t.forEach(e=>{console.error("[".concat((0,r._)(this,T),"]: GraphQL error:"),{message:e.message,locations:e.locations,path:e.path,extensions:e.extensions,operation:i.operationName})}),n&&console.error("[".concat((0,r._)(this,T),"]: Network error:"),n),u&&(t||n)){var a;u(n||Error((null==t||null==(a=t[0])?void 0:a.message)||"GraphQL Error")).catch(e=>{console.error("[".concat((0,r._)(this,T),"]: Error interceptor failed"),e)})}}),_=new v.C((e,t)=>{let n=t(e);return n&&"function"==typeof n.map?n.map(e=>(l&&l(e).catch(e=>{console.error("[".concat((0,r._)(this,T),"]: Response interceptor error"),e)}),e)):n}),f=(0,y.H)([h,_,d,c]);return new I.R({link:f,cache:new A.D(i?{resultCaching:!0}:{resultCaching:!1}),defaultOptions:{watchQuery:{fetchPolicy:s,errorPolicy:"all"},query:{fetchPolicy:s,errorPolicy:"all"},mutate:{errorPolicy:"all"}}})},this.query=async(e,t)=>{try{return await (0,r._)(this,k).query({query:e,variables:null==t?void 0:t.variables,fetchPolicy:null==t?void 0:t.fetchPolicy,context:null==t?void 0:t.context})}catch(e){throw console.error("[".concat((0,r._)(this,T),"]: Query error"),e),e}},this.mutate=async(e,t)=>{try{return await (0,r._)(this,k).mutate({mutation:e,variables:null==t?void 0:t.variables,context:null==t?void 0:t.context,refetchQueries:null==t?void 0:t.refetchQueries,awaitRefetchQueries:null==t?void 0:t.awaitRefetchQueries})}catch(e){throw console.error("[".concat((0,r._)(this,T),"]: Mutation error"),e),e}},this.getClient=()=>(0,r._)(this,k),this.clearCache=async()=>{await (0,r._)(this,k).clearStore()},this.resetStore=async()=>{await (0,r._)(this,k).resetStore()},(0,a._)(this,k,this.createApolloClient(e)),this.getAuthToken()}}n(44377),n(30816);var P=n(8979),B=new WeakMap,E=new WeakMap;class F{constructor(e){(0,i._)(this,B,{writable:!0,value:void 0}),(0,i._)(this,E,{writable:!0,value:void 0}),this.uploadDocument=e=>{let{file:t,tenderId:n,uploadCategory:i}=e,a=new FormData;return a.append("tender_id",n),a.append("user_id",(0,r._)(this,E).getUserId()||""),a.append("upload_category",i),a.append("file",t),(0,r._)(this,B).post("/documents/upload_document",a)},(0,a._)(this,B,e.apiService),(0,a._)(this,E,e.authenticationService)}}n(12115);var O=n(51990);let j=(0,O.Z0)({name:"TAG",initialState:{tags:[]},reducers:{addTags:(e,t)=>{let{tags:n,replaceData:r,replaceList:i}=t.payload;e.tags=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{replaceData:r,replaceList:i,itemIdKey:a="id",oldNewItemCombineFunction:s}=n;return i?t:(t.forEach(t=>{let n=t[a],i=e.findIndex(e=>e.id===n);if(-1===i)e.unshift(t);else if(r)e[i]=t,e=[...e];else{let n=e[i],r=s?s(n,t):{...n,...t};e[i]=r}}),e)}(e.tags,n,{replaceData:r,replaceList:i})},removeTags:(e,t)=>{var n;let{idList:r}=t.payload;n=e.tags,e.tags=n.filter(e=>!r.includes(e.id))}}}),U=j.actions,D=j.reducer,R=(0,O.U1)({reducer:{tag:D},middleware:e=>e()});var M=new WeakMap,L=new WeakMap;class ${constructor(e){(0,i._)(this,M,{writable:!0,value:void 0}),(0,i._)(this,L,{writable:!0,value:void 0}),this.fetchTagByIds=e=>{let{tagIds:t}=e;return(0,r._)(this,M).post("/tags/by_id",{tag_ids:t,user_id:(0,r._)(this,L).getUserId()}).then(e=>{let t=e.data;return R.dispatch(U.addTags({tags:t})),{tags:t}})},this.fetchTags=e=>{let{type:t,parentId:n}=e;return(0,r._)(this,M).post("/tags",{type:t,user_id:(0,r._)(this,L).getUserId(),parent_id:n}).then(e=>{let t=e.data.data;return R.dispatch(U.addTags({tags:t})),{tags:t}})},this.addTag=e=>{let{tag:t}=e;return(0,r._)(this,M).post("/tags/insert_or_update",{...t,tag:"static_data"}).then(e=>e.data)},this.updateTag=e=>{let{tag:t}=e;return(0,r._)(this,M).post("/tags/insert_or_update",t)},(0,a._)(this,M,e.apiService),(0,a._)(this,L,e.authenticationService)}}n(67206),n(39608);var G=n(66758);let J=new p({baseUrl:"https://dev.api.tenderwise.in"}),q=new N({uri:"https://dev.api.tenderwise.in/gql",enableCache:!0,defaultFetchPolicy:"cache-and-network"}),W=new P.Ht({apiService:J});new $({apiService:J,authenticationService:W});let H=new G.cs({apiService:J,authenticationService:W});new F({apiService:J,authenticationService:W})},4407:e=>{e.exports={Container:"PhoneField_Container__EtH3i",Input:"PhoneField_Input__dCT3d",Button:"PhoneField_Button__O8Eae"}},7618:(e,t,n)=>{"use strict";n.d(t,{M:()=>i,KJ:()=>r}),JSON.parse('{"rE":"0.4.99-alpha"}').rE;let r=!0,i=!0},8979:(e,t,n)=>{"use strict";n.d(t,{Ht:()=>h,As:()=>_.useAuth});var r=n(94971),i=n(95920),a=n(86266),s=n(48973),o=n.n(s),l=n(19587);let u="USER_DATA";var c=new WeakMap,d=new WeakMap;class h{constructor(e){(0,i._)(this,c,{writable:!0,value:void 0}),(0,i._)(this,d,{writable:!0,value:void 0}),(0,a._)(this,d,null),this.checkUserExists=e=>{let{phoneNumberWithCountryCode:t}=e;return(0,r._)(this,c).anonPost("/auth/user_exist_check?user_id=".concat(t)).then(e=>e.data)},this.generateOtp=e=>{let{phoneNumberWithCountryCode:t}=e;return this.setUserId({userId:t}),(0,r._)(this,c).anonPost("/auth/generate_otp?user_id=".concat(t),{user_id:t}).then(e=>e.data)},this.verifyOtp=async e=>{let{otp:t,token:n}=e;return(0,r._)(this,c).anonPost("/auth/verify_otp",{otp:t,user_id:this.getUserId()},{headers:{Authorization:"Bearer ".concat(n)}}).then(e=>e.data)},this.fetchUserDetails=()=>(0,r._)(this,c).post("/users/fetch_preferences",{user_id:this.getUserId()}).then(e=>({userPreferences:(0,l.vB)({userPreferences:e.data.data}).userPreferencesSanitized,success:!0})),this.saveUserDetails=e=>{let{userPreferences:t}=e,n={...t,user_id:this.getUserId()};return(0,r._)(this,c).put("/users/update_preferences",n).then(()=>({success:!0}))},this.saveUserDetailsPartial=e=>{let{userPreferences:t}=e,n={...t,user_id:this.getUserId()||""};return n=(0,l.vB)({userPreferences:n}).userPreferencesSanitized,(0,r._)(this,c).patch("/users/update_preferences_partial",n).then(()=>({success:!0}))},this.mockFetchUserDetails=()=>{let e=null;if("undefined"!=typeof localStorage)try{e=JSON.parse(localStorage.getItem("TENDERWISE:USER_DETAILS")||"{}")}catch(t){e=null}return this.fetchUserDetails(),(0,r._)(this,c).mockCall().then(()=>({userDetails:e}))},this.mockSaveUserDetails=e=>{let{userPreferences:t}=e;return"undefined"!=typeof localStorage&&localStorage.setItem("TENDERWISE:USER_DETAILS",JSON.stringify(t)),this.saveUserDetailsPartial({userPreferences:t}),(0,r._)(this,c).mockCall().then(()=>({success:!0}))},this.setUserId=e=>{let{userId:t}=e;return"undefined"!=typeof localStorage&&localStorage.setItem(u,JSON.stringify({user_id:t})),(0,a._)(this,d,t),(0,r._)(this,d)},this.getUserId=()=>{if("undefined"!=typeof localStorage)try{let e=JSON.parse(localStorage.getItem(u)||"{}"),t=o()(e,"user_id");(0,a._)(this,d,t)}catch(e){}return(0,r._)(this,d)},this.resetUserId=()=>("undefined"!=typeof localStorage&&localStorage.removeItem(u),(0,a._)(this,d,null),(0,r._)(this,d)),(0,a._)(this,c,e.apiService),this.getUserId()}}n(90183);var _=n(29629);n(32768)},15616:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>d,sf:()=>s,l9:()=>l});var r=n(95155),i=n(12115),a=n(67959);let s=()=>(0,a.mN)(),o=(0,i.createContext)({}),l=()=>(0,i.useContext)(o),u=function(e){let{children:t}=e,{values:n,errors:a,steps:l=[],activeStepIndex:u,...c}=s(),{stepsListValidationData:d,stepsValidationDataMap:h}=(0,i.useMemo)(()=>{let e=l.map(e=>{let{isCompletedValidatorFunction:t}=e;if(!t)return{stepId:e.id,completed:!0};let{completed:r}=t({values:n,extraFields:c,errors:a});return{stepId:e.id,completed:r}}),t=e.reduce((e,t)=>({...e,[t.stepId]:t}),{});return{stepsListValidationData:e,stepsValidationDataMap:t}},[n,c,a,l]),_=(0,i.useMemo)(()=>d[u],[u,d]),f=null==_?void 0:_.completed,m=u===l.length-1,p=(0,i.useMemo)(()=>l.sort((e,t)=>((null==e?void 0:e.order)||0)-((null==t?void 0:t.order)||0)).find((e,t)=>{let{completed:n}=d[t];return!n})||null,[l,d]),g=(0,i.useMemo)(()=>({isCurrentStepCompleted:f,stepsListValidationData:d,lastIncompleteStep:p,stepsValidationDataMap:h,isOnLastStep:m}),[f,d,p,h,m]);return(0,r.jsx)(o.Provider,{value:g,children:t})},c=(0,i.forwardRef)(function(e,t){let{steps:n,initialStepId:s,extraFields:o,className:l,onStepChange:c,children:d,...h}=e,_=(0,i.useRef)(null),f=(0,i.useMemo)(()=>{let e=[...n];return e.sort((e,t)=>((null==e?void 0:e.order)||0)-((null==t?void 0:t.order)||0)),e},[n]),m=(0,i.useMemo)(()=>f.reduce((e,t)=>({...e,[t.id]:t}),{}),[f]),[p,g]=(0,i.useState)(()=>f.findIndex(e=>e.id===s)||0),[v,y]=(0,i.useState)(s||null),I=v?m[v]:null,A=(0,i.useCallback)(e=>{y(e),c&&c({activeStepId:e,activeStep:m[e]})},[c,m]),b=(0,i.useCallback)(()=>{if(0===p)return;let e=Math.max(0,p-1);g(e),A(f[e].id)},[p,A,f]),S=(0,i.useCallback)(()=>{if(p===f.length-1)return;let e=Math.min(f.length-1,p+1);g(e),A(f[e].id)},[p,A,f]),w=(0,i.useMemo)(()=>({...o,activeStepIndex:p,activeStepId:v,activeStep:I,nextStep:S,previousStep:b,gotToStep:A,stepFormRef:_,steps:f}),[o,p,v,I,S,b,A,f]);return(0,i.useImperativeHandle)(t,()=>(_.current={activeStepIndex:p,activeStepId:v,activeStep:I,nextStep:S,previousStep:b,gotToStep:A},_.current),[p,v,I,S,b,A]),(0,r.jsx)(a.Ay,{...h,extraFields:w,initialValues:h.initialValues,children:e=>{let{context:{submitForm:t}}=e;return(0,r.jsx)("form",{className:l,onSubmit:t,children:(0,r.jsx)(u,{children:d?d({...e,children:(null==I?void 0:I.content)||null}):(0,r.jsx)(r.Fragment,{children:(null==I?void 0:I.content)||null})})})}})});c.displayName="StepForm";let d=c},16416:(e,t,n)=>{"use strict";n.d(t,{s:()=>o});var r=n(29119),i=n(45009),a=n.n(i),s=n(12115);function o(e){let t=(0,r.createParser)({parse:t=>{if(!t)return e;try{return JSON.parse(decodeURIComponent(t))}catch(t){return e}},serialize:e=>encodeURIComponent(JSON.stringify(e))}),[n,i]=(0,r.useQueryState)("filters",t.withDefault(e)),o=(0,s.useCallback)(e=>{if("function"==typeof e){let t=e(n);i({...n,...t})}else i({...n,...e})},[n,i]),l=(0,s.useCallback)((e,t)=>{let r=JSON.parse(JSON.stringify(n));return a()(r,e,t),i(r),{updated:r}},[n,i]);return[n,o,l]}},17476:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(95155),i=n(6874),a=n(92532);let s=function(e){let{href:t,children:n,...i}=e;return(0,r.jsx)(a.N,{href:t,...i,children:n})}},19587:(e,t,n)=>{"use strict";n.d(t,{tg:()=>d,vB:()=>c});var r=n(45009),i=n.n(r),a=n(48973),s=n.n(a),o=n(78966),l=n.n(o),u=n(93162);function c(e){let{userPreferences:t}=e,n=l()(t);["location.state","location.districts","location.town","location.locality","location.locality_village"].forEach(e=>{s()(n,e)||i()(n,e,[])});try{"string"==typeof n.keywords&&(n.keywords=JSON.parse(n.keywords)||[])}catch(e){n.keywords=[]}Array.isArray(n.emd)&&2===n.emd.length||(n.emd=[0,0]),Array.isArray(n.value)&&2===n.value.length||(n.value=[0,0]);try{if("string"==typeof n.authority_tenders_completed_count){let e=JSON.parse(n.authority_tenders_completed_count);n.authority_tenders_completed_count="number"==typeof e?String(e):"0"}}catch(e){n.authority_tenders_completed_count="0"}n.business_category||(n.business_category={}),n.product_category||(n.product_category={}),n.authority||(n.authority={});try{"string"==typeof n.metadata&&(n.metadata=JSON.parse(n.metadata)||{})}catch(e){n.metadata={}}return{userPreferencesSanitized:n}}function d(e){return u.F.some(t=>!!(e===t||e.startsWith(t+"/")))}},21178:e=>{e.exports={Error:"FormError_Error__eRI_X"}},25768:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(95155),i=n(65504),a=n(30704),s=n.n(a);n(12115);var o=n(47650),l=n(7618);let u=e=>{let{children:t,container:n=l.KJ?window.document.body:null}=e;return n?(0,o.createPortal)((0,r.jsx)(r.Fragment,{children:t}),n):t},c=function(){return(0,r.jsx)(u,{children:(0,r.jsx)("div",{className:s().Container,children:(0,r.jsx)(i.A,{})})})}},29545:(e,t,n)=>{"use strict";n.d(t,{default:()=>v});var r=n(95155),i=n(17476),a=n(82855),s=n(65504),o=n(93162),l=n(55050),u=n(67666),c=n(35695),d=n(79510),h=n.n(d);let _=e=>{let{icon:t,label:n,link:s}=e,o=(0,c.usePathname)();return(0,r.jsxs)(i.A,{href:s,className:(0,a.t)(h().NavItem,s===o&&h().NavItemActive),children:[(0,r.jsx)(u.A,{className:h().Icon,src:t,alt:"",width:20,height:20}),(0,r.jsx)("span",{className:h().Label,children:n})]})},f=function(e){let{className:t}=e;return(0,r.jsxs)("nav",{className:(0,a.t)(t,h().Container),children:[(0,r.jsx)(_,{label:"Home",icon:"/assets/images/icons/home.svg",link:o.f.HOME_PAGE}),(0,r.jsx)(_,{label:"Search",icon:"/assets/images/icons/search.svg",link:o.f.TENDERS_PAGE}),(0,r.jsx)(_,{label:"My Tenders",icon:"/assets/images/icons/suitcase.svg",link:o.f.TENDERS_PAGE}),(0,r.jsx)(_,{label:"My Profile",icon:"/assets/images/icons/user_outline.svg",link:o.f.PROFILE_PAGE})]})};var m=n(8979),p=n(37244),g=n.n(p);let v=function(e){let{children:t,className:n,mainClassName:c,appendHeader:d,appendActionButtons:h,showNotificationAction:_=!1,showSearchAction:p=!1}=e,{isAuthenticated:v}=(0,m.As)(),y=v&&p;return(0,r.jsx)("div",{className:n,children:(0,r.jsxs)("div",{className:(0,a.t)(g().Container,"container"),children:[(0,r.jsxs)("header",{className:g().Header,children:[(0,r.jsx)(i.A,{href:o.f.HOME_PAGE,children:(0,r.jsx)(s.A,{})}),(!!h||y)&&(0,r.jsxs)("div",{className:g().HeaderRightSection,children:[y&&(0,r.jsx)(l.A,{className:g().RoundButton,color:"gray",children:(0,r.jsx)(u.A,{src:"/assets/images/icons/search.svg",alt:"Info",height:18,width:18})}),!1,h]}),d]}),(0,r.jsx)("main",{className:(0,a.t)(g().Main,c),children:t}),v&&(0,r.jsx)(f,{className:g().AppTabBar})]})})}},29629:(e,t,n)=>{"use strict";n.d(t,{g:()=>i,j:()=>s,useAuth:()=>a});var r=n(12115);let i=(0,r.createContext)({}),a=()=>(0,r.useContext)(i),s=!1},30704:e=>{e.exports={Container:"FullscreenLoader_Container__l9D7Q",pulsating:"FullscreenLoader_pulsating__ucT_1"}},30816:(e,t,n)=>{"use strict";n.d(t,{$K:()=>eg,Az:()=>D,JR:()=>eu,KK:()=>e_,L4:()=>M,LY:()=>$,M8:()=>ea,Oe:()=>Y,V8:()=>em,WC:()=>ed,Wb:()=>eA,Y8:()=>z,_P:()=>W,b$:()=>eo,cb:()=>er,dZ:()=>F,dm:()=>ey,fS:()=>et,oR:()=>Q,p1:()=>J,x8:()=>j,yG:()=>Z});var r=n(15933),i=n(36112),a=n(88095),s=n(92213);function o(){let e=(0,r._)(["\n    mutation GenerateOtp($input: GenerateOtpInput!) {\n  generateOtp(input: $input) {\n    success\n    message\n    verificationId\n    expiresInSeconds\n  }\n}\n    "]);return o=function(){return e},e}function l(){let e=(0,r._)(["\n    mutation VerifyOtp($input: VerifyOtpInput!) {\n  verifyOtp(input: $input) {\n    accessToken\n    expiresIn\n    refreshToken\n    user {\n      id\n      email\n      firstName\n      lastName\n      phone\n    }\n  }\n}\n    "]);return l=function(){return e},e}function u(){let e=(0,r._)(["\n    mutation RefreshToken($input: RefreshTokenInput!) {\n  refreshToken(input: $input) {\n    accessToken\n    expiresIn\n    refreshToken\n  }\n}\n    "]);return u=function(){return e},e}function c(){let e=(0,r._)(["\n    mutation SaveUserProfile($input: SaveUserProfileInput!) {\n  saveUserProfile(input: $input) {\n    success\n    message\n    profile {\n      user {\n        id\n        firstName\n        lastName\n        email\n        languageId\n        phone\n      }\n      businessDetails {\n        id\n        name\n        description\n        businessTypeId\n        gstNumber\n        annualTurnoverInInr\n        websiteUrl\n      }\n      tenderPreference {\n        id\n        radiusFromLocationInKm\n        minEmdInInr\n        maxEmdInInr\n        minTenderValueInInr\n        maxTenderValueInInr\n        stateIds\n        cityIds\n        townIds\n        categoryIds\n        subcategoryIds\n        keywordIds\n        authorityBodyIds\n        metadata\n      }\n    }\n    errors\n  }\n}\n    "]);return c=function(){return e},e}function d(){let e=(0,r._)(["\n    mutation UpdateUserDetails($input: UpdateUserDetailsInput!) {\n  updateUserDetails(input: $input) {\n    success\n    message\n    profile {\n      user {\n        id\n        firstName\n        lastName\n        email\n        languageId\n      }\n    }\n    errors\n  }\n}\n    "]);return d=function(){return e},e}function h(){let e=(0,r._)(["\n    query GetAuthorityBodyCategories($filters: AuthorityBodyCategoryFilters) {\n  authorityBodyCategories(filters: $filters) {\n    id\n    name\n    isActive\n  }\n}\n    "]);return h=function(){return e},e}function _(){let e=(0,r._)(["\n    query GetAuthorityBodies($filters: AuthorityBodyFilters) {\n  authorityBodies(filters: $filters) {\n    id\n    name\n    isActive\n    categories(filters: {isActive: true}) {\n      id\n      name\n      isActive\n    }\n  }\n}\n    "]);return _=function(){return e},e}function f(){let e=(0,r._)(["\n    query GetTenderCategories($filters: TenderCategoryFilters) {\n  tenderCategories(filters: $filters) {\n    id\n    name\n    isActive\n    businessCategories {\n      id\n      localizedNameId\n      isActive\n    }\n  }\n}\n    "]);return f=function(){return e},e}function m(){let e=(0,r._)(["\n    query GetBusinessCategories($filters: BusinessCategoryFilters) {\n  businessCategories(filters: $filters) {\n    id\n    name\n  }\n}\n    "]);return m=function(){return e},e}function p(){let e=(0,r._)(["\n    query GetBusinessSubCategories($filters: BusinessSubcategoryFilters) {\n  businessSubcategories(filters: $filters) {\n    id\n    name\n    isActive\n  }\n}\n    "]);return p=function(){return e},e}function g(){let e=(0,r._)(["\n    query GetTenderSubcategories($filters: TenderSubcategoryFilters) {\n  tenderSubcategories(filters: $filters) {\n    id\n    name\n    isActive\n  }\n}\n    "]);return g=function(){return e},e}function v(){let e=(0,r._)(["\n    query UserTenderLocationFiltersHierarchical($locationFilters: UserTenderLocationStateFilters) {\n  userTenderLocationFiltersHierarchical(filters: $locationFilters) {\n    states {\n      id\n      name\n      cities {\n        id\n        name\n        towns {\n          id\n          name\n        }\n      }\n    }\n  }\n}\n    "]);return v=function(){return e},e}function y(){let e=(0,r._)(["\n    query UserTenderCategoryFiltersHierarchical($categoryFilters: UserTenderCategoryFilters) {\n  userTenderCategoryFiltersHierarchical(filters: $categoryFilters) {\n    categories {\n      id\n      name\n      subcategories {\n        id\n        name\n      }\n    }\n  }\n}\n    "]);return y=function(){return e},e}function I(){let e=(0,r._)(["\n    query UserTenderAuthorityFiltersHierarchical($authorityFilters: UserTenderAuthorityFilters) {\n  userTenderAuthorityFiltersHierarchical(filters: $authorityFilters) {\n    authorities {\n      id\n      name\n      departments {\n        id\n        name\n      }\n    }\n  }\n}\n    "]);return I=function(){return e},e}function A(){let e=(0,r._)(["\n    query UserBusinessCategoryFiltersHierarchical($businessCategoryFilters: UserTenderBusinessCategoryFilters) {\n  userBusinessCategoryFiltersHierarchical(filters: $businessCategoryFilters) {\n    categories {\n      id\n      name\n      subcategories {\n        id\n        name\n      }\n    }\n  }\n}\n    "]);return A=function(){return e},e}function b(){let e=(0,r._)(["\n    query GetTenderKeywords($filters: TenderKeywordFilters) {\n  tenderKeywords(filters: $filters) {\n    id\n    name\n    isActive\n  }\n}\n    "]);return b=function(){return e},e}function S(){let e=(0,r._)(["\n    query GetLanguages($filters: LanguageFilters) {\n  languages(filters: $filters) {\n    id\n    name\n    code\n    nativeName\n    isActive\n  }\n}\n    "]);return S=function(){return e},e}function w(){let e=(0,r._)(["\n    query GetLocationStates($filters: LocationStateFilters) {\n  states(filters: $filters) {\n    id\n    name\n    isActive\n  }\n}\n    "]);return w=function(){return e},e}function T(){let e=(0,r._)(["\n    query GetLocationCities($filters: LocationCityFilters) {\n  cities(filters: $filters) {\n    id\n    name\n    isActive\n  }\n}\n    "]);return T=function(){return e},e}function k(){let e=(0,r._)(["\n    query GetLocationTowns($filters: LocationTownFilters) {\n  towns(filters: $filters) {\n    id\n    name\n    isActive\n  }\n}\n    "]);return k=function(){return e},e}function C(){let e=(0,r._)(["\n    query GetMyProfile {\n  myProfile {\n    user {\n      id\n      firstName\n      lastName\n      email\n      languageId\n      phone\n      createdAt\n      updatedAt\n    }\n    businessDetails {\n      id\n      name\n      description\n      businessTypeId\n      gstNumber\n      annualTurnoverInInr\n      websiteUrl\n      categoryIds\n      subcategoryIds\n      startDate\n      metadata\n    }\n    tenderPreference {\n      id\n      radiusFromLocationInKm\n      minEmdInInr\n      maxEmdInInr\n      minTenderValueInInr\n      maxTenderValueInInr\n      stateIds\n      cityIds\n      townIds\n      categoryIds\n      subcategoryIds\n      keywordIds\n      authorityBodyIds\n      metadata\n    }\n    workOrders {\n      id\n      name\n      type\n      isDone\n      metadata\n    }\n  }\n}\n    "]);return C=function(){return e},e}function x(){let e=(0,r._)(["\n    query UserTenderRangeFilterIntervalCounts($filters: UserTenderRangeFilterIntervalCountsFiltersInput, $intervals: Float) {\n  userTenderRangeFilterIntervalCounts(filters: $filters, intervals: $intervals) {\n    emd {\n      count\n      start\n      end\n    }\n    tenderValue {\n      count\n      start\n      end\n    }\n  }\n}\n    "]);return x=function(){return e},e}function N(){let e=(0,r._)(["\n    query GetTenders($filters: TenderFilters) {\n  tenders(filters: $filters) {\n    data {\n      id\n      title\n      description\n      tenderValueInInr\n      emdValueInInr\n      publishedDate\n      bidSubmissionStartDate\n      bidSubmissionEndDate\n      workPeriodInDays\n      bidOpeningPlace\n      tenderPlatformId\n      metadata\n      userScore\n      locationCity {\n        id\n        name\n      }\n      locationTown {\n        id\n        name\n      }\n      locationState {\n        id\n        name\n      }\n    }\n    total\n    page\n  }\n}\n    "]);return N=function(){return e},e}function P(){let e=(0,r._)(["\n    query GetTenderById($filters: TenderFilters) {\n  tender(filters: $filters) {\n    id\n    createdAt\n    updatedAt\n    sourcePlatformId\n    title\n    description\n    tenderValueInInr\n    emdValueInInr\n    publishedDate\n    bidSubmissionStartDate\n    bidSubmissionEndDate\n    workPeriodInDays\n    bidOpeningPlace\n    tenderPlatformId\n    locationStateId\n    locationCityId\n    locationTownId\n    authorityBodyId\n    metadata\n    isActive\n    categories {\n      id\n      name\n      localizedNameId\n      createdAt\n      updatedAt\n      isActive\n      localizedContent {\n        id\n        referenceId\n      }\n    }\n    subcategories {\n      id\n      name\n      localizedNameId\n      createdAt\n      updatedAt\n      isActive\n      localizedContent {\n        id\n        referenceId\n      }\n    }\n    keywords {\n      id\n      name\n      createdAt\n      updatedAt\n      isActive\n      localizedContentId\n      localizedContent {\n        id\n        referenceId\n      }\n    }\n    sourcePlatform {\n      id\n      name\n      uniqueName\n      description\n      metadata\n      isActive\n      createdAt\n      updatedAt\n    }\n    locationState {\n      id\n      name\n      localizedNameId\n      createdAt\n      updatedAt\n      isActive\n      localizedContent {\n        id\n        referenceId\n      }\n    }\n    locationCity {\n      id\n      name\n      localizedNameId\n      createdAt\n      updatedAt\n      isActive\n      localizedContent {\n        id\n        referenceId\n      }\n    }\n    locationTown {\n      id\n      name\n      localizedNameId\n      createdAt\n      updatedAt\n      isActive\n      localizedContent {\n        id\n        referenceId\n      }\n    }\n    authorityBody {\n      id\n      name\n      localizedNameId\n      createdAt\n      updatedAt\n      isActive\n      localizedContent {\n        id\n        referenceId\n      }\n    }\n    files {\n      id\n      fileType\n      file {\n        id\n        name\n        path\n        mimeType\n        sizeInBytes\n        createdAt\n        updatedAt\n        url\n      }\n    }\n  }\n}\n    "]);return P=function(){return e},e}let B={},E=(0,i.J1)(o());function F(e){let t={...B,...e};return(0,a.n)(E,t)}let O=(0,i.J1)(l());function j(e){let t={...B,...e};return(0,a.n)(O,t)}(0,i.J1)(u());let U=(0,i.J1)(c());function D(e){let t={...B,...e};return(0,a.n)(U,t)}let R=(0,i.J1)(d());function M(e){let t={...B,...e};return(0,a.n)(R,t)}let L=(0,i.J1)(h());function $(e){let t={...B,...e};return(0,s.I)(L,t)}let G=(0,i.J1)(_());function J(e){let t={...B,...e};return(0,s.I)(G,t)}let q=(0,i.J1)(f());function W(e){let t={...B,...e};return(0,s.I)(q,t)}let H=(0,i.J1)(m());function z(e){let t={...B,...e};return(0,s.I)(H,t)}let V=(0,i.J1)(p());function Q(e){let t={...B,...e};return(0,s.I)(V,t)}let K=(0,i.J1)(g());function Y(e){let t={...B,...e};return(0,s.I)(K,t)}let X=(0,i.J1)(v());function Z(e){let t={...B,...e};return(0,s.I)(X,t)}let ee=(0,i.J1)(y());function et(e){let t={...B,...e};return(0,s.I)(ee,t)}let en=(0,i.J1)(I());function er(e){let t={...B,...e};return(0,s.I)(en,t)}(0,i.J1)(A());let ei=(0,i.J1)(b());function ea(e){let t={...B,...e};return(0,s.I)(ei,t)}let es=(0,i.J1)(S());function eo(e){let t={...B,...e};return(0,s.I)(es,t)}let el=(0,i.J1)(w());function eu(e){let t={...B,...e};return(0,s.I)(el,t)}let ec=(0,i.J1)(T());function ed(e){let t={...B,...e};return(0,s.I)(ec,t)}let eh=(0,i.J1)(k());function e_(e){let t={...B,...e};return(0,s.I)(eh,t)}let ef=(0,i.J1)(C());function em(e){let t={...B,...e};return(0,s.I)(ef,t)}let ep=(0,i.J1)(x());function eg(e){let t={...B,...e};return(0,s.I)(ep,t)}let ev=(0,i.J1)(N());function ey(e){let t={...B,...e};return(0,s.I)(ev,t)}let eI=(0,i.J1)(P());function eA(e){let t={...B,...e};return(0,s.I)(eI,t)}},32768:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});var r=n(12115),i=n(26072),a=n(1717);let s=function(){let{data:e,isLoading:t,error:n,mutate:s}=(0,i.Ay)("/user_info/fetch",()=>a.a.fetchUserDetails(),{errorRetryCount:1,revalidateOnFocus:!1,shouldRetryOnError:!1});return{data:e,isLoading:t,error:n,update:(0,r.useCallback)(async e=>{await a.a.saveUserDetails({userPreferences:e}),s({userPreferences:e,success:!0})},[s])}}},37244:e=>{e.exports={Container:"Layout_Container__8QhIo",Header:"Layout_Header__f_3V0",Main:"Layout_Main__KyruP",HeaderRightSection:"Layout_HeaderRightSection__ocSBD",RoundButton:"Layout_RoundButton__6Bjo4",AppTabBar:"Layout_AppTabBar__i6Dk4",FormContainer:"Layout_FormContainer__8ims9"}},39922:(e,t,n)=>{"use strict";n.d(t,{A:()=>r.default});var r=n(29545)},44377:(e,t,n)=>{"use strict";n.d(t,{GraphqlProvider:()=>s});var r=n(95155),i=n(43565),a=n(1717);function s(e){let{children:t}=e;return(0,r.jsx)(i.X,{client:a.qh.getClient(),children:t})}},49836:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(95155),i=n(856),a=n(82855),s=n(17476),o=n(90147),l=n.n(o);let u=(0,n(74466).F)(l().Button,{variants:{variant:{primary:l().ButtonPrimary,secondary:l().ButtonSecondary,ghost:l().ButtonGhost},disabled:{true:l().ButtonDisabled,false:void 0},size:{sm:l().ButtonSmall,md:l().ButtonMedium,lg:l().ButtonLarge},color:{primary:l().ButtonColorPrimary,black:l().ButtonBlack,gray:l().ButtonGray,red:l().ButtonRed}},defaultVariants:{color:"primary",variant:"primary",size:"md"}}),c=function(e){let{children:t,className:n,variant:o,size:c,fakeDisabled:d,color:h,linkProps:_,...f}=e,{...m}=f,p=f.disabled||!1;return _?(0,r.jsx)(s.A,{..._,isDisabled:p,className:(0,a.t)(l().Button,u({variant:o,disabled:d||p,size:c,color:h}),n),children:t}):(0,r.jsx)(i.$,{isDisabled:p,className:(0,a.t)(l().Button,u({variant:o,disabled:d||p,size:c,color:h}),n),...m,children:t})}},50418:e=>{e.exports={Layout:"AuthenticationPage_Layout__7Pyd_",Main:"AuthenticationPage_Main__gll00",FormContainer:"AuthenticationPage_FormContainer__NwHe6"}},55050:(e,t,n)=>{"use strict";n.d(t,{A:()=>r.A});var r=n(49836);n(12115)},61781:e=>{e.exports={Container:"OtpField_Container__eAguj",Input:"OtpField_Input__xzhuh"}},65504:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(95155),i=n(67666);let a=function(e){let{className:t}=e;return(0,r.jsx)(i.A,{className:t,src:"/assets/images/branding/tenderwise_logo.svg",alt:"Tenderwise logo",height:40,width:140})}},66758:(e,t,n)=>{"use strict";n.d(t,{cs:()=>l,oC:()=>v,WS:()=>p,s_:()=>_,FX:()=>h});var r=n(94971),i=n(95920),a=n(86266),s=new WeakMap,o=new WeakMap;class l{constructor(e){(0,i._)(this,s,{writable:!0,value:void 0}),(0,i._)(this,o,{writable:!0,value:void 0}),this.fetchTendersList=e=>{let{limit:t=30,offset:n=0}=e;return(0,r._)(this,s).post("/tenders/view_all_tenders",{user_id:(0,r._)(this,o).getUserId(),limit:t,offset:n}).then(e=>({tenders:e.data}))},this.fetchTenderById=e=>{let{tenderId:t}=e;return(0,r._)(this,s).post("/tenders/single_page_view",{user_id:(0,r._)(this,o).getUserId(),tender_id:t}).then(e=>({tendersDetails:e.data}))},this.addTenderToInterestedList=e=>{let{tenderId:t}=e;return(0,r._)(this,s).post("/tenders/add_event",{user_id:(0,r._)(this,o).getUserId(),tender_id:t,event_type:"interest",event_data:{interest:"yes"}})},this.removeTenderFromInterestedList=e=>{let{tenderId:t}=e;return(0,r._)(this,s).post("/tenders/add_event",{user_id:(0,r._)(this,o).getUserId(),tender_id:t,event_type:"interest",event_data:{interest:"no"}})},this.createWorkOrder=e=>(0,r._)(this,s).post("/users/work-orders",{user_id:(0,r._)(this,o).getUserId(),...e}),this.getWorkOrderById=e=>{let{workOrderId:t}=e;return(0,r._)(this,s).post("/users/work-orders/get",{user_id:(0,r._)(this,o).getUserId(),work_order_id:t})},this.getWorkOrders=()=>(0,r._)(this,s).post("/users/work-orders/list",{user_id:(0,r._)(this,o).getUserId()}),this.updateWorkOrder=e=>(0,r._)(this,s).post("/users/work-orders/update",{user_id:(0,r._)(this,o).getUserId(),...e}),this.deleteWorkOrder=e=>{let{workOrderId:t}=e;return(0,r._)(this,s).post("/users/work-orders/delete",{user_id:(0,r._)(this,o).getUserId(),work_order_id:t})},this.calculateTenderScore=e=>{let{tenderId:t}=e;return(0,r._)(this,s).post("/tender/calculate-score",{tenderId:t}).then(e=>e.data)},(0,a._)(this,s,e.apiService),(0,a._)(this,o,e.authenticationService)}}var u=n(12115),c=n(30816),d=n(16416);let h=function(){var e,t,n;let{filters:r={limit:5}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[i]=(0,d.s)({}),a=(0,u.useMemo)(()=>({locationCityIds:i.selectedCityIds||[],authorityBodyIds:i.selectedSubAuthorityIds||[],minValue:i.minValue,maxValue:i.maxValue,minEmd:i.minEmd,maxEmd:i.maxEmd,minDistanceRadius:i.minDistanceRadius,maxDistanceRadius:i.maxDistanceRadius,limit:null==r?void 0:r.limit,page:null==r?void 0:r.page,search:null==r?void 0:r.search}),[r,i]),{data:s,error:o,loading:l,refetch:h,networkStatus:_}=(0,c.dm)({variables:{filters:a},fetchPolicy:"cache-and-network",notifyOnNetworkStatusChange:!0}),f=(null==s||null==(e=s.tenders)?void 0:e.data)||[],m=l&&!s,p=l&&!!s,g=!l&&(!s||!f.length);return{tenders:f,error:o,isLoading:m,isUpdating:p,refresh:()=>h(),noData:g,networkStatus:_,page:(null==s||null==(t=s.tenders)?void 0:t.page)||0,total:(null==s||null==(n=s.tenders)?void 0:n.total)||0}},_=function(e){let{tenderId:t}=e,{data:n,error:r,loading:i,refetch:a,networkStatus:s}=(0,c.Wb)({variables:{filters:{ids:t?[t]:[]}},skip:!t,fetchPolicy:"cache-and-network",notifyOnNetworkStatusChange:!0}),o=(null==n?void 0:n.tender)||null,l=i&&!n;return{tenderDetails:o,error:r,isLoading:l,isUpdating:i&&!!n,refresh:()=>a(),noData:!i&&!o,networkStatus:s}};var f=n(1717),m=n(26072);let p=function(e){let{tenderId:t}=e,{data:n,error:r,isLoading:i,mutate:a}=(0,m.Ay)(t?"tender-calculate-score-".concat(t):null,async()=>{if(!t)throw Error("Tender ID is required");return await f.av.calculateTenderScore({tenderId:t})},{revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateOnMount:!1,revalidateIfStale:!1,refreshInterval:0}),s=n||null;return{scoreData:s,error:r,isLoading:i,isUpdating:i&&!!n,refresh:()=>a(),noData:!i&&!s}};var g=n(93162);function v(e){let{tenderId:t}=e;return"".concat(g.f.TENDERS_PAGE,"/details?tender_id=").concat(t)}},67666:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(95155),i=n(66766);let a=function(e){let{src:t,alt:n,width:a,height:s,className:o,style:l}=e;return(0,r.jsx)(i.default,{src:t,alt:n,width:a,height:s,className:o,style:l})}},67959:(e,t,n)=>{"use strict";n.d(t,{jQ:()=>g,Ay:()=>_,mN:()=>d});var r=n(95155),i=n(12115),a=n(49694),s=n(40139),o=n.n(s),l=n(48973),u=n.n(l);let c=i.createContext({});function d(){return i.useContext(c)}function h(e){let{initialValues:t={},yupValidationSchema:n,children:s,onSubmit:l,extraFields:d,onChange:h}=e,_=(0,i.useCallback)(e=>{l&&l(e)},[l]),f=(0,a.Wx)({initialValues:t,onSubmit:_,validationSchema:n,validateOnMount:!0}),{values:m,errors:p,touched:g,setFieldValue:v,handleSubmit:y,setFieldTouched:I}=f,A=(0,i.useCallback)(e=>!!u()(p,e,!1)&&!!u()(g,e,!1),[p,g]),b=!!Object.keys(p).length,S=(0,i.useMemo)(()=>({values:m,errors:p,touched:g,setFieldValue:v,submitForm:y,setFieldTouched:I,touchedAndHasError:A,hasError:b,...d}),[m,p,g,v,y,I,A,d,b]);return(0,i.useEffect)(()=>{h&&h(m,{hasError:b})},[h,m,b]),(0,r.jsx)(c.Provider,{value:S,children:(0,r.jsx)(a.QI,{value:f,children:o()(s)?s({context:S}):s})})}let _=function(e){return(0,r.jsx)(h,{...e})};var f=n(82855),m=n(21178),p=n.n(m);let g=e=>{let{fieldKey:t,className:n,children:i}=e,{touchedAndHasError:a,errors:s}=d(),o=u()(s,t);return o&&a(t)?(0,r.jsx)("div",{className:(0,f.t)(p().Error,n),children:i||o}):null}},79510:e=>{e.exports={Container:"AppTabBar_Container__2UFXP",NavItem:"AppTabBar_NavItem__abfL3",NavItemActive:"AppTabBar_NavItemActive__x0oKN",Label:"AppTabBar_Label__4bL65",Icon:"AppTabBar_Icon__Sfl98"}},82855:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(t=(t=Array.from(new Set(t))).filter(Boolean)).join(" ")}n.d(t,{t:()=>r})},83660:e=>{e.exports={Button:"AuthenticationForm_Button__v_7mk",Heading:"AuthenticationForm_Heading__D1NbZ",SubHeading:"AuthenticationForm_SubHeading__4X5o_",Label:"AuthenticationForm_Label__sbeYb",Small:"AuthenticationForm_Small__l3N8b",PhoneDisplay:"AuthenticationForm_PhoneDisplay__1BEpb",ErrorText:"AuthenticationForm_ErrorText___QNLF",ResendButton:"AuthenticationForm_ResendButton__gLM1r"}},90147:e=>{e.exports={Button:"Button_Button__R3Zme",ButtonPrimary:"Button_ButtonPrimary__Fz5fM",ButtonSecondary:"Button_ButtonSecondary__3yTUY",ButtonGhost:"Button_ButtonGhost__60Vkw",ButtonDisabled:"Button_ButtonDisabled__JX7Ng",ButtonSmall:"Button_ButtonSmall__cPUf_",ButtonMedium:"Button_ButtonMedium__P78u0",ButtonLarge:"Button_ButtonLarge__S7Z_W",ButtonBlack:"Button_ButtonBlack__Qgqmf",ButtonGray:"Button_ButtonGray__CCvYs",ButtonRed:"Button_ButtonRed__NqmgO",ButtonColorPrimary:"Button_ButtonColorPrimary__VHKqe"}},90183:(e,t,n)=>{"use strict";n.d(t,{default:()=>M});var r=n(95155),i=n(12115),a=n(35695),s=n(1717),o=n(15616),l=n(8979),u=n(93162),c=function(e){return e.Phone="phone",e.Otp="otp",e}({}),d=n(37129),h=n(82855),_=n(39365),f=n.n(_),m=n(4407),p=n.n(m);n(30133);let g=function(e){let{className:t,value:n,onChange:a}=e,s=(0,i.useCallback)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a&&a(t[3])},[a]);return(0,r.jsx)(f(),{disableDropdown:!0,country:"in",containerClass:(0,h.t)(p().Container,t),inputClass:p().Input,buttonClass:p().Button,value:n,onChange:s,placeholder:"Enter Your Mobile Number",inputProps:{name:"phone",autoComplete:"phone"}})};var v=n(55050),y=n(83660),I=n.n(y),A=n(23293),b=n(61781),S=n.n(b);let w=function(e){let{className:t,value:n,onChange:a}=e,[s,o]=(0,i.useState)(""),l=void 0!==n&&void 0!==a;return(0,r.jsx)(A.A,{containerStyle:(0,h.t)(t,S().Container),value:l?n:s,onChange:l?a:o,numInputs:6,renderInput:e=>(0,r.jsx)("input",{...e,type:"number",pattern:"[0-9]*",inputMode:"numeric",className:S().Input}),placeholder:"------"})};var T=n(67666);let k=o.sf,C={phone:"",otp:""},x=d.Ik().shape({phone:d.Yj().required(),otp:d.Yj().min(6).max(6).required()}),N=[{id:c.Phone,order:1,content:(0,r.jsx)(function(){let{setFieldValue:e,values:{phone:t},stepFormRef:n,setOtpResendTime:a,setOtpError:s,setIsOtpSent:o,setVerificationId:u}=k(),{generateOtp:d,isGettingOtp:_}=(0,l.As)(),f=(0,i.useCallback)(t=>{e("phone",t),e("otp","")},[e]),m=(0,i.useCallback)(async()=>{let r=t.replaceAll(" ","").replaceAll("-","");try{let t=await d({phoneNumberWithCountryCode:r});(null==t?void 0:t.success)&&t.verificationId&&(e("otp",""),a(30),o(!0),s(null),u(t.verificationId),n.current&&n.current.gotToStep(c.Otp))}catch(e){s(e.message||"Failed to send OTP")}},[d,e,t,n,o,a,s,u]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:I().Heading,children:"Enter Whatsapp Number"}),(0,r.jsx)("div",{className:(0,h.t)("mt-2",I().SubHeading),children:"We'll have to make sure it's you."}),(0,r.jsx)("label",{className:(0,h.t)("mt-4",I().Label),children:"Mobile Number"}),(0,r.jsx)(g,{className:"w-100 mt-2",value:t,onChange:f}),(0,r.jsx)("div",{className:(0,h.t)("mt-2",I().Small),children:"We will send a verification otp on your number to verify your number."}),(0,r.jsx)(v.A,{disabled:_,onClick:m,className:(0,h.t)("w-100","mt-4 mt-md-5",I().Button),children:_?"Please wait...":"Send OTP"})]})},{})},{id:c.Otp,order:1,content:(0,r.jsx)(function(){let{isSubmittingOtp:e,values:{phone:t,otp:n},setFieldValue:a,stepFormRef:s,errors:o,submitForm:u,otpError:d,otpResendTime:_,setOtpResendTime:f,setIsOtpSent:m,setOtpError:p,setVerificationId:g}=k(),{generateOtp:y,isGettingOtp:A}=(0,l.As)(),b=!!o.otp||e;(0,i.useEffect)(()=>{if(_>0){let e=setTimeout(()=>{f(_-1)},1e3);return()=>clearTimeout(e)}},[_,f]);let S=(0,i.useCallback)(()=>{s.current&&s.current.gotToStep(c.Phone)},[s]),C=(0,i.useCallback)(async()=>{let e=t.replaceAll(" ","").replaceAll("-","");try{let t=await y({phoneNumberWithCountryCode:e});(null==t?void 0:t.success)&&t.verificationId&&(a("otp",""),f(30),m(!0),p(null),g(t.verificationId))}catch(e){p(e.message||"Failed to send OTP")}},[y,t,a,f,m,p,g]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:I().Heading,children:"Verify Your Number"}),(0,r.jsx)("div",{className:(0,h.t)("mt-2",I().SubHeading),children:"Enter the OTP sent to"}),(0,r.jsxs)("div",{className:(0,h.t)("mt-1",I().PhoneDisplay),children:[t,(0,r.jsx)(v.A,{variant:"ghost",size:"sm",onClick:S,children:(0,r.jsx)(T.A,{src:"/assets/images/icons/edit.svg",alt:"Info",height:16,width:16})})]}),(0,r.jsx)("label",{className:(0,h.t)("mt-4",I().Label),children:"OTP"}),(0,r.jsx)(w,{className:"mt-2",value:n,onChange:e=>{a("otp",e)}}),d&&(0,r.jsx)("div",{className:(0,h.t)("mt-2",I().ErrorText),children:d}),(0,r.jsx)("div",{className:(0,h.t)("mt-2",I().Small),children:_>0?"Resend OTP in ".concat(_," seconds"):(0,r.jsx)(v.A,{variant:"ghost",className:I().ResendButton,disabled:A,onClick:C,children:"Resend OTP"})}),(0,r.jsx)(v.A,{disabled:b,className:(0,h.t)("w-100","mt-4 mt-md-5",I().Button),onClick:()=>{u()},children:e?"Please wait...":"Proceed"})]})},{})}],P=function(e){let{className:t}=e,[n,s]=(0,i.useState)(!1),[d,h]=(0,i.useState)(null),[_,f]=(0,i.useState)(!1),[m,p]=(0,i.useState)(0),[g,v]=(0,i.useState)(""),y=(0,a.useRouter)(),{verifyOtp:I}=(0,l.As)(),A=(0,i.useRef)(null),b=(0,i.useCallback)(async e=>{if(n)return;s(!0);let{otp:t,phone:r}=e,i=r.replaceAll(" ","").replaceAll("-","");try{let e=await I({otp:t,phoneNumberWithCountryCode:i});e&&(h(null),e.isNewUser?y.push(u.f.WELCOME_PAGE):y.push(u.f.ONBOARDING_FORM_PAGE))}catch(e){h(e.message||"Invalid OTP. Please try again.")}finally{s(!1)}},[n,I,y]),S=(0,i.useMemo)(()=>({isSubmittingOtp:n,setIsSubmittingOtp:s,otpError:d,setOtpError:h,isOtpSent:_,setIsOtpSent:f,otpResendTime:m,setOtpResendTime:p,verificationId:g,setVerificationId:v}),[n,d,_,m,g]);return(0,r.jsx)(o.Ay,{ref:A,className:t,extraFields:S,initialValues:C,yupValidationSchema:x,onSubmit:b,initialStepId:c.Phone,steps:N})};var B=n(39922),E=n(50418),F=n.n(E);let O=function(){return(0,r.jsx)(B.A,{className:F().Layout,mainClassName:F().Main,appendHeader:!1,children:(0,r.jsx)("div",{className:(0,h.t)(F().FormContainer),children:(0,r.jsx)(P,{})})})};var j=n(30816),U=n(29629),D=n(19587),R=n(25768);let M=function(e){let{children:t}=e,n=(0,a.usePathname)(),o=(0,a.useRouter)(),[l,c]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!0),[_,f]=(0,i.useState)(!0),[m,p]=(0,i.useState)(""),[g,{loading:v}]=(0,j.dZ)(),[y]=(0,j.x8)(),I=(0,D.tg)(n),A=(0,i.useCallback)(async e=>{let{phoneNumberWithCountryCode:t}=e;if(!v)try{var n,r;let e=await g({variables:{input:{phoneNumber:t,deviceId:"web-client"}}});if((null==(n=e.data)?void 0:n.generateOtp.success)&&e.data.generateOtp.verificationId)return p(e.data.generateOtp.verificationId),{success:!0,verificationId:e.data.generateOtp.verificationId,expiresInSeconds:e.data.generateOtp.expiresInSeconds};throw Error((null==(r=e.data)?void 0:r.generateOtp.message)||"Failed to generate OTP")}catch(e){throw e}},[v,g]),b=(0,i.useCallback)(async function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return s.qh.clearAuthToken(),localStorage.removeItem("sessionId"),c(!1),h(!1),f(!0),p(""),e&&o.push(u.f.HOME_PAGE),{success:!0}},[o]),S=(0,i.useCallback)(async e=>{let{otp:t,phoneNumberWithCountryCode:n}=e;if(h(!0),U.j)return h(!1),c(!0),{isNewUser:!0};try{var r;let e=await y({variables:{input:{phoneNumber:n,otpCode:t,verificationId:m,deviceId:"web-client"}}});if(null==(r=e.data)?void 0:r.verifyOtp){let{accessToken:t,user:n}=e.data.verifyOtp;s.qh.setAuthToken(t),c(!0);let r=!n.firstName||"User"===n.firstName;return f(r),h(!1),{isNewUser:r}}throw Error("Verification failed")}catch(e){throw b(),h(!1),e}},[m,y,b]);(0,i.useEffect)(()=>{c(!!s.qh.getAuthToken()),h(!1)},[]);let w=(0,i.useMemo)(()=>({isAuthenticated:l,isAuthenticating:d,isGettingOtp:v,generateOtp:A,verifyOtp:S,isNewUser:_,logout:b}),[l,d,v,A,S,_,b]),T=(d||!l)&&!I;return d?(0,r.jsx)(R.A,{}):(0,r.jsx)(U.g.Provider,{value:w,children:T?(0,r.jsx)(O,{}):t})}},93162:(e,t,n)=>{"use strict";n.d(t,{F:()=>i,f:()=>r});let r={HOME_PAGE:"/",ONBOARDING_FORM_PAGE:"/onboard",TENDERS_PAGE:"/tenders",SETTINGS_PAGE:"/settings",WELCOME_PAGE:"/welcome",PROFILE_PAGE:"/profile"},i=["/dev","/dev/api"]}}]);