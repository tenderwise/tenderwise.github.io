(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[382],{12413:e=>{e.exports={Container:"NumberField_Container__hAErP",Input:"NumberField_Input__K_Ovr",Button:"NumberField_Button__QjGqk",ButtonPrimary:"NumberField_ButtonPrimary__QmJln"}},26503:e=>{e.exports={Container:"TextArea_Container__mzAb2",TextArea:"TextArea_TextArea__Lr1JO"}},30737:e=>{e.exports={Container:"StepsProgress_Container__bDMl2",Step:"StepsProgress_Step__Jn_4V"}},44618:e=>{e.exports={InfoText:"OnboardingForm_InfoText__mG_oB",InfoTextSmall:"OnboardingForm_InfoTextSmall__7emOj",LabelSmall:"OnboardingForm_LabelSmall__U_sBA"}},48291:e=>{e.exports={Select:"Select_Select__zk1zX",Button:"Select_Button__eBwwe",Icon:"Select_Icon__rIHhT",SelectValue:"Select_SelectValue__OgpVp",Popover:"Select_Popover__saqnL",ListBox:"Select_ListBox__MUccL",Header:"Select_Header__44KdS",ListBoxItem:"Select_ListBoxItem__0OWLa"}},51206:(e,s,t)=>{Promise.resolve().then(t.bind(t,92813))},61245:e=>{e.exports={Container:"Progress_Container__NQ81n"}},61319:e=>{e.exports={Card:"RadioGroupCard_Card__R8Wy_",CardWithValue:"RadioGroupCard_CardWithValue__8Idfd",Container:"RadioGroupCard_Container__mi9u2",Title:"RadioGroupCard_Title__K_tht"}},63949:e=>{e.exports={Card:"MilestoneStep_Card__NjMoV",CardTitle:"MilestoneStep_CardTitle__IDQtA",CardContent:"MilestoneStep_CardContent__8LJ0W",GroupIcon:"MilestoneStep_GroupIcon__ip_EM",GroupIconActive:"MilestoneStep_GroupIconActive__vsf_P",GroupTitle:"MilestoneStep_GroupTitle__7rDKq",GroupContent:"MilestoneStep_GroupContent___QEXa"}},65051:e=>{e.exports={Container:"FormLayout_Container__omwfx",Header:"FormLayout_Header__NF3L_",HeaderRow:"FormLayout_HeaderRow__4cKW1",HeaderActionRow:"FormLayout_HeaderActionRow__UpUgf",StepName:"FormLayout_StepName__RkGA5",StepNumber:"FormLayout_StepNumber__5qsBv",StepContainer:"FormLayout_StepContainer__dd9R6",ActionsContainer:"FormLayout_ActionsContainer__cBWEu"}},71273:e=>{e.exports={Slider:"Slider_Slider__32NR5",SliderOutput:"Slider_SliderOutput__kUyBg",SliderTrack:"Slider_SliderTrack__1AgbF",SliderThumb:"Slider_SliderThumb__J2IK0",SliderLabel:"Slider_SliderLabel__RL6i2",SliderTrackFill:"Slider_SliderTrackFill__83xOz"}},75361:e=>{e.exports={CountField:"BusinessDetailsStep_CountField__cOk5q",CountFieldInput:"BusinessDetailsStep_CountFieldInput__aC9k5"}},80818:e=>{e.exports={Container:"ActionButtons_Container__nqg9Y"}},92813:(e,s,t)=>{"use strict";t.d(s,{default:()=>e6});var a=t(95155),r=t(82874),l=t(12115),n=t(15616),i=t(30816),o=function(e){return e.UserDetails="user_details",e.BusinessCategory="business_category",e.BusinessSubcategory="business_subcategory",e.BusinessDetails="business_details",e.BusinessGovernmentDetails="business_gov_details",e.TenderTopics="tender_topics",e.TenderSubtopics="tender_subtopics",e.TenderStates="tender_states",e.TenderDistricts="tender_districts",e.TenderLocationRange="tender_location_range",e.TenderAuthorities="tender_authorities",e.TenderSubauthorities="tender_subauthorities",e.TenderKeywords="tender_keywords",e.RegistrationDocuments="registration_documents",e.ComplianceDocuments="compliance_documents",e.ContractorDocuments="contractor_documents",e.StateDocuments="state_documents",e.CentralDocuments="central_documents",e.TechnicalDocuments="technical_documents",e.CertificationDocuments="certification_documents",e.PastWorkDocuments="past_work_documents",e.FirstMilestone="1st_milestone",e.SecondMilestone="2nd_milestone",e.ThirdMilestone="3rd_milestone",e}({}),d=t(48973),c=t.n(d),u=t(8889),m=t(67959),h=t(35978),v=t(67666),p=t(82855),x=t(97275),b=t.n(x);let j={Container:function(e){let{className:s,children:t,variant:r="buttons",...l}=e;return(0,a.jsx)(h.z6,{className:(0,p.t)(b().Container,s,"buttons"===r&&b().ContainerButtonVariant,"list"===r&&b().ContainerListVariant),...l,children:t})},Option:function(e){let{className:s,children:t,...r}=e;return(0,a.jsx)(h.sx,{className:(0,p.t)(b().Radio,s),...r,children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:b().OptionCheckbox,children:(0,a.jsx)(v.A,{className:b().OptionTick,src:"/assets/images/icons/tick.svg",alt:"Edit items",width:12,height:12})}),t]})})}};var f=t(44618),g=t.n(f);let y="user.languageId",N=function(e){let{className:s}=e,{values:t,setFieldValue:r}=eE(),{data:n,loading:o,error:d}=(0,i.b$)({variables:{filters:{isActive:!0}}}),u=c()(t,y,null),h=(0,l.useMemo)(()=>(null==n?void 0:n.languages)?n.languages.map(e=>({label:e.nativeName,value:e.id})):[],[n]);return d?(console.error("Error loading languages:",d),null):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{id:"Language",className:(0,p.t)(s,"d-block"),children:"Preferred Language for Communication"}),(0,a.jsx)(j.Container,{"aria-labelledby":"Language",className:"mt-2",value:u,onChange:e=>{r(y,e)},children:o&&!n?(0,a.jsx)("div",{className:"text-muted",children:"Loading languages..."}):h.map((e,s)=>{let{label:t,value:r}=e;return(0,a.jsx)(j.Option,{value:r,children:t},s)})}),(0,a.jsx)("p",{className:(0,p.t)(g().InfoTextSmall,"mt-3"),children:"Mark only one oval"}),(0,a.jsx)(m.jQ,{className:"mt-2",fieldKey:y})]})},_="user.firstName",C="user.lastName",I="user.email";var S=t(93478),k=t(6144),A=t(85560),T=t(36292),P=t(96982),w=t(12413),B=t.n(w);let L=function(e){let{className:s,defaultValue:t,maxValue:r,minValue:l,step:n,value:i=10,onChange:o}=e;return(0,a.jsxs)(S.oz,{maxValue:r,minValue:l,defaultValue:t,className:s,step:n,value:i,onChange:o,children:[(0,a.jsx)(k.J,{className:"d-none",children:"Width"}),(0,a.jsxs)(A.Y,{className:B().Container,children:[(0,a.jsx)(T.$,{slot:"decrement",className:B().Button,children:"-"}),(0,a.jsx)(P.p,{className:B().Input,style:{width:"calc(".concat("".concat(i).length," * 12px)")}}),(0,a.jsx)(T.$,{slot:"increment",className:(0,p.t)(B().Button,B().ButtonPrimary),children:"+"})]})]})};var D=t(34309),E=t(67308),O=t(65718),M=t(62878),F=t(2634),R=t(48291),Y=t.n(R);let V=function(e){let{className:s,label:t,onChange:r,placeholder:l,value:n,items:i}=e;return(0,a.jsx)(F.A,{className:s,inputComponent:(0,a.jsxs)(E.l6,{className:(0,p.t)(Y().Select),placeholder:l,selectedKey:n,onSelectionChange:r,children:[(0,a.jsx)(k.J,{className:"d-none",children:t}),(0,a.jsxs)(T.$,{className:Y().Button,children:[(0,a.jsx)(E.yv,{className:Y().SelectValue}),(0,a.jsx)(v.A,{className:Y().Icon,src:"/assets/images/icons/chevron_left.svg",alt:"Info",height:20,width:20})]}),(0,a.jsx)(O.A,{className:Y().Popover,offset:8,children:(0,a.jsx)(M.qF,{className:Y().ListBox,children:i.map(e=>{let{label:s,value:t}=e;return(0,a.jsx)(M.nh,{className:Y().ListBoxItem,children:s},t)})})})]})})};var G=t(22998),U=t(26503),K=t.n(U);let W=function(e){let{className:s,prependContent:t,appendContent:r,style:l,error:n,...i}=e,o=i["aria-labelledby"]||i["aria-label"]||i.name||i.placeholder;return(0,a.jsx)(F.A,{className:(0,p.t)(K().Container,s),error:n,prependContent:t,appendContent:r,style:{...l||{}},inputComponent:(0,a.jsx)(G.f,{"aria-labelledby":o,...i,className:K().TextArea})})};var z=t(75361),q=t.n(z);let H="businessDetails.name",Q="businessDetails.description",J="businessDetails.gstNumber",$="businessDetails.annualTurnoverInInr",Z="businessDetails.startDate",X="businessDetails.websiteUrl",ee=[{label:"Authority 1",value:"Authority 1"},{label:"Authority 2",value:"Authority 2"},{label:"Authority 3",value:"Authority 3"}],es=[{label:"Class 1",value:"Class 1"},{label:"Class 2",value:"Class 2"},{label:"Class 3",value:"Class 3"}];var et=t(33452),ea=t(7628),er=t(34642);function el(e){var s;let{categoryId:t,categoryName:r}=e,{values:n,setFieldValue:o}=eE(),d=(0,l.useMemo)(()=>{var e;return(null==n||null==(e=n.businessDetails)?void 0:e.subcategoryIds)||[]},[null==n||null==(s=n.businessDetails)?void 0:s.subcategoryIds]),{data:c,loading:u}=(0,i.oR)({variables:{filters:{isActive:!0,businessCategoryIds:[t]}}}),m=(0,l.useMemo)(()=>{var e;return(null==c||null==(e=c.businessSubcategories)?void 0:e.map(e=>({name:e.name,value:e.id})))||[]},[null==c?void 0:c.businessSubcategories]),h=(0,l.useCallback)(e=>{o("businessDetails.subcategoryIds",Array.from(new Set([...d.filter(e=>!m.some(s=>s.value===e)),...e])))},[o,m,d]);return u&&!c?(0,a.jsx)(er.U,{className:"mt-3"}):(0,a.jsx)(er.A,{"aria-labelledby":"business-category",className:"mt-3",title:r,options:m,value:d,searchLabel:"Select Sub Category",searchPlaceholder:"Search Authorities",onChange:h})}function en(e){var s;let{topicId:t,topicName:r}=e,{values:n,setFieldValue:o}=eE(),d=(0,l.useMemo)(()=>{var e;return(null==n||null==(e=n.tenderPreference)?void 0:e.subcategoryIds)||[]},[null==n||null==(s=n.tenderPreference)?void 0:s.subcategoryIds]),{data:c,loading:u}=(0,i.Oe)({variables:{filters:{tenderCategoryIds:[t]}}}),m=(0,l.useMemo)(()=>(null==c?void 0:c.tenderSubcategories.map(e=>({name:e.name,value:"".concat(e.id)})))||[],[c]),h=(0,l.useCallback)(e=>{o("tenderPreference.subcategoryIds",Array.from(new Set([...d.filter(e=>!m.some(s=>s.value===e)),...e])))},[d,m,o]);return u&&!c?(0,a.jsx)(er.U,{className:"mt-3"}):(0,a.jsx)(er.A,{"aria-labelledby":"sup-topics",className:"mt-3",title:r,options:m,value:d,searchLabel:"Select Sub Category",searchPlaceholder:"Search Authorities",onChange:h})}var ei=t(45009),eo=t.n(ei),ed=t(72074),ec=t(50803),eu=t(61319),em=t.n(eu);let eh=function(e){let{className:s,options:t=[],placeholder:r="Select an Option",...n}=e,{state:i,enable:o,disable:d,setState:c}=(0,ec.A)(),{value:u,onChange:m}=n,h=u?(0,a.jsx)(v.A,{className:"ml-auto",src:"/assets/images/icons/edit.svg",alt:"Add items",width:16,height:16}):(0,a.jsx)(v.A,{className:"ml-auto",src:"/assets/images/icons/plus.svg",alt:"Edit items",width:16,height:16}),x=(0,l.useMemo)(()=>{let e=t.find(e=>e.value===u);return e?e.label||u:u||r},[u,t,r]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(D.A,{className:(0,p.t)(em().Card,!!u&&em().CardWithValue),size:"sm",variant:"ghost",onClick:o,children:[(0,a.jsx)("div",{className:em().Title,children:x||r}),h]}),(0,a.jsx)(ed.A,{isOpen:i,onOpenChange:c,title:r,children:(0,a.jsx)(j.Container,{...n,variant:"list",className:(0,p.t)(s),onChange:e=>{m&&m(e),d()},children:t.map((e,s)=>(0,a.jsx)(j.Option,{value:e.value,children:e.label},s))})})]})};var ev=t(78066);let ep=function(e){let{className:s}=e;return(0,a.jsxs)(ev.A.Default,{className:(0,p.t)(em().Card,em().CardWithValue,s),children:[(0,a.jsx)(ev.A.Default,{style:{width:"5rem",height:"1rem"}}),(0,a.jsx)(ev.A.Circular,{size:"1rem"})]})},ex=[void 0,void 0,void 0];function eb(e){var s;let{stateId:t,stateName:r}=e,{values:n,setFieldValue:o}=eE(),d=(0,l.useMemo)(()=>{var e;return(null==n||null==(e=n.tenderPreference)?void 0:e.cityIds)||[]},[null==n||null==(s=n.tenderPreference)?void 0:s.cityIds]),{data:c,loading:u}=(0,i.WC)({variables:{filters:{stateIds:[t]}}}),m=(0,l.useMemo)(()=>(null==c?void 0:c.cities.map(e=>({name:e.name||"",value:"".concat(e.id)})))||[],[c]),h=(0,l.useCallback)(e=>{o("tenderPreference.cityIds",Array.from(new Set([...d.filter(e=>!m.some(s=>s.value===e)),...e])))},[m,d,o]);return u&&!c?(0,a.jsx)(er.U,{className:"mt-3"}):(0,a.jsx)(er.A,{"aria-labelledby":"districts",className:"mt-3",title:r,options:m,value:d,searchLabel:"Select Districts",searchPlaceholder:"Search Districts",onChange:h})}var ej=t(74e3),ef=t(71273),eg=t.n(ef);let ey=function(e){let{className:s,label:t,thumbLabels:r,valueRender:l,...n}=e;return(0,a.jsxs)(ej.Ap,{...n,className:(0,p.t)(s,eg().Slider),children:[t&&(0,a.jsx)(k.J,{className:eg().SliderLabel,children:t}),(0,a.jsx)(ej.hB,{className:eg().SliderTrack,children:e=>{let{state:s}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:eg().SliderTrackFill,style:{width:1===s.values.length?100*s.getThumbPercent(0)+"%":(s.getThumbPercent(1)-s.getThumbPercent(0))*100+"%",left:1===s.values.length?0:100*s.getThumbPercent(0)+"%"}}),s.values.map((e,t)=>(0,a.jsx)(ej.OQ,{index:t,"aria-label":null==r?void 0:r[t],className:eg().SliderThumb,children:(0,a.jsx)(ej.Vw,{className:eg().SliderOutput,children:l?l({value:s.getThumbValueLabel(t)}):s.getThumbValueLabel(t)})},t))]})}})]})},eN=function(){let{values:e,setFieldValue:s}=eE(),[t,r]=(0,l.useState)(""),n=c()(e,"tenderPreference.townIds",[]),{data:o,loading:d,error:m}=(0,i.KK)({variables:{filters:{isActive:!0}}}),h=(0,l.useMemo)(()=>(null==o?void 0:o.towns)?o.towns.map(e=>({label:e.name||"",value:e.id})):[],[o]);m&&console.error("Error loading towns:",m);let v=(0,l.useMemo)(()=>t?h.filter(e=>e.label.toLocaleLowerCase().includes(t.toLocaleLowerCase())):h,[t,h]),p=(0,l.useCallback)(e=>{s("tenderPreference.townIds",e)},[s]);return(0,a.jsxs)("div",{children:[(0,a.jsx)(u.A,{className:"mt-3",placeholder:"Enter town/ village /locality Name",value:t,onChange:r}),d&&!o?(0,a.jsx)("div",{className:"text-muted mt-3",children:"Loading towns..."}):(0,a.jsx)(et.A.Container,{className:"mt-3",value:n.map(String),onChange:p,children:v.map(e=>{let{label:s,value:t}=e;return(0,a.jsx)(et.A.Option,{value:t,children:s},t)})})]})};function e_(e){let{categoryId:s}=e,{values:t,setFieldValue:r}=eE(),{data:n,loading:o,error:d}=(0,i.p1)({variables:{filters:{isActive:!0}}});d&&console.error("Error loading authority bodies:",d);let u=(0,l.useMemo)(()=>(null==n?void 0:n.authorityBodies)?n.authorityBodies.filter(e=>{var t;return null==(t=e.categories)?void 0:t.some(e=>(null==e?void 0:e.id)===s)}):[],[n,s]),m=(0,l.useMemo)(()=>u.map(e=>({name:e.name||"",value:e.id})),[u]),h=c()(t,"tenderPreference.authorityBodyIds",[]),v=(0,l.useMemo)(()=>{if(!(null==n?void 0:n.authorityBodies))return{};let e={};return n.authorityBodies.forEach(s=>{var t;null==(t=s.categories)||t.forEach(t=>{(null==t?void 0:t.id)&&(e[t.id]||(e[t.id]=[]),e[t.id].push(s))})}),e},[n]),p=(0,l.useMemo)(()=>{var e;let t=null!=(e=(v[s]||[])[0])?e:u[0];if(!(null==t?void 0:t.categories))return"Authority Bodies";let a=t.categories.find(e=>(null==e?void 0:e.id)===s);return(null==a?void 0:a.name)||"Authority Bodies"},[v,s,u]),x=(0,l.useCallback)(e=>{let t=v[s].filter(Boolean).map(e=>e.id||"")||[];r("tenderPreference.authorityBodyIds",Array.from(new Set([...e,...h.filter(e=>!t.includes(e))])))},[s,h,v,r]);return o&&!n?(0,a.jsx)(er.U,{className:"mt-3"}):m.length?(0,a.jsx)(er.A,{"aria-labelledby":"Tender authority",className:"mt-3",title:p,options:m,value:h,searchLabel:"Search Authority Bodies",searchPlaceholder:"Search Authority Bodies",onChange:x}):null}let eC=function(){let{values:e,setFieldValue:s}=eE(),[t,r]=(0,l.useState)(""),n=c()(e,"tenderPreference.keywordIds",[]),{data:o,loading:d,error:m}=(0,i.M8)({variables:{filters:{isActive:!0}}}),h=(0,l.useMemo)(()=>(null==o?void 0:o.tenderKeywords)?o.tenderKeywords.map(e=>({label:e.name||"",value:e.id})):[],[o]);m&&console.error("Error loading keywords:",m);let v=(0,l.useMemo)(()=>t?h.filter(e=>e.label.toLocaleLowerCase().includes(t.toLocaleLowerCase())):h,[t,h]),p=(0,l.useCallback)(e=>{s("tenderPreference.keywordIds",e)},[s]);return(0,a.jsxs)("div",{children:[(0,a.jsx)(u.A,{className:"mt-3",placeholder:"Enter relevant keywords for tenders",value:t,onChange:r}),d&&!o?(0,a.jsx)("div",{className:"text-muted mt-3",children:"Loading keywords..."}):(0,a.jsx)(et.A.Container,{className:"mt-3",value:n,onChange:p,children:v.map(e=>{let{label:s,value:t}=e;return(0,a.jsx)(et.A.Option,{value:"".concat(t),children:s},t)})})]})},eI=function(){let{steps:e}=eE(),{stepsValidationDataMap:s}=(0,n.l9)();return(0,l.useMemo)(()=>{let t=eP.map(t=>{let{groupNumber:a}=t,r=e.filter(e=>{let{stepNumber:s=""}=e;return+s.split("_")[0]===a}),l=r.every(e=>{let{id:t}=e;return s[t].completed});return{groupSteps:r,allStepsCompleted:l,groupNumber:a}}),a=t.reduce((e,s)=>({...e,[s.groupNumber]:s}),{});return{stepGroupListCompletionData:t,stepGroupValidationDataMap:a}},[s,e])};var eS=t(63949),ek=t.n(eS);let eA=e=>{let{title:s,description:t,completed:r,className:l}=e;return(0,a.jsxs)("div",{className:(0,p.t)(l,"d-flex gap-2"),children:[(0,a.jsx)("div",{className:(0,p.t)(ek().GroupIcon,r&&ek().GroupIconActive),children:(0,a.jsx)(v.A,{src:r?"/assets/images/icons/tick.svg":"/assets/images/icons/clock.svg",alt:"",width:12,height:12})}),(0,a.jsxs)("div",{className:"flex-grow-1",children:[(0,a.jsx)("div",{className:ek().GroupTitle,children:s}),(0,a.jsx)("div",{className:(0,p.t)(ek().GroupContent,"mt-1"),children:t})]})]})},eT=function(){let{stepsValidationDataMap:e}=(0,n.l9)(),{steps:s}=(0,n.sf)(),{stepGroupValidationDataMap:t}=eI();return(0,l.useMemo)(()=>{console.log("DEBUG",{steps:s,stepsValidationDataMap:e})},[s,e]),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:ek().Card,children:[(0,a.jsx)(v.A,{src:"/assets/images/pages/user-form/tick-big.svg",alt:"",width:80,height:80}),(0,a.jsx)("h3",{className:(0,p.t)(ek().CardTitle,"mt-3"),children:"You Almost There"}),(0,a.jsx)("p",{className:(0,p.t)(ek().CardContent,"mt-2"),children:"Completed your profile so we help you find tenders that match your business needs."})]}),(0,a.jsx)(eA,{title:"Business Profile",description:"Completed",className:"mt-5",completed:t[1].allStepsCompleted}),(0,a.jsx)(eA,{title:"Tender Preferences",description:"Completed",className:"mt-5",completed:t[2].allStepsCompleted})]})},eP=[{groupNumber:1,name:"Tender Preferences",totalStepsCount:4},{groupNumber:2,name:"Business Documents",totalStepsCount:4}],ew=[{order:1,id:o.UserDetails,content:(0,a.jsx)(function(){let{values:e,setFieldValue:s,touchedAndHasError:t,setFieldTouched:r}=eE(),l=c()(e,_,""),n=c()(e,C,""),i=c()(e,I,"");return(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:g().InfoText,children:"* Indicates required question"}),(0,a.jsx)("label",{className:"d-block mt-4",htmlFor:"name-input",children:"What is your name?"}),(0,a.jsxs)("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[(0,a.jsxs)("div",{style:{flexBasis:0,flexGrow:1},children:[(0,a.jsx)(u.A,{id:"name-input",className:"mt-2 w-100",placeholder:"First name",autoComplete:"first-name",error:t(_),value:l,onChange:e=>{s(_,e)},onBlur:()=>{r(_)}}),(0,a.jsx)(m.jQ,{className:"mt-2",fieldKey:_})]}),(0,a.jsxs)("div",{style:{flexBasis:0,flexGrow:1},children:[(0,a.jsx)(u.A,{id:"name-input",className:"mt-2 w-100",placeholder:"Last name",autoComplete:"last-name",error:t(C),value:n,onChange:e=>{s(C,e)},onBlur:()=>{r(C)}}),(0,a.jsx)(m.jQ,{className:"mt-2",fieldKey:C})]})]}),(0,a.jsx)("label",{className:"d-block mt-5",htmlFor:"email-input",children:"Email"}),(0,a.jsx)(u.A,{id:"email-input",className:"mt-2",placeholder:"Enter Email",autoComplete:"email",value:i,error:t(I),onChange:e=>{s(I,e)},onBlur:()=>{r(I)}}),(0,a.jsx)(m.jQ,{className:"mt-2",fieldKey:I}),(0,a.jsx)(N,{className:"mt-5"})]})},{}),stepFields:["user.firstName","user.lastName","user.email","user.languageId"],stepNumber:"1_1",isCompletedValidatorFunction:e=>{var s,t,a;let{errors:r}=e;return{completed:!(null==r||null==(s=r.user)?void 0:s.firstName)&&!(null==r||null==(t=r.user)?void 0:t.lastName)&&!(null==r||null==(a=r.user)?void 0:a.email)}}},{id:o.BusinessDetails,order:3,content:(0,a.jsx)(function(){let{values:e,setFieldValue:s,touchedAndHasError:t,setFieldTouched:r}=eE(),n=c()(e,H,""),i=c()(e,Q,""),o=c()(e,J,""),d=c()(e,$,""),h=c()(e,Z,""),v=c()(e,X,""),[x,b]=(0,l.useState)(null),[f,g]=(0,l.useState)([{authority:"",numberOfTenders:0}]),[y,N]=(0,l.useState)(null),_=(0,l.useCallback)(()=>{g(e=>[...e,{authority:"",numberOfTenders:0}])},[]),C=(0,l.useCallback)(e=>{g(s=>((s=[...s]).splice(e,1),s))},[]),I=(0,l.useMemo)(()=>{let e=new Date;return e.setDate(e.getDate()+30),e.toISOString().split("T")[0]},[]);return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-5",children:[(0,a.jsx)("label",{className:"d-block",children:"Business Name"}),(0,a.jsx)(u.A,{id:"business-name",className:"mt-2",placeholder:"Enter your business name",value:n,error:t(H),onChange:e=>{s(H,e)},onBlur:()=>{r(H)}}),(0,a.jsx)(m.jQ,{className:"mt-2",fieldKey:H})]}),(0,a.jsxs)("div",{className:"mb-5",children:[(0,a.jsx)("label",{className:"d-block",children:"Business Description"}),(0,a.jsx)(W,{id:"business-description",className:"mt-2",placeholder:"Describe your business",value:i,error:t(Q),onChange:e=>{console.log("DEBUG",{value:e.target.value}),s(Q,e.target.value)},onBlur:()=>{r(Q)}}),(0,a.jsx)(m.jQ,{className:"mt-2",fieldKey:Q})]}),(0,a.jsxs)("div",{className:"mb-5",children:[(0,a.jsx)("label",{className:"d-block",children:"GST Number"}),(0,a.jsx)(u.A,{id:"gst-number",className:"mt-2",placeholder:"Enter GST number",value:o,error:t(J),onChange:e=>{s(J,e)},onBlur:()=>{r(J)}}),(0,a.jsx)(m.jQ,{className:"mt-2",fieldKey:J})]}),(0,a.jsxs)("div",{className:"mb-5",children:[(0,a.jsx)("label",{className:"d-block",children:"Annual Turnover (in INR)"}),(0,a.jsx)(u.A,{id:"annual-turnover",className:"mt-2",placeholder:"Enter annual turnover",value:d,error:t($),onChange:e=>s($,e),onBlur:()=>{r($)}}),(0,a.jsx)(m.jQ,{className:"mt-2",fieldKey:$})]}),(0,a.jsxs)("div",{className:"mb-5",children:[(0,a.jsx)("label",{className:"d-block",children:"Business Start Date"}),(0,a.jsx)(u.A,{id:"start-date",className:"mt-2",placeholder:"Enter start date",type:"date",value:h,error:t(Z),onChange:e=>s(Z,e),max:I,onBlur:()=>{r(Z)}}),(0,a.jsx)(m.jQ,{className:"mt-2",fieldKey:Z})]}),(0,a.jsxs)("div",{className:"mb-5",children:[(0,a.jsx)("label",{className:"d-block",children:"Website URL"}),(0,a.jsx)(u.A,{id:"website-url",className:"mt-2",placeholder:"Enter website URL",value:v,error:t(X),onChange:e=>s(X,e),onBlur:()=>{r(X)}}),(0,a.jsx)(m.jQ,{className:"mt-2",fieldKey:X})]}),(0,a.jsxs)("div",{className:"mb-5",children:[(0,a.jsx)("label",{className:"d-block",children:"Have you completed any government tender work in the past?"}),(0,a.jsxs)(j.Container,{className:"mt-2","aria-labelledby":"government-tenders",value:"".concat(y),onChange:e=>{N(JSON.parse(e))},children:[(0,a.jsx)(j.Option,{value:"true",children:"Yes"}),(0,a.jsx)(j.Option,{value:"false",children:"No"})]})]}),y&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-5",children:[(0,a.jsx)("label",{className:"d-block",children:"How many tenders have you completed"}),(0,a.jsx)(u.A,{id:"tenders-completed",className:"mt-2",placeholder:"Enter number of tenders completed",type:"number",value:"".concat(0),onChange:e=>{s("authority_tenders_completed_count",+e)}})]}),(0,a.jsxs)("div",{className:"mb-5",children:[(0,a.jsx)("label",{className:"d-block mb-2",children:"Select Authority & Number Of Tenders Completed"}),f.map((e,s)=>(0,a.jsxs)("div",{className:(0,p.t)(q().CountField,s>0&&"mt-3"),children:[(0,a.jsx)(V,{className:q().CountFieldInput,items:ee}),(0,a.jsx)(L,{defaultValue:0,value:e.numberOfTenders,onChange:e=>{if(e<0)C(s);else{let t=[...f];t[s].numberOfTenders=e,g(t)}}})]},s)),(0,a.jsx)(D.A,{variant:"secondary",size:"sm",className:"w-100 mt-3 py-3",onClick:_,children:"+ Add More Authority"})]}),(0,a.jsxs)("div",{className:"mb-5",children:[(0,a.jsx)("label",{className:"d-block",children:"Please Select Your Class"}),(0,a.jsx)(V,{className:"mt-2",items:es})]}),(0,a.jsxs)("div",{className:"mb-5",children:[(0,a.jsx)("label",{className:"d-block",children:"Please provide a brief explanation of the work done for better understanding of your tender work"}),(0,a.jsx)(W,{id:"brief-explanation",className:"mt-2",placeholder:"Enter brief here",value:"",onChange:e=>{s("brief_explanation_of_work",e)}})]})]}),!y&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-5",children:[(0,a.jsx)("label",{className:"d-block",children:"Have you completed any sub contracting work in the past?"}),(0,a.jsxs)(j.Container,{className:"mt-2","aria-labelledby":"subcontract-work",value:"".concat(x),onChange:e=>{b(JSON.parse(e))},children:[(0,a.jsx)(j.Option,{value:"true",children:"Yes"}),(0,a.jsx)(j.Option,{value:"false",children:"No"})]})]}),x&&(0,a.jsxs)("div",{className:"mb-5",children:[(0,a.jsx)("label",{className:"d-block",children:"Please tell us about the subcontracting work done."}),(0,a.jsx)(W,{id:"subcontract-details",className:"mt-2",placeholder:"Enter brief here"})]})]})]})},{}),stepNumber:"1_3"},{order:4,id:o.BusinessCategory,stepFields:["business_categories"],content:(0,a.jsx)(function(){var e;let{values:s,setFieldValue:t}=eE(),{data:r,loading:n}=(0,i.Y8)({variables:{filters:{isActive:!0}}}),o=(null==r?void 0:r.businessCategories)||[],d=(0,l.useMemo)(()=>{var e;return(null==s||null==(e=s.businessDetails)?void 0:e.categoryIds)||[]},[null==s||null==(e=s.businessDetails)?void 0:e.categoryIds]),c=(0,l.useCallback)(e=>{t("businessDetails.categoryIds",e)},[t]);return(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"label",children:"What is your business category?"}),(0,a.jsx)("p",{className:(0,p.t)(g().InfoText,"mt-4"),children:"All Categories"}),n&&!r?(0,a.jsx)(et.k,{className:"mt-2"}):(0,a.jsx)(et.A.Container,{className:"mt-2",value:d,onChange:c,children:o.map((e,s)=>(0,a.jsx)(et.A.Option,{value:"".concat(e.id),children:e.name},s))})]})},{}),stepNumber:"1_4"},{order:4.5,id:o.BusinessSubcategory,content:(0,a.jsx)(function(){var e;let{values:s}=eE(),t=(0,l.useMemo)(()=>{var e;return(null==s||null==(e=s.businessDetails)?void 0:e.categoryIds)||[]},[null==s||null==(e=s.businessDetails)?void 0:e.categoryIds]),{data:r,loading:n}=(0,i.Y8)({variables:{filters:{isActive:!0,ids:t}}}),o=(null==r?void 0:r.businessCategories)||[];return n&&!r?(0,a.jsx)("div",{children:"Loading Categories..."}):(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"label",children:"What is your business category?"}),(0,a.jsx)(ea.Tw,{children:o.map(e=>(0,a.jsx)(el,{categoryId:e.id,categoryName:e.name},e.id))})]})},{}),stepNumber:"1_4"},{order:4.5,id:o.FirstMilestone,content:(0,a.jsx)(eT,{}),stepNumber:"1_4"},{id:o.TenderTopics,order:5,content:(0,a.jsx)(function(){var e;let{values:s,setFieldValue:t}=eE(),{data:r,loading:n}=(0,i._P)({variables:{filters:{isActive:!0}}}),o=(null==r?void 0:r.tenderCategories)||[],d=(0,l.useMemo)(()=>{var e;return(null==s||null==(e=s.tenderPreference)?void 0:e.categoryIds)||[]},[null==s||null==(e=s.tenderPreference)?void 0:e.categoryIds]),c=(0,l.useCallback)(e=>{t("tenderPreference.categoryIds",e)},[t]);return(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"label",children:"What kind of tenders are you interested in?"}),n&&!r?(0,a.jsx)(et.k,{className:"mt-3"}):(0,a.jsx)(et.A.Container,{className:"mt-3",value:d,onChange:c,children:o.map(e=>{let{name:s,id:t}=e;return(0,a.jsx)(et.A.Option,{value:"".concat(t),children:s},t)})})]})},{}),stepNumber:"2_1"},{id:o.TenderSubtopics,order:5.5,content:(0,a.jsx)(function(){var e;let{values:s}=eE(),t=(0,l.useMemo)(()=>{var e;return(null==s||null==(e=s.tenderPreference)?void 0:e.categoryIds)||[]},[null==s||null==(e=s.tenderPreference)?void 0:e.categoryIds]),{data:r,loading:n}=(0,i._P)({variables:{filters:{isActive:!0,ids:t}}}),o=(null==r?void 0:r.tenderCategories)||[];return n&&!r?(0,a.jsx)("div",{children:"Loading Categories..."}):(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"label",children:"What is your business category?"}),(0,a.jsx)(ea.Tw,{children:o.map(e=>{let{name:s,id:t}=e;return(0,a.jsx)(en,{topicId:t,topicName:s},t)})})]})},{}),stepNumber:"2_1"},{id:o.TenderStates,order:6,content:(0,a.jsx)(function(){var e;let{values:s,setFieldValue:t}=eE(),r=(0,l.useMemo)(()=>{var e;return(null==s||null==(e=s.tenderPreference)?void 0:e.stateIds)||[]},[null==s||null==(e=s.tenderPreference)?void 0:e.stateIds]),{data:n,loading:o}=(0,i.JR)(),d=(0,l.useMemo)(()=>(null==n?void 0:n.states.map(e=>({label:e.name||"",value:"".concat(e.id)})))||[],[n]),c=(0,l.useCallback)((e,s)=>{let a=[...r];eo()(a,"[".concat(e,"]"),s),t("tenderPreference.stateIds",a)},[r,t]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"label",children:"Select The Preferred Tender States"}),o&&!n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ep,{className:"mt-3"}),(0,a.jsx)(ep,{className:"mt-3"}),(0,a.jsx)(ep,{className:"mt-3"})]}):ex.map((e,s)=>{let t=d.filter(e=>e.value===r[s]||!r.includes(e.value)),l=r[s];return(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsx)(eh,{placeholder:"Select State",options:t,value:l,onChange:e=>{c(s,e)}})},s)})]})})},{}),stepNumber:"2_2"},{id:o.TenderDistricts,order:6.5,content:(0,a.jsx)(function(){var e;let{values:s}=eE(),t=(0,l.useMemo)(()=>{var e;return(null==s||null==(e=s.tenderPreference)?void 0:e.stateIds)||[]},[null==s||null==(e=s.tenderPreference)?void 0:e.stateIds]),{data:r,loading:n}=(0,i.JR)({variables:{filters:{ids:t}}}),o=(null==r?void 0:r.states)||[];return n&&!r?(0,a.jsx)("div",{children:"Loading States..."}):(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"label",children:"Select The Preferred Tender States"}),(0,a.jsx)(ea.Tw,{children:o.map(e=>{let{id:s,name:t}=e;return(0,a.jsx)(eb,{stateId:s,stateName:t||""},s)})})]})},{}),stepNumber:"2_2"},{id:o.TenderLocationRange,order:6.75,content:(0,a.jsx)(function(){var e;let{values:s,setFieldValue:t}=eE(),r=(null==s||null==(e=s.tenderPreference)?void 0:e.radiusFromLocationInKm)||0;return(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"label",children:"Select Specific location town/ village /locality"}),(0,a.jsx)("p",{className:(0,p.t)(g().LabelSmall,"mt-1"),children:"Select exact districts for better tender matching"}),(0,a.jsx)(eN,{}),(0,a.jsx)("p",{className:"label d-block mt-5",children:"Select The Radius Form Location"}),(0,a.jsx)("p",{className:(0,p.t)(g().LabelSmall,"mt-1"),children:"Select exact districts for better tender matching"}),(0,a.jsx)(ey,{className:"mt-1 w-100",label:"Location distance",valueRender:e=>{let{value:s}=e;return"".concat(s," Kms")},defaultValue:r,onChange:e=>{t("tenderPreference.radiusFromLocationInKm",e)}})]})},{}),stepNumber:"2_2"},{id:o.TenderAuthorities,order:7,content:(0,a.jsx)(function(){let{values:e,setFieldValue:s}=eE(),{data:t,loading:r,error:n}=(0,i.LY)({variables:{filters:{isActive:!0}}}),o=c()(e,"tenderPreference.authorityBodyIds",[]),{data:d,loading:u}=(0,i.p1)({variables:{filters:{isActive:!0,ids:o}}}),m=(0,l.useMemo)(()=>(null==t?void 0:t.authorityBodyCategories)?t.authorityBodyCategories.map(e=>({label:e.name||"",value:e.id})):[],[t]);n&&console.error("Error loading authority categories:",n);let h=c()(e,"tenderPreference.authorityBodyCategoryIds",[]),v=(0,l.useCallback)(e=>{s("tenderPreference.authorityBodyCategoryIds",e)},[s]);(0,l.useEffect)(()=>{let e=(null==d?void 0:d.authorityBodies)||[];console.log("DEBUG useEffect",{"!value?.length":null==h?void 0:h.length,"selectedAuthorityBodies?.length":null==e?void 0:e.length,selectedAuthorityBodyIds:o}),!(null==h?void 0:h.length)&&(null==e?void 0:e.length)&&s("tenderPreference.authorityBodyCategoryIds",Array.from(new Set(e.map(e=>{var s;return null==(s=e.categories)?void 0:s.map(e=>null==e?void 0:e.id).filter(e=>!!e)}).flat())))},[h,null==d?void 0:d.authorityBodies,s,o]);let p=u&&!d||r&&!t;return(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"label",children:"Select The Preferred Tender Authority"}),p?(0,a.jsx)(et.k,{className:"mt-3"}):(0,a.jsx)(et.A.Container,{className:"mt-3",value:h,onChange:v,children:m.map(e=>{let{label:s,value:t}=e;return(0,a.jsx)(et.A.Option,{value:"".concat(t),children:s},t)})})]})},{}),stepNumber:"2_3"},{id:o.TenderSubauthorities,order:7.5,content:(0,a.jsx)(function(){let{values:e}=eE(),s=c()(e,"tenderPreference.authorityBodyCategoryIds",[]);return(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"label",children:"Select The Preferred Authority Bodies"}),(0,a.jsx)(ea.Tw,{children:s.map(e=>(0,a.jsx)(e_,{categoryId:e},e))})]})},{}),stepNumber:"2_3"},{id:o.TenderKeywords,order:8,content:(0,a.jsx)(function(){var e,s,t,r;let{values:n,setFieldValue:i}=eE(),o=(null==n||null==(e=n.tenderPreference)?void 0:e.minEmdInInr)||0,d=(null==n||null==(s=n.tenderPreference)?void 0:s.maxEmdInInr)||0,c=(null==n||null==(t=n.tenderPreference)?void 0:t.minTenderValueInInr)||0,u=(null==n||null==(r=n.tenderPreference)?void 0:r.maxTenderValueInInr)||0;return(0,l.useEffect)(()=>{o||d||(i("tenderPreference.minEmdInInr",0),i("tenderPreference.maxEmdInInr",1e4)),c||u||(i("tenderPreference.minTenderValueInInr",0),i("tenderPreference.maxTenderValueInInr",1e4))},[o,d,c,u,i]),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"label d-block",children:"Range for Tender EMD"}),(0,a.jsx)(ey,{className:"mt-1 w-100",label:"Tender EMD",valueRender:e=>{let{value:s}=e;return"".concat(s," Lakh")},maxValue:5e6,value:[o,d],onChange:e=>{i("tenderPreference.minEmdInInr",e[0]),i("tenderPreference.maxEmdInInr",e[1])}}),(0,a.jsx)("p",{className:"label d-block mt-5",children:"Range of Tender Value"}),(0,a.jsx)(ey,{className:"mt-1 w-100",label:"Tender Value",valueRender:e=>{let{value:s}=e;return"".concat(s," Lakh")},maxValue:5e7,value:[c,u],onChange:e=>{i("tenderPreference.minTenderValueInInr",e[0]),i("tenderPreference.maxTenderValueInInr",e[1])}}),(0,a.jsx)("p",{className:"label mt-5",children:"Relevant keywords for tenders"}),(0,a.jsx)(eC,{})]})},{}),stepNumber:"2_4"},{order:8.5,id:o.SecondMilestone,content:(0,a.jsx)(eT,{}),stepNumber:"2_4"}];var eB=t(37129);let eL=eB.Ik().shape({user:eB.Ik().shape({firstName:eB.Yj().required("First name is required."),lastName:eB.Yj().required("Last name is required."),email:eB.Yj().matches(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"Email is invalid").required("Email is required."),phone:eB.Yj().matches(/^[+]?[(]?[0-9]{1,4}[)]?[-\s.]?[(]?[0-9]{1,4}[)]?[-\s.]?[0-9]{1,9}$/,"Phone number is invalid").required("Phone number is required."),languageId:eB.Yj().required("Please choose a language.")}),businessDetails:eB.Ik().shape({name:eB.Yj(),description:eB.Yj(),businessTypeId:eB.Yj(),gstNumber:eB.Yj().matches(/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/,"GST number is invalid"),annualTurnoverInInr:eB.Yj(),startDate:eB.Yj(),websiteUrl:eB.Yj().matches(/^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})([/\w .-]*)*\/?$/,"Website URL is invalid"),locationAddressId:eB.Yj()}),tenderPreference:eB.Ik().shape({radiusFromLocationInKm:eB.ai().positive("Radius must be a positive number"),minEmdInInr:eB.ai().min(0,"Minimum EMD must be at least 0"),maxEmdInInr:eB.ai().min(eB.KR("minEmdInInr"),"Maximum EMD must be greater than or equal to minimum EMD"),minTenderValueInInr:eB.ai().min(0,"Minimum tender value must be at least 0"),maxTenderValueInInr:eB.ai().min(eB.KR("minTenderValueInInr"),"Maximum tender value must be greater than or equal to minimum tender value"),stateIds:eB.YO().of(eB.Yj()),cityIds:eB.YO().of(eB.Yj()),townIds:eB.YO().of(eB.Yj()),authorityBodyCategoryIds:eB.YO().of(eB.Yj()),authorityBodyIds:eB.YO().of(eB.Yj()),categoryIds:eB.YO().of(eB.Yj()),subcategoryIds:eB.YO().of(eB.Yj()),keywordIds:eB.YO().of(eB.Yj())}),workOrders:eB.YO().of(eB.Ik().shape({type:eB.Yj(),name:eB.Yj(),stateId:eB.Yj(),locationAddressId:eB.Yj(),clientName:eB.Yj(),dateOfWork:eB.Yj(),orderReceivedTime:eB.Yj(),periodInMonths:eB.ai().positive("Period must be a positive number"),costOfWork:eB.ai().min(0,"Cost must be at least 0"),workDonePercentage:eB.ai().min(0,"Percentage must be at least 0").max(100,"Percentage cannot exceed 100"),remarks:eB.Yj(),authorityBodyId:eB.Yj()}))}),eD={},eE=n.sf;var eO=t(61245),eM=t.n(eO);let eF=function(e){let{percent:s,className:t}=e;return(0,a.jsx)("div",{className:(0,p.t)(t,eM().Container),style:{"--percent":s}})};var eR=t(30737),eY=t.n(eR);let eV=function(e){let{steps:s,className:t}=e;return(0,a.jsx)("div",{className:(0,p.t)(t,eY().Container),children:s.map((e,s)=>{let{progressPercent:t=0}=e;return(0,a.jsx)(eF,{className:eY().Step,percent:t},s)})})},eG=function(){let{activeStep:e}=eE(),s=null==e?void 0:e.stepNumber,{stepNumber:t,subStepNumber:a,totalSteps:r}=(0,l.useMemo)(()=>{if(!s)return{totalSteps:0,stepNumber:0,subStepNumber:0};let[e,t]=s.split("_").map(Number),a=eP.find(s=>s.groupNumber===e);return{totalSteps:(null==a?void 0:a.totalStepsCount)||0,stepNumber:e,subStepNumber:t}},[s]);return{stepNumber:t,subStepNumber:a,totalSteps:r}},eU=function(e){let{className:s}=e,{stepNumber:t,subStepNumber:r}=eG(),n=(0,l.useCallback)(e=>{if(t>e)return 100;if(e===t){let e=eP.find(e=>e.groupNumber===t);return e?Math.ceil(r/e.totalStepsCount*100):0}return 0},[t,r]);return(0,a.jsx)(eV,{className:s,steps:[{progressPercent:n(1)},{progressPercent:n(2)}]})};var eK=t(35695);let eW=function(e){let{className:s}=e,t=(0,eK.useRouter)(),{stepFormRef:r,activeStepIndex:n}=eE(),i=(0,l.useCallback)(()=>{if(0===n)t.push("/");else{var e;null==r||null==(e=r.current)||e.previousStep()}},[r,n,t]);return(0,a.jsx)(D.A,{variant:"ghost",size:"sm",className:s,onClick:i,children:(0,a.jsx)(v.A,{src:"/assets/images/icons/chevron_left.svg",alt:"Info",height:20,width:20})})};var ez=t(65051),eq=t.n(ez),eH=t(93162);let eQ=function(e){let{className:s}=e,{values:t,stepFormRef:r,setFieldTouched:o,activeStep:d}=eE(),{isCurrentStepCompleted:c,isOnLastStep:u}=(0,n.l9)(),m=(0,eK.useRouter)(),[h]=(0,i.Az)(),v=(0,l.useCallback)(async()=>{var e,s,a,l,n;if(!d)return;let{stepFields:i=[]}=d;if(i.forEach(e=>o(e,!0)),c){try{let{sanitized:e}=function(e){let{userProfile:s}=e;return{sanitized:function(e){let{input:s,config:t}=e,a=t.removeIfFalsy;return function e(s,t){let r={};return t.forEach(t=>{let l=s[t.key],n="boolean"==typeof t.removeIfFalsy?t.removeIfFalsy:a;if(t.child&&"object"==typeof l&&null!==l){let s=e(l,t.child);(Object.keys(s).length>0||!n)&&(r[t.targetKey||t.key]=s)}else{if(n&&!l)return;void 0!==l&&(r[t.targetKey||t.key]=l)}}),r}(s,t.output.child)}({input:s,config:{removeIfFalsy:!0,output:{child:[{key:"user",child:[{key:"firstName"},{key:"lastName"},{key:"email"},{key:"languageId"}]},{key:"businessDetails",child:[{key:"name"},{key:"description"},{key:"businessTypeId"},{key:"locationAddressId"},{key:"gstNumber"},{key:"annualTurnoverInInr"},{key:"startDate"},{key:"websiteUrl"},{key:"categoryIds"},{key:"subcategoryIds"}]},{key:"tenderPreference",child:[{key:"radiusFromLocationInKm"},{key:"minEmdInInr"},{key:"maxEmdInInr"},{key:"minTenderValueInInr"},{key:"maxTenderValueInInr"},{key:"categoryIds"},{key:"subcategoryIds"},{key:"stateIds"},{key:"cityIds"},{key:"townIds"},{key:"authorityBodyIds"},{key:"keywordIds"}]}]}}})}}({userProfile:t});console.log("Saving profile data...",{values:t,saveProfileInput:e});let r=await h({variables:{input:e}});if(!(null==(a=r.data)||null==(s=a.saveUserProfile)?void 0:s.success))return void console.error("Failed to save user profile:",null==(n=r.data)||null==(l=n.saveUserProfile)?void 0:l.errors);console.log("User profile saved successfully:",r.data.saveUserProfile.profile)}catch(e){console.error("Error saving profile:",e);return}null==r||null==(e=r.current)||e.nextStep(),u&&m.push(eH.f.HOME_PAGE)}},[r,t,c,d,o,u,m,h]);return(0,a.jsx)(D.A,{className:s,onClick:v,fakeDisabled:!c,children:u?"Finish":"Next"})};var eJ=t(1717);let e$=function(e){let{className:s}=e,{values:t}=eE(),r=(0,eK.useRouter)(),n=(0,l.useCallback)(async()=>{await eJ.a.saveUserDetailsPartial({userPreferences:t}),r.push(eH.f.HOME_PAGE)},[t,r]);return(0,a.jsx)(D.A,{className:s,variant:"ghost",size:"sm",onClick:n,children:"Save & Exit"})};var eZ=t(80818),eX=t.n(eZ);let e0=function(e){let{className:s}=e;return(0,a.jsxs)("div",{className:(0,p.t)(eX().Container,s),children:[(0,a.jsx)(eQ,{}),(0,a.jsx)(e$,{className:"mt-2"})]})},e1=function(e){let{className:s}=e,{subStepNumber:t,totalSteps:r}=eG();return(0,a.jsxs)("div",{className:s,children:["Step ",t," of ",r]})},e2=function(e){let{className:s}=e,{stepNumber:t}=eG(),{group:r}=(0,l.useMemo)(()=>({group:eP.find(e=>e.groupNumber===t)||null}),[t]);return(0,a.jsx)("div",{className:s,children:null==r?void 0:r.name})},e3=function(e){let{children:s}=e,{values:t,errors:r,touched:n}=eE();return(0,l.useEffect)(()=>{console.log("DEBUG:FORM_UPDATE",{values:t,errors:r,touched:n})},[t,r,n]),(0,a.jsxs)("div",{className:eq().Container,children:[(0,a.jsxs)("header",{className:eq().Header,children:[(0,a.jsxs)("div",{className:(0,p.t)(eq().HeaderRow,eq().HeaderActionRow),children:[(0,a.jsx)(eW,{}),(0,a.jsx)(D.A,{variant:"ghost",size:"sm",children:(0,a.jsx)(v.A,{src:"/assets/images/icons/info.svg",alt:"Info",height:20,width:20})})]}),(0,a.jsx)(eU,{className:"mt-2"}),(0,a.jsxs)("div",{className:(0,p.t)(eq().HeaderRow,"mt-3"),children:[(0,a.jsx)(e2,{className:eq().StepName}),(0,a.jsx)(e1,{className:eq().StepNumber})]})]}),(0,a.jsx)("div",{className:eq().StepContainer,children:s}),(0,a.jsx)(e0,{})]})},e5=function(e){let{className:s,initialValues:t=eD}=e,r=(0,l.useRef)(null),[d,{loading:c}]=(0,i.L4)(),[u,m]=(0,l.useState)(null),[h,v]=(0,l.useState)(!1),p=(0,l.useCallback)(async e=>{try{var s,t,a,r,l,n;m(null),v(!1);let i={...e},o=await d({variables:{input:i}});if(null==(t=o.data)||null==(s=t.updateUserDetails)?void 0:s.success)v(!0),console.log("User details saved successfully:",o.data.updateUserDetails.profile);else{let e=(null==(r=o.data)||null==(a=r.updateUserDetails)?void 0:a.message)||"Failed to save user details";m(e),console.error("Save failed:",null==(n=o.data)||null==(l=n.updateUserDetails)?void 0:l.errors)}}catch(e){m(e instanceof Error?e.message:"An error occurred while saving"),console.error("Error saving user details:",e)}},[d]);return(0,a.jsxs)("div",{children:[u&&(0,a.jsx)("div",{className:"alert alert-danger",role:"alert",children:u}),h&&(0,a.jsx)("div",{className:"alert alert-success",role:"alert",children:"Profile saved successfully!"}),(0,a.jsx)(n.Ay,{ref:r,className:s,initialValues:t,yupValidationSchema:eL,onSubmit:p,initialStepId:o.UserDetails,steps:ew,children:e=>{let{children:s}=e;return(0,a.jsxs)(e3,{children:[s,c&&(0,a.jsx)("div",{className:"mt-3 text-muted",children:(0,a.jsx)("span",{children:"Saving..."})})]})}})]})},e6=function(){let{data:e,loading:s}=(0,i.V8)();if(s)return(0,a.jsx)(r.A,{});let t=null==e?void 0:e.myProfile,l=t?{...eD,...t}:eD;return(0,a.jsx)("div",{className:"container",children:(0,a.jsx)(e5,{initialValues:l})})}},97275:e=>{e.exports={Container:"RadioGroup_Container__OmPuI",ContainerButtonVariant:"RadioGroup_ContainerButtonVariant__HzOn_",Radio:"RadioGroup_Radio__zIhkk",ContainerListVariant:"RadioGroup_ContainerListVariant__7SW9X",OptionCheckbox:"RadioGroup_OptionCheckbox__LMHQ6",OptionTick:"RadioGroup_OptionTick__VE6eh"}}},e=>{var s=s=>e(e.s=s);e.O(0,[587,407,405,738,621,998,697,501,27,461,717,845,441,684,358],()=>s(51206)),_N_E=e.O()}]);