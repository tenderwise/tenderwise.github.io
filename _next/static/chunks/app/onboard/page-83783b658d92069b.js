(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[382],{7709:(e,s,a)=>{"use strict";a.d(s,{default:()=>e7});var r=a(95155),t=a(25768),n=a(12115),l=a(39608),i=a.n(l),o=a(15616),d=a(30816),u=function(e){return e.UserDetails="user_details",e.BusinessCategory="business_category",e.BusinessSubcategory="business_subcategory",e.BusinessDetails="business_details",e.BusinessPastWorkStep="business_past_work",e.BusinessGovernmentDetails="business_gov_details",e.WorkOrderStep="work_order",e.TenderTopics="tender_topics",e.TenderSubtopics="tender_subtopics",e.TenderStates="tender_states",e.TenderDistricts="tender_districts",e.TenderLocationRange="tender_location_range",e.TenderAuthorities="tender_authorities",e.TenderSubauthorities="tender_subauthorities",e.TenderKeywords="tender_keywords",e.RegistrationDocuments="registration_documents",e.ComplianceDocuments="compliance_documents",e.ContractorDocuments="contractor_documents",e.StateDocuments="state_documents",e.CentralDocuments="central_documents",e.TechnicalDocuments="technical_documents",e.CertificationDocuments="certification_documents",e.PastWorkDocuments="past_work_documents",e.FirstMilestone="1st_milestone",e.SecondMilestone="2nd_milestone",e.ThirdMilestone="3rd_milestone",e}({}),c=a(48973),m=a.n(c),v=a(8889),h=a(67959),p=a(35978),x=a(67666),b=a(82855),f=a(97275),g=a.n(f);let j={Container:function(e){let{className:s,children:a,variant:t="buttons",...n}=e;return(0,r.jsx)(p.z6,{className:(0,b.t)(g().Container,s,"buttons"===t&&g().ContainerButtonVariant,"list"===t&&g().ContainerListVariant),...n,children:a})},Option:function(e){let{className:s,children:a,...t}=e;return(0,r.jsx)(p.sx,{className:(0,b.t)(g().Radio,s),...t,children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:g().OptionCheckbox,children:(0,r.jsx)(x.A,{className:g().OptionTick,src:"/assets/images/icons/tick.svg",alt:"Edit items",width:12,height:12})}),a]})})}};var y=a(44618),N=a.n(y);let C="user.languageId",I=function(e){let{className:s}=e,{values:a,setFieldValue:t}=eF(),{data:l,loading:i,error:o}=(0,d.b$)({variables:{filters:{isActive:!0}}}),u=m()(a,C,null),c=(0,n.useMemo)(()=>(null==l?void 0:l.languages)?l.languages.map(e=>({label:e.nativeName,value:e.id})):[],[l]);return o?(console.error("Error loading languages:",o),null):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{id:"Language",className:(0,b.t)(s,"d-block"),children:"Preferred Language for Communication"}),(0,r.jsx)(j.Container,{"aria-labelledby":"Language",className:"mt-2",value:u,onChange:e=>{t(C,e)},children:i&&!l?(0,r.jsx)("div",{className:"text-muted",children:"Loading languages..."}):c.map((e,s)=>{let{label:a,value:t}=e;return(0,r.jsx)(j.Option,{value:t,children:a},s)})}),(0,r.jsx)("p",{className:(0,b.t)(N().InfoTextSmall,"mt-3"),children:"Mark only one oval"}),(0,r.jsx)(h.jQ,{className:"mt-2",fieldKey:C})]})},_="user.firstName",k="user.lastName",S="user.email";var A=a(22998),P=a(2634),T=a(26503),w=a.n(T);let B=function(e){let{className:s,prependContent:a,appendContent:t,style:n,error:l,...i}=e,o=i["aria-labelledby"]||i["aria-label"]||i.name||i.placeholder;return(0,r.jsx)(P.A,{className:(0,b.t)(w().Container,s),error:l,prependContent:a,appendContent:t,style:{...n||{}},inputComponent:(0,r.jsx)(A.f,{"aria-labelledby":o,...i,className:w().TextArea})})},D="businessType",E=[{label:"Contractor",value:"contractor"},{label:"Supllier",value:"supllier"},{label:"Manufacturer",value:"manufacturer"},{label:"Subcontractor",value:"subcontractor"},{label:"Consultant",value:"consultant"},{label:"E-Tender Services",value:"e-tender-services"}],M=function(e){let{className:s}=e,{values:a,setFieldValue:t}=eF(),l=m()(a,D,null),i=(0,n.useMemo)(()=>E,[]);return(0,r.jsxs)("div",{className:s,children:[(0,r.jsx)("label",{id:"BusinessType",className:"d-block",children:"Business Type"}),(0,r.jsx)(j.Container,{"aria-labelledby":"BusinessType",className:"mt-2",value:l,onChange:e=>{t(D,e)},children:i.map((e,s)=>{let{label:a,value:t}=e;return(0,r.jsx)(j.Option,{value:t,children:a},s)})})]})},O="businessDetails.name",L="businessDetails.description",R="businessDetails.gstNumber",Y="businessDetails.annualTurnoverInInr",F="businessDetails.startDate",W="businessDetails.websiteUrl";var G=a(68265),V=a(31150),U=a(61413);function K(e){var s;let{categoryId:a,categoryName:t}=e,{values:l,setFieldValue:i}=eF(),o=(0,n.useMemo)(()=>{var e;return(null==l||null==(e=l.businessDetails)?void 0:e.subcategoryIds)||[]},[null==l||null==(s=l.businessDetails)?void 0:s.subcategoryIds]),{data:u,loading:c}=(0,d.oR)({variables:{filters:{isActive:!0,businessCategoryIds:[a]}}}),m=(0,n.useMemo)(()=>{var e;return(null==u||null==(e=u.businessSubcategories)?void 0:e.map(e=>({name:e.name,value:e.id})))||[]},[null==u?void 0:u.businessSubcategories]),v=(0,n.useCallback)(e=>{i("businessDetails.subcategoryIds",Array.from(new Set([...o.filter(e=>!m.some(s=>s.value===e)),...e])))},[i,m,o]);return c&&!u?(0,r.jsx)(U.U,{className:"mt-3"}):(0,r.jsx)(U.A,{"aria-labelledby":"business-category",className:"mt-3",title:t,options:m,value:o,searchLabel:"Select Sub Category",searchPlaceholder:"Search Authorities",onChange:v})}function q(e){var s;let{topicId:a,topicName:t}=e,{values:l,setFieldValue:i}=eF(),o=(0,n.useMemo)(()=>{var e;return(null==l||null==(e=l.tenderPreference)?void 0:e.subcategoryIds)||[]},[null==l||null==(s=l.tenderPreference)?void 0:s.subcategoryIds]),{data:u,loading:c}=(0,d.Oe)({variables:{filters:{tenderCategoryIds:[a]}}}),m=(0,n.useMemo)(()=>(null==u?void 0:u.tenderSubcategories.map(e=>({name:e.name,value:"".concat(e.id)})))||[],[u]),v=(0,n.useCallback)(e=>{i("tenderPreference.subcategoryIds",Array.from(new Set([...o.filter(e=>!m.some(s=>s.value===e)),...e])))},[o,m,i]);return c&&!u?(0,r.jsx)(U.U,{className:"mt-3"}):(0,r.jsx)(U.A,{"aria-labelledby":"sup-topics",className:"mt-3",title:t,options:m,value:o,searchLabel:"Select Sub Category",searchPlaceholder:"Search Authorities",onChange:v})}var z=a(45009),H=a.n(z),Q=a(55050),J=a(72074),Z=a(50803),$=a(61319),X=a.n($);let ee=function(e){let{className:s,options:a=[],placeholder:t="Select an Option",...l}=e,{state:i,enable:o,disable:d,setState:u}=(0,Z.A)(),{value:c,onChange:m}=l,v=c?(0,r.jsx)(x.A,{className:"ml-auto",src:"/assets/images/icons/edit.svg",alt:"Add items",width:16,height:16}):(0,r.jsx)(x.A,{className:"ml-auto",src:"/assets/images/icons/plus.svg",alt:"Edit items",width:16,height:16}),h=(0,n.useMemo)(()=>{let e=a.find(e=>e.value===c);return e?e.label||c:c||t},[c,a,t]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(Q.A,{className:(0,b.t)(X().Card,!!c&&X().CardWithValue),size:"sm",variant:"ghost",onClick:o,children:[(0,r.jsx)("div",{className:X().Title,children:h||t}),v]}),(0,r.jsx)(J.A,{isOpen:i,onOpenChange:u,title:t,children:(0,r.jsx)(j.Container,{...l,variant:"list",className:(0,b.t)(s),onChange:e=>{m&&m(e),d()},children:a.map((e,s)=>(0,r.jsx)(j.Option,{value:e.value,children:e.label},s))})})]})};var es=a(78066);let ea=function(e){let{className:s}=e;return(0,r.jsxs)(es.A.Default,{className:(0,b.t)(X().Card,X().CardWithValue,s),children:[(0,r.jsx)(es.A.Default,{style:{width:"5rem",height:"1rem"}}),(0,r.jsx)(es.A.Circular,{size:"1rem"})]})},er=[void 0,void 0,void 0];function et(e){var s;let{stateId:a,stateName:t}=e,{values:l,setFieldValue:i}=eF(),o=(0,n.useMemo)(()=>{var e;return(null==l||null==(e=l.tenderPreference)?void 0:e.cityIds)||[]},[null==l||null==(s=l.tenderPreference)?void 0:s.cityIds]),{data:u,loading:c}=(0,d.WC)({variables:{filters:{stateIds:[a]}}}),m=(0,n.useMemo)(()=>(null==u?void 0:u.cities.map(e=>({name:e.name||"",value:"".concat(e.id)})))||[],[u]),v=(0,n.useCallback)(e=>{i("tenderPreference.cityIds",Array.from(new Set([...o.filter(e=>!m.some(s=>s.value===e)),...e])))},[m,o,i]);return c&&!u?(0,r.jsx)(U.U,{className:"mt-3"}):(0,r.jsx)(U.A,{"aria-labelledby":"districts",className:"mt-3",title:t,options:m,value:o,searchLabel:"Select Districts",searchPlaceholder:"Search Districts",onChange:v})}var en=a(1977);let el=function(){let{values:e,setFieldValue:s}=eF(),[a,t]=(0,n.useState)(""),l=m()(e,"tenderPreference.townIds",[]),{data:i,loading:o,error:u}=(0,d.KK)({variables:{filters:{isActive:!0}}}),c=(0,n.useMemo)(()=>(null==i?void 0:i.towns)?i.towns.map(e=>({label:e.name||"",value:e.id})):[],[i]);u&&console.error("Error loading towns:",u);let h=(0,n.useMemo)(()=>a?c.filter(e=>e.label.toLocaleLowerCase().includes(a.toLocaleLowerCase())):c,[a,c]),p=(0,n.useCallback)(e=>{s("tenderPreference.townIds",e)},[s]);return(0,r.jsxs)("div",{children:[(0,r.jsx)(v.A,{className:"mt-3",placeholder:"Enter town/ village /locality Name",value:a,onChange:t}),o&&!i?(0,r.jsx)("div",{className:"text-muted mt-3",children:"Loading towns..."}):(0,r.jsx)(G.A.Container,{className:"mt-3",value:l.map(String),onChange:p,children:h.map(e=>{let{label:s,value:a}=e;return(0,r.jsx)(G.A.Option,{value:a,children:s},a)})})]})};function ei(e){let{categoryId:s}=e,{values:a,setFieldValue:t}=eF(),{data:l,loading:i,error:o}=(0,d.p1)({variables:{filters:{isActive:!0}}});o&&console.error("Error loading authority bodies:",o);let u=(0,n.useMemo)(()=>(null==l?void 0:l.authorityBodies)?l.authorityBodies.filter(e=>{var a;return null==(a=e.categories)?void 0:a.some(e=>(null==e?void 0:e.id)===s)}):[],[l,s]),c=(0,n.useMemo)(()=>u.map(e=>({name:e.name||"",value:e.id})),[u]),v=m()(a,"tenderPreference.authorityBodyIds",[]),h=(0,n.useMemo)(()=>{if(!(null==l?void 0:l.authorityBodies))return{};let e={};return l.authorityBodies.forEach(s=>{var a;null==(a=s.categories)||a.forEach(a=>{(null==a?void 0:a.id)&&(e[a.id]||(e[a.id]=[]),e[a.id].push(s))})}),e},[l]),p=(0,n.useMemo)(()=>{var e;let a=null!=(e=(h[s]||[])[0])?e:u[0];if(!(null==a?void 0:a.categories))return"Authority Bodies";let r=a.categories.find(e=>(null==e?void 0:e.id)===s);return(null==r?void 0:r.name)||"Authority Bodies"},[h,s,u]),x=(0,n.useCallback)(e=>{let a=h[s].filter(Boolean).map(e=>e.id||"")||[];t("tenderPreference.authorityBodyIds",Array.from(new Set([...e,...v.filter(e=>!a.includes(e))])))},[s,v,h,t]);return i&&!l?(0,r.jsx)(U.U,{className:"mt-3"}):c.length?(0,r.jsx)(U.A,{"aria-labelledby":"Tender authority",className:"mt-3",title:p,options:c,value:v,searchLabel:"Search Authority Bodies",searchPlaceholder:"Search Authority Bodies",onChange:x}):null}let eo=function(){let{values:e,setFieldValue:s}=eF(),[a,t]=(0,n.useState)(""),l=m()(e,"tenderPreference.keywordIds",[]),{data:i,loading:o,error:u}=(0,d.M8)({variables:{filters:{isActive:!0}}}),c=(0,n.useMemo)(()=>(null==i?void 0:i.tenderKeywords)?i.tenderKeywords.map(e=>({label:e.name||"",value:e.id})):[],[i]);u&&console.error("Error loading keywords:",u);let h=(0,n.useMemo)(()=>a?c.filter(e=>e.label.toLocaleLowerCase().includes(a.toLocaleLowerCase())):c,[a,c]),p=(0,n.useCallback)(e=>{s("tenderPreference.keywordIds",e)},[s]);return(0,r.jsxs)("div",{children:[(0,r.jsx)(v.A,{className:"mt-3",placeholder:"Enter relevant keywords for tenders",value:a,onChange:t}),o&&!i?(0,r.jsx)("div",{className:"text-muted mt-3",children:"Loading keywords..."}):(0,r.jsx)(G.A.Container,{className:"mt-3",value:l,onChange:p,children:h.map(e=>{let{label:s,value:a}=e;return(0,r.jsx)(G.A.Option,{value:"".concat(a),children:s},a)})})]})};var ed=a(63949),eu=a.n(ed);let ec="businessOwnershipType",em=[{label:"MSME",value:"msme"},{label:"Startup India",value:"startup-india"},{label:"Co-Operative Society Member",value:"cooperative-society-member"},{label:"Unemployed Engineer",value:"unemployed-engineer"},{label:"Open Contractor",value:"open-contractor"}],ev=function(e){let{className:s}=e,{values:a,setFieldValue:t}=eF(),l=m()(a,ec,null),i=(0,n.useMemo)(()=>em,[]);return(0,r.jsxs)("div",{className:s,children:[(0,r.jsx)("label",{id:"BusinessOwnershipType",className:"d-block",children:"Please select if applicable"}),(0,r.jsx)(j.Container,{"aria-labelledby":"BusinessOwnershipType",className:"mt-2",value:l,onChange:e=>{t(ec,e)},children:i.map((e,s)=>{let{label:a,value:t}=e;return(0,r.jsx)(j.Option,{value:t,children:a},s)})})]})};var eh=a(49836),ep=a(35695),ex=a(1717),eb=a(93162);let ef=function(e){let{className:s}=e,{values:a}=eF(),t=(0,ep.useRouter)(),l=(0,n.useCallback)(async()=>{await ex.a.saveUserDetailsPartial({userPreferences:a}),t.push(eb.f.HOME_PAGE)},[a,t]);return(0,r.jsx)(Q.A,{className:s,variant:"ghost",size:"sm",onClick:l,children:"Save & Exit"})};var eg=a(97037),ej=a.n(eg);let ey=function(){var e,s,a,t;let{values:n,nextStep:l}=eF(),i=null==n||null==(s=n.tenderPreference)||null==(e=s.metadata)?void 0:e.governmentTendersCompleted,o=null==n||null==(t=n.tenderPreference)||null==(a=t.metadata)?void 0:a.hasSubcontractWork;return i||o?(0,r.jsxs)("div",{children:[(0,r.jsx)(ev,{className:"mb-5"}),(0,r.jsxs)(Q.A,{variant:"secondary",className:"w-100",children:[(0,r.jsx)(x.A,{className:"ml-auto",src:"/assets/images/icons/plus.svg",alt:"Edit items",width:16,height:16})," ","Add Work"]})]}):(l(),null)},eN={id:u.UserDetails,content:(0,r.jsx)(function(){let{values:e,setFieldValue:s,touchedAndHasError:a,setFieldTouched:t}=eF(),n=m()(e,_,""),l=m()(e,k,""),i=m()(e,S,"");return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:N().InfoText,children:"* Indicates required question"}),(0,r.jsx)("label",{className:"d-block mt-4",htmlFor:"name-input",children:"What is your name?"}),(0,r.jsxs)("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[(0,r.jsxs)("div",{style:{flexBasis:0,flexGrow:1},children:[(0,r.jsx)(v.A,{id:"name-input",className:"mt-2 w-100",placeholder:"First name",autoComplete:"first-name",error:a(_),value:n,onChange:e=>{s(_,e)},onBlur:()=>{t(_)}}),(0,r.jsx)(h.jQ,{className:"mt-2",fieldKey:_})]}),(0,r.jsxs)("div",{style:{flexBasis:0,flexGrow:1},children:[(0,r.jsx)(v.A,{id:"name-input",className:"mt-2 w-100",placeholder:"Last name",autoComplete:"last-name",error:a(k),value:l,onChange:e=>{s(k,e)},onBlur:()=>{t(k)}}),(0,r.jsx)(h.jQ,{className:"mt-2",fieldKey:k})]})]}),(0,r.jsx)("label",{className:"d-block mt-5",htmlFor:"email-input",children:"Email"}),(0,r.jsx)(v.A,{id:"email-input",className:"mt-2",placeholder:"Enter Email",autoComplete:"email",value:i,error:a(S),onChange:e=>{s(S,e)},onBlur:()=>{t(S)}}),(0,r.jsx)(h.jQ,{className:"mt-2",fieldKey:S}),(0,r.jsx)(I,{className:"mt-5"})]})},{}),stepFields:["user.firstName","user.lastName","user.email","user.languageId"],isCompletedValidatorFunction:e=>{var s,a,r;let{errors:t}=e;return{completed:!(null==t||null==(s=t.user)?void 0:s.firstName)&&!(null==t||null==(a=t.user)?void 0:a.lastName)&&!(null==t||null==(r=t.user)?void 0:r.email)}}},eC={id:u.BusinessDetails,content:(0,r.jsx)(function(){let{values:e,setFieldValue:s,touchedAndHasError:a,setFieldTouched:t}=eF(),l=m()(e,O,""),i=m()(e,L,""),o=m()(e,R,""),d=m()(e,Y,""),u=m()(e,F,""),c=m()(e,W,""),p=(0,n.useMemo)(()=>{let e=new Date;return e.setDate(e.getDate()+30),e.toISOString().split("T")[0]},[]);return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{className:"d-block",children:"Business Name"}),(0,r.jsx)(v.A,{id:"business-name",className:"mt-2",placeholder:"Enter your business name",value:l,error:a(O),onChange:e=>{s(O,e)},onBlur:()=>{t(O)}}),(0,r.jsx)(h.jQ,{className:"mt-2",fieldKey:O})]}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{className:"d-block",children:"Introduce Your Business"}),(0,r.jsx)(B,{id:"business-description",className:"mt-2",placeholder:"Describe your business",value:i,error:a(L),onChange:e=>{console.log("DEBUG",{value:e.target.value}),s(L,e.target.value)},onBlur:()=>{t(L)}}),(0,r.jsx)(h.jQ,{className:"mt-2",fieldKey:L})]}),(0,r.jsx)(M,{className:"mb-5"}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{className:"d-block",children:"Business Registered Address"}),(0,r.jsx)(v.A,{id:"business-registered-address",className:"mt-2",placeholder:"Enter Business Registered Address",value:o,error:a(R),onChange:e=>{s(R,e)},onBlur:()=>{t(R)}})]}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{className:"d-block",children:"GST Number"}),(0,r.jsx)(v.A,{id:"gst-number",className:"mt-2",placeholder:"Enter GST number",value:o,error:a(R),onChange:e=>{s(R,e)},onBlur:()=>{t(R)}}),(0,r.jsx)(h.jQ,{className:"mt-2",fieldKey:R})]}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{className:"d-block",children:"Turnover of your business"}),(0,r.jsx)(v.A,{id:"annual-turnover",className:"mt-2",placeholder:"Enter annual turnover",value:d,error:a(Y),onChange:e=>s(Y,e),onBlur:()=>{t(Y)}}),(0,r.jsx)(h.jQ,{className:"mt-2",fieldKey:Y})]}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{className:"d-block",children:"Business Start Date"}),(0,r.jsx)(v.A,{id:"start-date",className:"mt-2",placeholder:"Enter start date",type:"date",value:u,error:a(F),onChange:e=>s(F,e),max:p,onBlur:()=>{t(F)}}),(0,r.jsx)(h.jQ,{className:"mt-2",fieldKey:F})]}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{className:"d-block",children:"Website URL"}),(0,r.jsx)(v.A,{id:"website-url",className:"mt-2",placeholder:"Enter website URL",value:c,error:a(W),onChange:e=>s(W,e),onBlur:()=>{t(W)}}),(0,r.jsx)(h.jQ,{className:"mt-2",fieldKey:W})]})]})},{})},eI={id:u.BusinessPastWorkStep,content:(0,r.jsx)(function(){var e,s,a,t,l,i,o,d;let{values:u,setFieldValue:c,nextStep:m}=eF(),[v,h]=(0,n.useState)(!1),p=null==u||null==(s=u.tenderPreference)||null==(e=s.metadata)?void 0:e.governmentTendersCompleted,x=null==u||null==(t=u.tenderPreference)||null==(a=t.metadata)?void 0:a.hasSubcontractWork,b=p||x;return(0,r.jsxs)("div",{className:ej().Container,children:[(0,r.jsx)("div",{className:ej().ContentContainer,children:v?(0,r.jsx)(ey,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ev,{className:"mb-5"}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{className:"d-block",children:"Have you completed any government tender work in the past?"}),(0,r.jsxs)(j.Container,{className:"mt-2","aria-labelledby":"government-tenders",value:"".concat(null==u||null==(i=u.tenderPreference)||null==(l=i.metadata)?void 0:l.governmentTendersCompleted),onChange:e=>{var s;H()(u,"tenderPreference.metadata.governmentTendersCompleted",JSON.parse(e)),c("tenderPreference.metadata",JSON.parse(JSON.stringify(null==u||null==(s=u.tenderPreference)?void 0:s.metadata)))},children:[(0,r.jsx)(j.Option,{value:"true",children:"Yes"}),(0,r.jsx)(j.Option,{value:"false",children:"No"})]})]}),!p&&void 0!==p&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{className:"d-block",children:"Have you completed any sub contracting work in the past?"}),(0,r.jsxs)(j.Container,{className:"mt-2","aria-labelledby":"subcontract-work",value:"".concat(null==u||null==(d=u.tenderPreference)||null==(o=d.metadata)?void 0:o.hasSubcontractWork),onChange:e=>{var s;H()(u,"tenderPreference.metadata.hasSubcontractWork",JSON.parse(e)),c("tenderPreference.metadata",JSON.parse(JSON.stringify(null==u||null==(s=u.tenderPreference)?void 0:s.metadata)))},children:[(0,r.jsx)(j.Option,{value:"true",children:"Yes"}),(0,r.jsx)(j.Option,{value:"false",children:"No"})]})]})})]})}),(0,r.jsxs)("div",{className:"mt-auto",children:[(0,r.jsx)(eh.A,{className:"w-100",onClick:()=>{v?m():b?h(!0):m()},children:"Next"}),(0,r.jsx)(ef,{className:"mt-2 w-100"})]})]})},{})},e_={id:u.BusinessCategory,stepFields:["business_categories"],content:(0,r.jsx)(function(){var e;let{values:s,setFieldValue:a}=eF(),{data:t,loading:l}=(0,d.Y8)({variables:{filters:{isActive:!0}}}),i=(null==t?void 0:t.businessCategories)||[],o=(0,n.useMemo)(()=>{var e;return(null==s||null==(e=s.businessDetails)?void 0:e.categoryIds)||[]},[null==s||null==(e=s.businessDetails)?void 0:e.categoryIds]),u=(0,n.useCallback)(e=>{a("businessDetails.categoryIds",e)},[a]);return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"label",children:"What is your business category?"}),(0,r.jsx)("p",{className:(0,b.t)(N().InfoText,"mt-4"),children:"All Categories"}),l&&!t?(0,r.jsx)(G.k,{className:"mt-2"}):(0,r.jsx)(G.A.Container,{className:"mt-2",value:o,onChange:u,children:i.map((e,s)=>(0,r.jsx)(G.A.Option,{value:"".concat(e.id),children:e.name},s))})]})},{})},ek={id:u.BusinessSubcategory,stepFields:["business_subcategories"],content:(0,r.jsx)(function(){var e;let{values:s}=eF(),a=(0,n.useMemo)(()=>{var e;return(null==s||null==(e=s.businessDetails)?void 0:e.categoryIds)||[]},[null==s||null==(e=s.businessDetails)?void 0:e.categoryIds]),{data:t,loading:l}=(0,d.Y8)({variables:{filters:{isActive:!0,ids:a}}}),i=(null==t?void 0:t.businessCategories)||[];return l&&!t?(0,r.jsx)("div",{children:"Loading Categories..."}):(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"label",children:"What is your business category?"}),(0,r.jsx)(V.Tw,{children:i.map(e=>(0,r.jsx)(K,{categoryId:e.id,categoryName:e.name},e.id))})]})},{})},eS={id:u.TenderTopics,order:5,content:(0,r.jsx)(function(){var e;let{values:s,setFieldValue:a}=eF(),{data:t,loading:l}=(0,d._P)({variables:{filters:{isActive:!0}}}),i=(null==t?void 0:t.tenderCategories)||[],o=(0,n.useMemo)(()=>{var e;return(null==s||null==(e=s.tenderPreference)?void 0:e.categoryIds)||[]},[null==s||null==(e=s.tenderPreference)?void 0:e.categoryIds]),u=(0,n.useCallback)(e=>{a("tenderPreference.categoryIds",e)},[a]);return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"label",children:"What kind of tenders are you interested in?"}),l&&!t?(0,r.jsx)(G.k,{className:"mt-3"}):(0,r.jsx)(G.A.Container,{className:"mt-3",value:o,onChange:u,children:i.map(e=>{let{name:s,id:a}=e;return(0,r.jsx)(G.A.Option,{value:"".concat(a),children:s},a)})})]})},{})},eA={id:u.TenderSubtopics,order:5.5,content:(0,r.jsx)(function(){var e;let{values:s}=eF(),a=(0,n.useMemo)(()=>{var e;return(null==s||null==(e=s.tenderPreference)?void 0:e.categoryIds)||[]},[null==s||null==(e=s.tenderPreference)?void 0:e.categoryIds]),{data:t,loading:l}=(0,d._P)({variables:{filters:{isActive:!0,ids:a}}}),i=(null==t?void 0:t.tenderCategories)||[];return l&&!t?(0,r.jsx)("div",{children:"Loading Categories..."}):(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"label",children:"What is your business category?"}),(0,r.jsx)(V.Tw,{children:i.map(e=>{let{name:s,id:a}=e;return(0,r.jsx)(q,{topicId:a,topicName:s},a)})})]})},{})},eP={id:u.TenderStates,order:6,content:(0,r.jsx)(function(){var e;let{values:s,setFieldValue:a}=eF(),t=(0,n.useMemo)(()=>{var e;return(null==s||null==(e=s.tenderPreference)?void 0:e.stateIds)||[]},[null==s||null==(e=s.tenderPreference)?void 0:e.stateIds]),{data:l,loading:i}=(0,d.JR)(),o=(0,n.useMemo)(()=>(null==l?void 0:l.states.map(e=>({label:e.name||"",value:"".concat(e.id)})))||[],[l]),u=(0,n.useCallback)((e,s)=>{let r=[...t];H()(r,"[".concat(e,"]"),s),a("tenderPreference.stateIds",r)},[t,a]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"label",children:"Select The Preferred Tender States"}),i&&!l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ea,{className:"mt-3"}),(0,r.jsx)(ea,{className:"mt-3"}),(0,r.jsx)(ea,{className:"mt-3"})]}):er.map((e,s)=>{let a=o.filter(e=>e.value===t[s]||!t.includes(e.value)),n=t[s];return(0,r.jsx)("div",{className:"mt-3",children:(0,r.jsx)(ee,{placeholder:"Select State",options:a,value:n,onChange:e=>{u(s,e)}})},s)})]})})},{})},eT={id:u.TenderDistricts,order:6.5,content:(0,r.jsx)(function(){var e;let{values:s}=eF(),a=(0,n.useMemo)(()=>{var e;return(null==s||null==(e=s.tenderPreference)?void 0:e.stateIds)||[]},[null==s||null==(e=s.tenderPreference)?void 0:e.stateIds]),{data:t,loading:l}=(0,d.JR)({variables:{filters:{ids:a}}}),i=(null==t?void 0:t.states)||[];return l&&!t?(0,r.jsx)("div",{children:"Loading States..."}):(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"label",children:"Select The Preferred Tender States"}),(0,r.jsx)(V.Tw,{children:i.map(e=>{let{id:s,name:a}=e;return(0,r.jsx)(et,{stateId:s,stateName:a||""},s)})})]})},{})},ew={id:u.TenderLocationRange,order:6.75,content:(0,r.jsx)(function(){var e;let{values:s,setFieldValue:a}=eF(),t=(null==s||null==(e=s.tenderPreference)?void 0:e.radiusFromLocationInKm)||0;return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"label",children:"Select Specific location town/ village /locality"}),(0,r.jsx)("p",{className:(0,b.t)(N().LabelSmall,"mt-1"),children:"Select exact districts for better tender matching"}),(0,r.jsx)(el,{}),(0,r.jsx)("p",{className:"label d-block mt-5",children:"Select The Radius Form Location"}),(0,r.jsx)("p",{className:(0,b.t)(N().LabelSmall,"mt-1"),children:"Select exact districts for better tender matching"}),(0,r.jsx)(en.A,{className:"mt-1 w-100",label:"Location distance",valueRender:e=>{let{value:s}=e;return"".concat(s," Kms")},defaultValue:t,onChange:e=>{a("tenderPreference.radiusFromLocationInKm",e)}})]})},{})},eB={id:u.TenderAuthorities,order:7,content:(0,r.jsx)(function(){let{values:e,setFieldValue:s}=eF(),{data:a,loading:t,error:l}=(0,d.LY)({variables:{filters:{isActive:!0}}}),i=m()(e,"tenderPreference.authorityBodyIds",[]),{data:o,loading:u}=(0,d.p1)({variables:{filters:{isActive:!0,ids:i}}}),c=(0,n.useMemo)(()=>(null==a?void 0:a.authorityBodyCategories)?a.authorityBodyCategories.map(e=>({label:e.name||"",value:e.id})):[],[a]);l&&console.error("Error loading authority categories:",l);let v=m()(e,"tenderPreference.authorityBodyCategoryIds",[]),h=(0,n.useCallback)(e=>{s("tenderPreference.authorityBodyCategoryIds",e)},[s]);(0,n.useEffect)(()=>{let e=(null==o?void 0:o.authorityBodies)||[];console.log("DEBUG useEffect",{"!value?.length":null==v?void 0:v.length,"selectedAuthorityBodies?.length":null==e?void 0:e.length,selectedAuthorityBodyIds:i}),!(null==v?void 0:v.length)&&(null==e?void 0:e.length)&&s("tenderPreference.authorityBodyCategoryIds",Array.from(new Set(e.map(e=>{var s;return null==(s=e.categories)?void 0:s.map(e=>null==e?void 0:e.id).filter(e=>!!e)}).flat())))},[v,null==o?void 0:o.authorityBodies,s,i]);let p=u&&!o||t&&!a;return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"label",children:"Select The Preferred Tender Authority"}),p?(0,r.jsx)(G.k,{className:"mt-3"}):(0,r.jsx)(G.A.Container,{className:"mt-3",value:v,onChange:h,children:c.map(e=>{let{label:s,value:a}=e;return(0,r.jsx)(G.A.Option,{value:"".concat(a),children:s},a)})})]})},{})},eD={id:u.TenderSubauthorities,order:7.5,content:(0,r.jsx)(function(){let{values:e}=eF(),s=m()(e,"tenderPreference.authorityBodyCategoryIds",[]);return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"label",children:"Select The Preferred Authority Bodies"}),(0,r.jsx)(V.Tw,{children:s.map(e=>(0,r.jsx)(ei,{categoryId:e},e))})]})},{})},eE={id:u.TenderKeywords,order:8,content:(0,r.jsx)(function(){var e,s,a,t;let{values:l,setFieldValue:i}=eF(),o=(null==l||null==(e=l.tenderPreference)?void 0:e.minEmdInInr)||0,d=(null==l||null==(s=l.tenderPreference)?void 0:s.maxEmdInInr)||0,u=(null==l||null==(a=l.tenderPreference)?void 0:a.minTenderValueInInr)||0,c=(null==l||null==(t=l.tenderPreference)?void 0:t.maxTenderValueInInr)||0;return(0,n.useEffect)(()=>{o||d||(i("tenderPreference.minEmdInInr",0),i("tenderPreference.maxEmdInInr",1e4)),u||c||(i("tenderPreference.minTenderValueInInr",0),i("tenderPreference.maxTenderValueInInr",1e4))},[o,d,u,c,i]),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"label d-block",children:"Range for Tender EMD"}),(0,r.jsx)(en.A,{className:"mt-1 w-100",label:"Tender EMD",valueRender:e=>{let{value:s}=e;return"".concat(s," Lakh")},maxValue:5e6,value:[o,d],onChange:e=>{i("tenderPreference.minEmdInInr",e[0]),i("tenderPreference.maxEmdInInr",e[1])}}),(0,r.jsx)("p",{className:"label d-block mt-5",children:"Range of Tender Value"}),(0,r.jsx)(en.A,{className:"mt-1 w-100",label:"Tender Value",valueRender:e=>{let{value:s}=e;return"".concat(s," Lakh")},maxValue:5e7,value:[u,c],onChange:e=>{i("tenderPreference.minTenderValueInInr",e[0]),i("tenderPreference.maxTenderValueInInr",e[1])}}),(0,r.jsx)("p",{className:"label mt-5",children:"Relevant keywords for tenders"}),(0,r.jsx)(eo,{})]})},{})},eM=[{groupNumber:1,name:"Tender Preferences",totalStepsCount:4},{groupNumber:2,name:"Business Documents",totalStepsCount:4}];u.UserDetails,u.BusinessDetails,u.BusinessPastWorkStep,u.BusinessCategory,u.BusinessSubcategory,u.FirstMilestone,u.TenderTopics,u.TenderSubtopics,u.TenderStates,u.TenderDistricts,u.TenderLocationRange,u.TenderAuthorities,u.TenderSubauthorities,u.TenderKeywords,u.SecondMilestone;let eO=[{order:1,groupId:1,name:"Business Profile",steps:[eN,eC,eI,[e_,ek]]},{order:2,groupId:2,name:"Tender Preferences",steps:[[eS,eA],[eP,eT],ew,[eB,eD],eE]},{order:3,groupId:3,name:"Business Documents",steps:[]}].sort((e,s)=>e.order-s.order).map(e=>({...e,steps:e.steps.map(s=>Array.isArray(s)?s.map(s=>({...s,groupId:e.groupId})):{...s,groupId:e.groupId})}));var eL=a(37129);let eR=eL.Ik().shape({user:eL.Ik().shape({firstName:eL.Yj().required("First name is required."),lastName:eL.Yj().required("Last name is required."),email:eL.Yj().matches(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"Email is invalid").required("Email is required."),phone:eL.Yj().matches(/^[+]?[(]?[0-9]{1,4}[)]?[-\s.]?[(]?[0-9]{1,4}[)]?[-\s.]?[0-9]{1,9}$/,"Phone number is invalid").required("Phone number is required."),languageId:eL.Yj().required("Please choose a language.")}),businessDetails:eL.Ik().shape({name:eL.Yj(),description:eL.Yj(),businessTypeId:eL.Yj(),gstNumber:eL.Yj().matches(/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/,"GST number is invalid"),annualTurnoverInInr:eL.Yj(),startDate:eL.Yj(),websiteUrl:eL.Yj().matches(/^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})([/\w .-]*)*\/?$/,"Website URL is invalid"),locationAddressId:eL.Yj()}),tenderPreference:eL.Ik().shape({radiusFromLocationInKm:eL.ai().positive("Radius must be a positive number"),minEmdInInr:eL.ai().min(0,"Minimum EMD must be at least 0"),maxEmdInInr:eL.ai().min(eL.KR("minEmdInInr"),"Maximum EMD must be greater than or equal to minimum EMD"),minTenderValueInInr:eL.ai().min(0,"Minimum tender value must be at least 0"),maxTenderValueInInr:eL.ai().min(eL.KR("minTenderValueInInr"),"Maximum tender value must be greater than or equal to minimum tender value"),stateIds:eL.YO().of(eL.Yj()),cityIds:eL.YO().of(eL.Yj()),townIds:eL.YO().of(eL.Yj()),authorityBodyCategoryIds:eL.YO().of(eL.Yj()),authorityBodyIds:eL.YO().of(eL.Yj()),categoryIds:eL.YO().of(eL.Yj()),subcategoryIds:eL.YO().of(eL.Yj()),keywordIds:eL.YO().of(eL.Yj())}),workOrders:eL.YO().of(eL.Ik().shape({type:eL.Yj(),name:eL.Yj(),stateId:eL.Yj(),locationAddressId:eL.Yj(),clientName:eL.Yj(),dateOfWork:eL.Yj(),orderReceivedTime:eL.Yj(),periodInMonths:eL.ai().positive("Period must be a positive number"),costOfWork:eL.ai().min(0,"Cost must be at least 0"),workDonePercentage:eL.ai().min(0,"Percentage must be at least 0").max(100,"Percentage cannot exceed 100"),remarks:eL.Yj(),authorityBodyId:eL.Yj()}))}),eY={},eF=o.sf;var eW=a(61245),eG=a.n(eW);let eV=function(e){let{percent:s,className:a}=e;return(0,r.jsx)("div",{className:(0,b.t)(a,eG().Container),style:{"--percent":s}})};var eU=a(30737),eK=a.n(eU);let eq=function(e){let{steps:s,className:a}=e;return(0,r.jsx)("div",{className:(0,b.t)(a,eK().Container),children:s.map((e,s)=>{let{progressPercent:a=0}=e;return(0,r.jsx)(eV,{className:eK().Step,percent:a},s)})})},ez=function(){let{activeStep:e}=eF(),s=(0,n.useMemo)(()=>{let s=null,a=null,r=null,t=null,n=0,l=0,o=eO.filter(e=>{let{steps:s}=e;return!!s.length}).length;if(!e)return{activeGroupIndex:s,activeStepIndexInGroup:a,activeGroup:t,totalActiveGroupSteps:n,activeSubstepIndexInGroup:r,totalGroupsCount:o,activeGroupStepsCount:l};let d=e.groupId;return s=eO.findIndex(e=>e.groupId===d),n=(t=eO[s]||null)?t.steps.length:0,l=t.steps.length,a=eO[s].steps.findIndex(s=>i()(s)?s.some((s,a)=>s.id===(null==e?void 0:e.id)&&(r=a,!0)):s.id===(null==e?void 0:e.id)),{activeGroupIndex:s,activeStepIndexInGroup:a,activeGroup:t,totalActiveGroupSteps:n,activeSubstepIndexInGroup:r,totalGroupsCount:o,activeGroupStepsCount:l}},[e]);return(0,n.useEffect)(()=>{console.log("DEBUG 2",{data:s})},[s]),s},eH=function(e){let{className:s}=e,{totalGroupsCount:a,activeGroupStepsCount:t,activeStepIndexInGroup:l,activeGroupIndex:i}=ez(),{isCurrentStepCompleted:d}=(0,o.l9)(),u=(0,n.useMemo)(()=>Array(a).fill(null).map((e,s)=>{let a=0;return null===i||null===l?{progressPercent:0}:{progressPercent:s<i?100:s===i?Math.ceil((l+ +!!d)/t*100):0}}),[a,i,l,t,d]);return(0,r.jsx)(eq,{className:s,steps:u})},eQ=function(e){let{className:s}=e,a=(0,ep.useRouter)(),{stepFormRef:t,activeStepIndex:l}=eF(),i=(0,n.useCallback)(()=>{if(0===l)a.push("/");else{var e;null==t||null==(e=t.current)||e.previousStep()}},[t,l,a]);return(0,r.jsx)(Q.A,{variant:"ghost",size:"sm",className:s,onClick:i,children:(0,r.jsx)(x.A,{src:"/assets/images/icons/chevron_left.svg",alt:"Info",height:20,width:20})})};var eJ=a(65051),eZ=a.n(eJ);let e$=function(e){let{className:s}=e,{values:a,stepFormRef:t,setFieldTouched:l,activeStep:i}=eF(),{isCurrentStepCompleted:u,isOnLastStep:c}=(0,o.l9)(),m=(0,ep.useRouter)(),[v]=(0,d.Az)(),h=(0,n.useCallback)(async()=>{var e,s,r,n,o;if(!i)return;let{stepFields:d=[]}=i;if(d.forEach(e=>l(e,!0)),u){try{let{sanitized:e}=function(e){let{userProfile:s}=e;return{sanitized:function(e){let{input:s,config:a}=e,r=a.removeIfFalsy;return function e(s,a){let t={};return a.forEach(a=>{let n=s[a.key],l="boolean"==typeof a.removeIfFalsy?a.removeIfFalsy:r;if(a.child&&"object"==typeof n&&null!==n){let s=e(n,a.child);(Object.keys(s).length>0||!l)&&(t[a.targetKey||a.key]=s)}else{if(l&&!n)return;void 0!==n&&(t[a.targetKey||a.key]=n)}}),t}(s,a.output.child)}({input:s,config:{removeIfFalsy:!0,output:{child:[{key:"user",child:[{key:"firstName"},{key:"lastName"},{key:"email"},{key:"languageId"}]},{key:"businessDetails",child:[{key:"name"},{key:"description"},{key:"businessTypeId"},{key:"locationAddressId"},{key:"gstNumber"},{key:"annualTurnoverInInr"},{key:"startDate"},{key:"websiteUrl"},{key:"categoryIds"},{key:"subcategoryIds"}]},{key:"tenderPreference",child:[{key:"radiusFromLocationInKm"},{key:"minEmdInInr"},{key:"maxEmdInInr"},{key:"minTenderValueInInr"},{key:"maxTenderValueInInr"},{key:"categoryIds"},{key:"subcategoryIds"},{key:"stateIds"},{key:"cityIds"},{key:"townIds"},{key:"authorityBodyIds"},{key:"keywordIds"},{key:"metadata"}]}]}}})}}({userProfile:a});console.log("Saving profile data...",{values:a,saveProfileInput:e});let t=await v({variables:{input:e}});if(!(null==(r=t.data)||null==(s=r.saveUserProfile)?void 0:s.success))return void console.error("Failed to save user profile:",null==(o=t.data)||null==(n=o.saveUserProfile)?void 0:n.errors);console.log("User profile saved successfully:",t.data.saveUserProfile.profile)}catch(e){console.error("Error saving profile:",e);return}null==t||null==(e=t.current)||e.nextStep(),c&&m.push(eb.f.HOME_PAGE)}},[t,a,u,i,l,c,m,v]);return(0,r.jsx)(Q.A,{className:s,onClick:h,fakeDisabled:!u,children:c?"Finish":"Next"})};var eX=a(80818),e0=a.n(eX);let e1=function(e){let{className:s}=e;return(0,r.jsxs)("div",{className:(0,b.t)(e0().Container,s),children:[(0,r.jsx)(e$,{}),(0,r.jsx)(ef,{className:"mt-2"})]})},e2=function(e){let{className:s}=e,{activeStepIndexInGroup:a,activeGroupStepsCount:t}=ez();return null===a||t<1?null:(0,r.jsxs)("div",{className:s,children:["Step ",a+1," of ",t]})},e5=function(){let{activeStep:e}=eF(),s=null==e?void 0:e.stepNumber,{stepNumber:a,subStepNumber:r,totalSteps:t}=(0,n.useMemo)(()=>{if(!s)return{totalSteps:0,stepNumber:0,subStepNumber:0};let[e,a]=s.split("_").map(Number),r=eM.find(s=>s.groupNumber===e);return{totalSteps:(null==r?void 0:r.totalStepsCount)||0,stepNumber:e,subStepNumber:a}},[s]);return{stepNumber:a,subStepNumber:r,totalSteps:t}},e3=function(e){let{className:s}=e,{stepNumber:a}=e5(),{group:t}=(0,n.useMemo)(()=>({group:eM.find(e=>e.groupNumber===a)||null}),[a]);return(0,r.jsx)("div",{className:s,children:null==t?void 0:t.name})},e6=function(e){let{children:s}=e,{values:a,errors:t,touched:l,activeStepId:i}=eF();return(0,n.useEffect)(()=>{console.log("DEBUG:FORM_UPDATE",{values:a,errors:t,touched:l})},[a,t,l]),(0,r.jsxs)("div",{className:eZ().Container,children:[(0,r.jsxs)("header",{className:eZ().Header,children:[(0,r.jsxs)("div",{className:(0,b.t)(eZ().HeaderRow,eZ().HeaderActionRow),children:[(0,r.jsx)(eQ,{}),(0,r.jsx)(Q.A,{variant:"ghost",size:"sm",children:(0,r.jsx)(x.A,{src:"/assets/images/icons/info.svg",alt:"Info",height:20,width:20})})]}),(0,r.jsx)(eH,{className:"mt-2"}),(0,r.jsxs)("div",{className:(0,b.t)(eZ().HeaderRow,"mt-3"),children:[(0,r.jsx)(e3,{className:eZ().StepName}),(0,r.jsx)(e2,{className:eZ().StepNumber})]})]}),(0,r.jsx)("div",{className:eZ().StepContainer,children:s}),i!==u.BusinessPastWorkStep&&(0,r.jsx)(e1,{})]})},e9=function(e){let{className:s,initialValues:a=eY}=e,t=(0,n.useRef)(null),[l,{loading:c}]=(0,d.L4)(),[m,v]=(0,n.useState)(null),[h,p]=(0,n.useState)(!1),x=(0,n.useMemo)(()=>eO.map(e=>{let{steps:s}=e;return i()(s)?s.flat():[s]}).flat(),[]),b=(0,n.useCallback)(async e=>{try{var s,a,r,t,n,i;v(null),p(!1);let o={...e},d=await l({variables:{input:o}});if(null==(a=d.data)||null==(s=a.updateUserDetails)?void 0:s.success)p(!0),console.log("User details saved successfully:",d.data.updateUserDetails.profile);else{let e=(null==(t=d.data)||null==(r=t.updateUserDetails)?void 0:r.message)||"Failed to save user details";v(e),console.error("Save failed:",null==(i=d.data)||null==(n=i.updateUserDetails)?void 0:n.errors)}}catch(e){v(e instanceof Error?e.message:"An error occurred while saving"),console.error("Error saving user details:",e)}},[l]);return(0,r.jsxs)("div",{children:[m&&(0,r.jsx)("div",{className:"alert alert-danger",role:"alert",children:m}),h&&(0,r.jsx)("div",{className:"alert alert-success",role:"alert",children:"Profile saved successfully!"}),(0,r.jsx)(o.Ay,{ref:t,className:s,initialValues:a,yupValidationSchema:eR,onSubmit:b,initialStepId:u.UserDetails,steps:x,children:e=>{let{children:s}=e;return(0,r.jsxs)(e6,{children:[s,c&&(0,r.jsx)("div",{className:"mt-3 text-muted",children:(0,r.jsx)("span",{children:"Saving..."})})]})}})]})},e7=function(){let{data:e,loading:s}=(0,d.V8)();if(s)return(0,r.jsx)(t.A,{});let a=null==e?void 0:e.myProfile,n=a?{...eY,...a}:eY;return(0,r.jsx)("div",{className:"container",children:(0,r.jsx)(e9,{initialValues:n})})}},26503:e=>{e.exports={Container:"TextArea_Container__mzAb2",TextArea:"TextArea_TextArea__Lr1JO"}},30737:e=>{e.exports={Container:"StepsProgress_Container__bDMl2",Step:"StepsProgress_Step__Jn_4V"}},44618:e=>{e.exports={InfoText:"OnboardingForm_InfoText__mG_oB",InfoTextSmall:"OnboardingForm_InfoTextSmall__7emOj",LabelSmall:"OnboardingForm_LabelSmall__U_sBA"}},51206:(e,s,a)=>{Promise.resolve().then(a.bind(a,7709))},61245:e=>{e.exports={Container:"Progress_Container__NQ81n"}},61319:e=>{e.exports={Card:"RadioGroupCard_Card__R8Wy_",CardWithValue:"RadioGroupCard_CardWithValue__8Idfd",Container:"RadioGroupCard_Container__mi9u2",Title:"RadioGroupCard_Title__K_tht"}},63949:e=>{e.exports={Card:"MilestoneStep_Card__NjMoV",CardTitle:"MilestoneStep_CardTitle__IDQtA",CardContent:"MilestoneStep_CardContent__8LJ0W",GroupIcon:"MilestoneStep_GroupIcon__ip_EM",GroupIconActive:"MilestoneStep_GroupIconActive__vsf_P",GroupTitle:"MilestoneStep_GroupTitle__7rDKq",GroupContent:"MilestoneStep_GroupContent___QEXa"}},65051:e=>{e.exports={Container:"FormLayout_Container__omwfx",Header:"FormLayout_Header__NF3L_",HeaderRow:"FormLayout_HeaderRow__4cKW1",HeaderActionRow:"FormLayout_HeaderActionRow__UpUgf",StepName:"FormLayout_StepName__RkGA5",StepNumber:"FormLayout_StepNumber__5qsBv",StepContainer:"FormLayout_StepContainer__dd9R6",ActionsContainer:"FormLayout_ActionsContainer__cBWEu"}},80818:e=>{e.exports={Container:"ActionButtons_Container__nqg9Y"}},97037:e=>{e.exports={Container:"BusinessPastWorkStep_Container__JAv54",ContentContainer:"BusinessPastWorkStep_ContentContainer__K3PGg",CountField:"BusinessPastWorkStep_CountField__YQIPa",CountFieldInput:"BusinessPastWorkStep_CountFieldInput___igGQ"}},97275:e=>{e.exports={Container:"RadioGroup_Container__OmPuI",ContainerButtonVariant:"RadioGroup_ContainerButtonVariant__HzOn_",Radio:"RadioGroup_Radio__zIhkk",ContainerListVariant:"RadioGroup_ContainerListVariant__7SW9X",OptionCheckbox:"RadioGroup_OptionCheckbox__LMHQ6",OptionTick:"RadioGroup_OptionTick__VE6eh"}}},e=>{var s=s=>e(e.s=s);e.O(0,[587,407,173,20,119,578,660,820,978,717,994,441,684,358],()=>s(51206)),_N_E=e.O()}]);