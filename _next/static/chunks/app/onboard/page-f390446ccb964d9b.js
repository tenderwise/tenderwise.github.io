(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[382],{26503:e=>{e.exports={Container:"TextArea_Container__mzAb2",TextArea:"TextArea_TextArea__Lr1JO"}},30737:e=>{e.exports={Container:"StepsProgress_Container__bDMl2",Step:"StepsProgress_Step__Jn_4V"}},38647:(e,s,t)=>{"use strict";t.d(s,{default:()=>sp});var r=t(95155),n=t(25768),a=t(12115),l=t(15616),i=t(30816),o=function(e){return e.UserDetails="user_details",e.BusinessCategory="business_category",e.BusinessSubcategory="business_subcategory",e.BusinessDetails="business_details",e.BusinessPastWorkStep="business_past_work",e.BusinessGovernmentDetails="business_gov_details",e.WorkOrderStep="work_order",e.TenderTopics="tender_topics",e.TenderSubtopics="tender_subtopics",e.TenderStates="tender_states",e.TenderDistricts="tender_districts",e.TenderLocationRange="tender_location_range",e.TenderAuthorities="tender_authorities",e.TenderSubauthorities="tender_subauthorities",e.TenderKeywords="tender_keywords",e.RegistrationDocuments="registration_documents",e.ComplianceDocuments="compliance_documents",e.ContractorDocuments="contractor_documents",e.StateDocuments="state_documents",e.CentralDocuments="central_documents",e.TechnicalDocuments="technical_documents",e.CertificationDocuments="certification_documents",e.PastWorkDocuments="past_work_documents",e.FirstMilestone="1st_milestone",e.SecondMilestone="2nd_milestone",e.ThirdMilestone="3rd_milestone",e}({}),d=t(48973),u=t.n(d),c=t(8889),m=t(67959),h=t(35978),v=t(67666),p=t(82855),b=t(97275),x=t.n(b);let j={Container:function(e){let{className:s,children:t,variant:n="buttons",...a}=e;return(0,r.jsx)(h.z6,{className:(0,p.t)(x().Container,s,"buttons"===n&&x().ContainerButtonVariant,"list"===n&&x().ContainerListVariant),...a,children:t})},Option:function(e){let{className:s,children:t,...n}=e;return(0,r.jsx)(h.sx,{className:(0,p.t)(x().Radio,s),...n,children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:x().OptionCheckbox,children:(0,r.jsx)(v.A,{className:x().OptionTick,src:"/assets/images/icons/tick.svg",alt:"Edit items",width:12,height:12})}),t]})})}};var f=t(44618),g=t.n(f);let N="user.languageId",y=function(e){let{className:s}=e,{values:t,setFieldValue:n}=e2(),{data:l,loading:o,error:d}=(0,i.b$)({variables:{filters:{isActive:!0}}}),c=u()(t,N,null),h=(0,a.useMemo)(()=>(null==l?void 0:l.languages)?l.languages.map(e=>({label:e.nativeName,value:e.id})):[],[l]);return d?(console.error("Error loading languages:",d),null):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{id:"Language",className:(0,p.t)(s,"d-block"),children:"Preferred Language for Communication"}),(0,r.jsx)(j.Container,{"aria-labelledby":"Language",className:"mt-2",value:c,onChange:e=>{n(N,e)},children:o&&!l?(0,r.jsx)("div",{className:"text-muted",children:"Loading languages..."}):h.map((e,s)=>{let{label:t,value:n}=e;return(0,r.jsx)(j.Option,{value:n,children:t},s)})}),(0,r.jsx)("p",{className:(0,p.t)(g().InfoTextSmall,"mt-3"),children:"Mark only one oval"}),(0,r.jsx)(m.jQ,{className:"mt-2",fieldKey:N})]})},C="user.firstName",_="user.lastName",I="user.email",k=function(){let{values:e,setFieldValue:s,touchedAndHasError:t,setFieldTouched:n}=e2(),a=u()(e,C,""),l=u()(e,_,""),i=u()(e,I,"");return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:g().InfoText,children:"* Indicates required question"}),(0,r.jsx)("label",{className:"d-block mt-4",htmlFor:"name-input",children:"What is your name?"}),(0,r.jsxs)("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[(0,r.jsxs)("div",{style:{flexBasis:0,flexGrow:1},children:[(0,r.jsx)(c.A,{id:"name-input",className:"mt-2 w-100",placeholder:"First name",autoComplete:"first-name",error:t(C),value:a,onChange:e=>{s(C,e)},onBlur:()=>{n(C)}}),(0,r.jsx)(m.jQ,{className:"mt-2",fieldKey:C})]}),(0,r.jsxs)("div",{style:{flexBasis:0,flexGrow:1},children:[(0,r.jsx)(c.A,{id:"name-input",className:"mt-2 w-100",placeholder:"Last name",autoComplete:"last-name",error:t(_),value:l,onChange:e=>{s(_,e)},onBlur:()=>{n(_)}}),(0,r.jsx)(m.jQ,{className:"mt-2",fieldKey:_})]})]}),(0,r.jsx)("label",{className:"d-block mt-5",htmlFor:"email-input",children:"Email"}),(0,r.jsx)(c.A,{id:"email-input",className:"mt-2",placeholder:"Enter Email",autoComplete:"email",value:i,error:t(I),onChange:e=>{s(I,e)},onBlur:()=>{n(I)}}),(0,r.jsx)(m.jQ,{className:"mt-2",fieldKey:I}),(0,r.jsx)(y,{className:"mt-5"})]})};var S=t(22998),A=t(2634),T=t(26503),P=t.n(T);let B=function(e){let{className:s,prependContent:t,appendContent:n,style:a,error:l,...i}=e,o=i["aria-labelledby"]||i["aria-label"]||i.name||i.placeholder;return(0,r.jsx)(A.A,{className:(0,p.t)(P().Container,s),error:l,prependContent:t,appendContent:n,style:{...a||{}},inputComponent:(0,r.jsx)(S.f,{"aria-labelledby":o,...i,className:P().TextArea})})},w="businessType",E=[{label:"Contractor",value:"contractor"},{label:"Supllier",value:"supllier"},{label:"Manufacturer",value:"manufacturer"},{label:"Subcontractor",value:"subcontractor"},{label:"Consultant",value:"consultant"},{label:"E-Tender Services",value:"e-tender-services"}],D=function(e){let{className:s}=e,{values:t,setFieldValue:n}=e2(),l=u()(t,w,null),i=(0,a.useMemo)(()=>E,[]);return(0,r.jsxs)("div",{className:s,children:[(0,r.jsx)("label",{id:"BusinessType",className:"d-block",children:"Business Type"}),(0,r.jsx)(j.Container,{"aria-labelledby":"BusinessType",className:"mt-2",value:l,onChange:e=>{n(w,e)},children:i.map((e,s)=>{let{label:t,value:n}=e;return(0,r.jsx)(j.Option,{value:n,children:t},s)})})]})},M="businessDetails.name",O="businessDetails.description",L="businessDetails.gstNumber",R="businessDetails.annualTurnoverInInr",F="businessDetails.startDate",Y="businessDetails.websiteUrl",G=function(){let{values:e,setFieldValue:s,touchedAndHasError:t,setFieldTouched:n}=e2(),l=u()(e,M,""),i=u()(e,O,""),o=u()(e,L,""),d=u()(e,R,""),h=u()(e,F,""),v=u()(e,Y,""),p=(0,a.useMemo)(()=>{let e=new Date;return e.setDate(e.getDate()+30),e.toISOString().split("T")[0]},[]);return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{className:"d-block",children:"Business Name"}),(0,r.jsx)(c.A,{id:"business-name",className:"mt-2",placeholder:"Enter your business name",value:l,error:t(M),onChange:e=>{s(M,e)},onBlur:()=>{n(M)}}),(0,r.jsx)(m.jQ,{className:"mt-2",fieldKey:M})]}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{className:"d-block",children:"Introduce Your Business"}),(0,r.jsx)(B,{id:"business-description",className:"mt-2",placeholder:"Describe your business",value:i,error:t(O),onChange:e=>{console.log("DEBUG",{value:e.target.value}),s(O,e.target.value)},onBlur:()=>{n(O)}}),(0,r.jsx)(m.jQ,{className:"mt-2",fieldKey:O})]}),(0,r.jsx)(D,{className:"mb-5"}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{className:"d-block",children:"Business Registered Address"}),(0,r.jsx)(c.A,{id:"business-registered-address",className:"mt-2",placeholder:"Enter Business Registered Address",value:o,error:t(L),onChange:e=>{s(L,e)},onBlur:()=>{n(L)}})]}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{className:"d-block",children:"GST Number"}),(0,r.jsx)(c.A,{id:"gst-number",className:"mt-2",placeholder:"Enter GST number",value:o,error:t(L),onChange:e=>{s(L,e)},onBlur:()=>{n(L)}}),(0,r.jsx)(m.jQ,{className:"mt-2",fieldKey:L})]}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{className:"d-block",children:"Turnover of your business"}),(0,r.jsx)(c.A,{id:"annual-turnover",className:"mt-2",placeholder:"Enter annual turnover",value:d,error:t(R),onChange:e=>s(R,e),onBlur:()=>{n(R)}}),(0,r.jsx)(m.jQ,{className:"mt-2",fieldKey:R})]}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{className:"d-block",children:"Business Start Date"}),(0,r.jsx)(c.A,{id:"start-date",className:"mt-2",placeholder:"Enter start date",type:"date",value:h,error:t(F),onChange:e=>s(F,e),max:p,onBlur:()=>{n(F)}}),(0,r.jsx)(m.jQ,{className:"mt-2",fieldKey:F})]}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{className:"d-block",children:"Website URL"}),(0,r.jsx)(c.A,{id:"website-url",className:"mt-2",placeholder:"Enter website URL",value:v,error:t(Y),onChange:e=>s(Y,e),onBlur:()=>{n(Y)}}),(0,r.jsx)(m.jQ,{className:"mt-2",fieldKey:Y})]})]})};var W=t(68265);let V=function(){var e;let{values:s,setFieldValue:t}=e2(),{data:n,loading:l}=(0,i.Y8)({variables:{filters:{isActive:!0}}}),o=(null==n?void 0:n.businessCategories)||[],d=(0,a.useMemo)(()=>{var e;return(null==s||null==(e=s.businessDetails)?void 0:e.categoryIds)||[]},[null==s||null==(e=s.businessDetails)?void 0:e.categoryIds]),u=(0,a.useCallback)(e=>{t("businessDetails.categoryIds",e)},[t]);return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"label",children:"What is your business category?"}),(0,r.jsx)("p",{className:(0,p.t)(g().InfoText,"mt-4"),children:"All Categories"}),l&&!n?(0,r.jsx)(W.k,{className:"mt-2"}):(0,r.jsx)(W.A.Container,{className:"mt-2",value:d,onChange:u,children:o.map((e,s)=>(0,r.jsx)(W.A.Option,{value:"".concat(e.id),children:e.name},s))})]})};var U=t(31150),K=t(61413);function q(e){var s;let{categoryId:t,categoryName:n}=e,{values:l,setFieldValue:o}=e2(),d=(0,a.useMemo)(()=>{var e;return(null==l||null==(e=l.businessDetails)?void 0:e.subcategoryIds)||[]},[null==l||null==(s=l.businessDetails)?void 0:s.subcategoryIds]),{data:u,loading:c}=(0,i.oR)({variables:{filters:{isActive:!0,businessCategoryIds:[t]}}}),m=(0,a.useMemo)(()=>{var e;return(null==u||null==(e=u.businessSubcategories)?void 0:e.map(e=>({name:e.name,value:e.id})))||[]},[null==u?void 0:u.businessSubcategories]),h=(0,a.useCallback)(e=>{o("businessDetails.subcategoryIds",Array.from(new Set([...d.filter(e=>!m.some(s=>s.value===e)),...e])))},[o,m,d]);return c&&!u?(0,r.jsx)(K.U,{className:"mt-3"}):(0,r.jsx)(K.A,{"aria-labelledby":"business-category",className:"mt-3",title:n,options:m,value:d,searchLabel:"Select Sub Category",searchPlaceholder:"Search Authorities",onChange:h})}let z=function(){var e;let{values:s}=e2(),t=(0,a.useMemo)(()=>{var e;return(null==s||null==(e=s.businessDetails)?void 0:e.categoryIds)||[]},[null==s||null==(e=s.businessDetails)?void 0:e.categoryIds]),{data:n,loading:l}=(0,i.Y8)({variables:{filters:{isActive:!0,ids:t}}}),o=(null==n?void 0:n.businessCategories)||[];return l&&!n?(0,r.jsx)("div",{children:"Loading Categories..."}):(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"label",children:"What is your business category?"}),(0,r.jsx)(U.Tw,{children:o.map(e=>(0,r.jsx)(q,{categoryId:e.id,categoryName:e.name},e.id))})]})},H=function(){var e;let{values:s,setFieldValue:t}=e2(),{data:n,loading:l}=(0,i._P)({variables:{filters:{isActive:!0}}}),o=(null==n?void 0:n.tenderCategories)||[],d=(0,a.useMemo)(()=>{var e;return(null==s||null==(e=s.tenderPreference)?void 0:e.categoryIds)||[]},[null==s||null==(e=s.tenderPreference)?void 0:e.categoryIds]),u=(0,a.useCallback)(e=>{t("tenderPreference.categoryIds",e)},[t]);return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"label",children:"What kind of tenders are you interested in?"}),l&&!n?(0,r.jsx)(W.k,{className:"mt-3"}):(0,r.jsx)(W.A.Container,{className:"mt-3",value:d,onChange:u,children:o.map(e=>{let{name:s,id:t}=e;return(0,r.jsx)(W.A.Option,{value:"".concat(t),children:s},t)})})]})};function Q(e){var s;let{topicId:t,topicName:n}=e,{values:l,setFieldValue:o}=e2(),d=(0,a.useMemo)(()=>{var e;return(null==l||null==(e=l.tenderPreference)?void 0:e.subcategoryIds)||[]},[null==l||null==(s=l.tenderPreference)?void 0:s.subcategoryIds]),{data:u,loading:c}=(0,i.Oe)({variables:{filters:{tenderCategoryIds:[t]}}}),m=(0,a.useMemo)(()=>(null==u?void 0:u.tenderSubcategories.map(e=>({name:e.name,value:"".concat(e.id)})))||[],[u]),h=(0,a.useCallback)(e=>{o("tenderPreference.subcategoryIds",Array.from(new Set([...d.filter(e=>!m.some(s=>s.value===e)),...e])))},[d,m,o]);return c&&!u?(0,r.jsx)(K.U,{className:"mt-3"}):(0,r.jsx)(K.A,{"aria-labelledby":"sup-topics",className:"mt-3",title:n,options:m,value:d,searchLabel:"Select Sub Category",searchPlaceholder:"Search Authorities",onChange:h})}let J=function(){var e;let{values:s}=e2(),t=(0,a.useMemo)(()=>{var e;return(null==s||null==(e=s.tenderPreference)?void 0:e.categoryIds)||[]},[null==s||null==(e=s.tenderPreference)?void 0:e.categoryIds]),{data:n,loading:l}=(0,i._P)({variables:{filters:{isActive:!0,ids:t}}}),o=(null==n?void 0:n.tenderCategories)||[];return l&&!n?(0,r.jsx)("div",{children:"Loading Categories..."}):(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"label",children:"What is your business category?"}),(0,r.jsx)(U.Tw,{children:o.map(e=>{let{name:s,id:t}=e;return(0,r.jsx)(Q,{topicId:t,topicName:s},t)})})]})};var Z=t(45009),$=t.n(Z),X=t(55050),ee=t(72074),es=t(50803),et=t(61319),er=t.n(et);let en=function(e){let{className:s,options:t=[],placeholder:n="Select an Option",...l}=e,{state:i,enable:o,disable:d,setState:u}=(0,es.A)(),{value:c,onChange:m}=l,h=c?(0,r.jsx)(v.A,{className:"ml-auto",src:"/assets/images/icons/edit.svg",alt:"Add items",width:16,height:16}):(0,r.jsx)(v.A,{className:"ml-auto",src:"/assets/images/icons/plus.svg",alt:"Edit items",width:16,height:16}),b=(0,a.useMemo)(()=>{let e=t.find(e=>e.value===c);return e?e.label||c:c||n},[c,t,n]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(X.A,{className:(0,p.t)(er().Card,!!c&&er().CardWithValue),size:"sm",variant:"ghost",onClick:o,children:[(0,r.jsx)("div",{className:er().Title,children:b||n}),h]}),(0,r.jsx)(ee.A,{isOpen:i,onOpenChange:u,title:n,children:(0,r.jsx)(j.Container,{...l,variant:"list",className:(0,p.t)(s),onChange:e=>{m&&m(e),d()},children:t.map((e,s)=>(0,r.jsx)(j.Option,{value:e.value,children:e.label},s))})})]})};var ea=t(78066);let el=function(e){let{className:s}=e;return(0,r.jsxs)(ea.A.Default,{className:(0,p.t)(er().Card,er().CardWithValue,s),children:[(0,r.jsx)(ea.A.Default,{style:{width:"5rem",height:"1rem"}}),(0,r.jsx)(ea.A.Circular,{size:"1rem"})]})},ei=[void 0,void 0,void 0],eo=function(){var e;let{values:s,setFieldValue:t}=e2(),n=(0,a.useMemo)(()=>{var e;return(null==s||null==(e=s.tenderPreference)?void 0:e.stateIds)||[]},[null==s||null==(e=s.tenderPreference)?void 0:e.stateIds]),{data:l,loading:o}=(0,i.JR)(),d=(0,a.useMemo)(()=>(null==l?void 0:l.states.map(e=>({label:e.name||"",value:"".concat(e.id)})))||[],[l]),u=(0,a.useCallback)((e,s)=>{let r=[...n];$()(r,"[".concat(e,"]"),s),t("tenderPreference.stateIds",r)},[n,t]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"label",children:"Select The Preferred Tender States"}),o&&!l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(el,{className:"mt-3"}),(0,r.jsx)(el,{className:"mt-3"}),(0,r.jsx)(el,{className:"mt-3"})]}):ei.map((e,s)=>{let t=d.filter(e=>e.value===n[s]||!n.includes(e.value)),a=n[s];return(0,r.jsx)("div",{className:"mt-3",children:(0,r.jsx)(en,{placeholder:"Select State",options:t,value:a,onChange:e=>{u(s,e)}})},s)})]})})};function ed(e){var s;let{stateId:t,stateName:n}=e,{values:l,setFieldValue:o}=e2(),d=(0,a.useMemo)(()=>{var e;return(null==l||null==(e=l.tenderPreference)?void 0:e.cityIds)||[]},[null==l||null==(s=l.tenderPreference)?void 0:s.cityIds]),{data:u,loading:c}=(0,i.WC)({variables:{filters:{stateIds:[t]}}}),m=(0,a.useMemo)(()=>(null==u?void 0:u.cities.map(e=>({name:e.name||"",value:"".concat(e.id)})))||[],[u]),h=(0,a.useCallback)(e=>{o("tenderPreference.cityIds",Array.from(new Set([...d.filter(e=>!m.some(s=>s.value===e)),...e])))},[m,d,o]);return c&&!u?(0,r.jsx)(K.U,{className:"mt-3"}):(0,r.jsx)(K.A,{"aria-labelledby":"districts",className:"mt-3",title:n,options:m,value:d,searchLabel:"Select Districts",searchPlaceholder:"Search Districts",onChange:h})}let eu=function(){var e;let{values:s}=e2(),t=(0,a.useMemo)(()=>{var e;return(null==s||null==(e=s.tenderPreference)?void 0:e.stateIds)||[]},[null==s||null==(e=s.tenderPreference)?void 0:e.stateIds]),{data:n,loading:l}=(0,i.JR)({variables:{filters:{ids:t}}}),o=(null==n?void 0:n.states)||[];return l&&!n?(0,r.jsx)("div",{children:"Loading States..."}):(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"label",children:"Select The Preferred Tender States"}),(0,r.jsx)(U.Tw,{children:o.map(e=>{let{id:s,name:t}=e;return(0,r.jsx)(ed,{stateId:s,stateName:t||""},s)})})]})};var ec=t(1977);let em=function(){let{values:e,setFieldValue:s}=e2(),[t,n]=(0,a.useState)(""),l=u()(e,"tenderPreference.townIds",[]),{data:o,loading:d,error:m}=(0,i.KK)({variables:{filters:{isActive:!0}}}),h=(0,a.useMemo)(()=>(null==o?void 0:o.towns)?o.towns.map(e=>({label:e.name||"",value:e.id})):[],[o]);m&&console.error("Error loading towns:",m);let v=(0,a.useMemo)(()=>t?h.filter(e=>e.label.toLocaleLowerCase().includes(t.toLocaleLowerCase())):h,[t,h]),p=(0,a.useCallback)(e=>{s("tenderPreference.townIds",e)},[s]);return(0,r.jsxs)("div",{children:[(0,r.jsx)(c.A,{className:"mt-3",placeholder:"Enter town/ village /locality Name",value:t,onChange:n}),d&&!o?(0,r.jsx)("div",{className:"text-muted mt-3",children:"Loading towns..."}):(0,r.jsx)(W.A.Container,{className:"mt-3",value:l.map(String),onChange:p,children:v.map(e=>{let{label:s,value:t}=e;return(0,r.jsx)(W.A.Option,{value:t,children:s},t)})})]})},eh=function(){var e;let{values:s,setFieldValue:t}=e2(),n=(null==s||null==(e=s.tenderPreference)?void 0:e.radiusFromLocationInKm)||0;return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"label",children:"Select Specific location town/ village /locality"}),(0,r.jsx)("p",{className:(0,p.t)(g().LabelSmall,"mt-1"),children:"Select exact districts for better tender matching"}),(0,r.jsx)(em,{}),(0,r.jsx)("p",{className:"label d-block mt-5",children:"Select The Radius Form Location"}),(0,r.jsx)("p",{className:(0,p.t)(g().LabelSmall,"mt-1"),children:"Select exact districts for better tender matching"}),(0,r.jsx)(ec.A,{className:"mt-1 w-100",label:"Location distance",valueRender:e=>{let{value:s}=e;return"".concat(s," Kms")},defaultValue:n,onChange:e=>{t("tenderPreference.radiusFromLocationInKm",e)}})]})},ev=function(){let{values:e,setFieldValue:s}=e2(),{data:t,loading:n,error:l}=(0,i.LY)({variables:{filters:{isActive:!0}}}),o=u()(e,"tenderPreference.authorityBodyIds",[]),{data:d,loading:c}=(0,i.p1)({variables:{filters:{isActive:!0,ids:o}}}),m=(0,a.useMemo)(()=>(null==t?void 0:t.authorityBodyCategories)?t.authorityBodyCategories.map(e=>({label:e.name||"",value:e.id})):[],[t]);l&&console.error("Error loading authority categories:",l);let h=u()(e,"tenderPreference.authorityBodyCategoryIds",[]),v=(0,a.useCallback)(e=>{s("tenderPreference.authorityBodyCategoryIds",e)},[s]);(0,a.useEffect)(()=>{let e=(null==d?void 0:d.authorityBodies)||[];console.log("DEBUG useEffect",{"!value?.length":null==h?void 0:h.length,"selectedAuthorityBodies?.length":null==e?void 0:e.length,selectedAuthorityBodyIds:o}),!(null==h?void 0:h.length)&&(null==e?void 0:e.length)&&s("tenderPreference.authorityBodyCategoryIds",Array.from(new Set(e.map(e=>{var s;return null==(s=e.categories)?void 0:s.map(e=>null==e?void 0:e.id).filter(e=>!!e)}).flat())))},[h,null==d?void 0:d.authorityBodies,s,o]);let p=c&&!d||n&&!t;return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"label",children:"Select The Preferred Tender Authority"}),p?(0,r.jsx)(W.k,{className:"mt-3"}):(0,r.jsx)(W.A.Container,{className:"mt-3",value:h,onChange:v,children:m.map(e=>{let{label:s,value:t}=e;return(0,r.jsx)(W.A.Option,{value:"".concat(t),children:s},t)})})]})};function ep(e){let{categoryId:s}=e,{values:t,setFieldValue:n}=e2(),{data:l,loading:o,error:d}=(0,i.p1)({variables:{filters:{isActive:!0}}});d&&console.error("Error loading authority bodies:",d);let c=(0,a.useMemo)(()=>(null==l?void 0:l.authorityBodies)?l.authorityBodies.filter(e=>{var t;return null==(t=e.categories)?void 0:t.some(e=>(null==e?void 0:e.id)===s)}):[],[l,s]),m=(0,a.useMemo)(()=>c.map(e=>({name:e.name||"",value:e.id})),[c]),h=u()(t,"tenderPreference.authorityBodyIds",[]),v=(0,a.useMemo)(()=>{if(!(null==l?void 0:l.authorityBodies))return{};let e={};return l.authorityBodies.forEach(s=>{var t;null==(t=s.categories)||t.forEach(t=>{(null==t?void 0:t.id)&&(e[t.id]||(e[t.id]=[]),e[t.id].push(s))})}),e},[l]),p=(0,a.useMemo)(()=>{var e;let t=null!=(e=(v[s]||[])[0])?e:c[0];if(!(null==t?void 0:t.categories))return"Authority Bodies";let r=t.categories.find(e=>(null==e?void 0:e.id)===s);return(null==r?void 0:r.name)||"Authority Bodies"},[v,s,c]),b=(0,a.useCallback)(e=>{let t=v[s].filter(Boolean).map(e=>e.id||"")||[];n("tenderPreference.authorityBodyIds",Array.from(new Set([...e,...h.filter(e=>!t.includes(e))])))},[s,h,v,n]);return o&&!l?(0,r.jsx)(K.U,{className:"mt-3"}):m.length?(0,r.jsx)(K.A,{"aria-labelledby":"Tender authority",className:"mt-3",title:p,options:m,value:h,searchLabel:"Search Authority Bodies",searchPlaceholder:"Search Authority Bodies",onChange:b}):null}let eb=function(){let{values:e}=e2(),s=u()(e,"tenderPreference.authorityBodyCategoryIds",[]);return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"label",children:"Select The Preferred Authority Bodies"}),(0,r.jsx)(U.Tw,{children:s.map(e=>(0,r.jsx)(ep,{categoryId:e},e))})]})},ex=function(){let{values:e,setFieldValue:s}=e2(),[t,n]=(0,a.useState)(""),l=u()(e,"tenderPreference.keywordIds",[]),{data:o,loading:d,error:m}=(0,i.M8)({variables:{filters:{isActive:!0}}}),h=(0,a.useMemo)(()=>(null==o?void 0:o.tenderKeywords)?o.tenderKeywords.map(e=>({label:e.name||"",value:e.id})):[],[o]);m&&console.error("Error loading keywords:",m);let v=(0,a.useMemo)(()=>t?h.filter(e=>e.label.toLocaleLowerCase().includes(t.toLocaleLowerCase())):h,[t,h]),p=(0,a.useCallback)(e=>{s("tenderPreference.keywordIds",e)},[s]);return(0,r.jsxs)("div",{children:[(0,r.jsx)(c.A,{className:"mt-3",placeholder:"Enter relevant keywords for tenders",value:t,onChange:n}),d&&!o?(0,r.jsx)("div",{className:"text-muted mt-3",children:"Loading keywords..."}):(0,r.jsx)(W.A.Container,{className:"mt-3",value:l,onChange:p,children:v.map(e=>{let{label:s,value:t}=e;return(0,r.jsx)(W.A.Option,{value:"".concat(t),children:s},t)})})]})},ej=function(){var e,s,t,n;let{values:l,setFieldValue:i}=e2(),o=(null==l||null==(e=l.tenderPreference)?void 0:e.minEmdInInr)||0,d=(null==l||null==(s=l.tenderPreference)?void 0:s.maxEmdInInr)||0,u=(null==l||null==(t=l.tenderPreference)?void 0:t.minTenderValueInInr)||0,c=(null==l||null==(n=l.tenderPreference)?void 0:n.maxTenderValueInInr)||0;return(0,a.useEffect)(()=>{o||d||(i("tenderPreference.minEmdInInr",0),i("tenderPreference.maxEmdInInr",1e4)),u||c||(i("tenderPreference.minTenderValueInInr",0),i("tenderPreference.maxTenderValueInInr",1e4))},[o,d,u,c,i]),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"label d-block",children:"Range for Tender EMD"}),(0,r.jsx)(ec.A,{className:"mt-1 w-100",label:"Tender EMD",valueRender:e=>{let{value:s}=e;return"".concat(s," Lakh")},maxValue:5e6,value:[o,d],onChange:e=>{i("tenderPreference.minEmdInInr",e[0]),i("tenderPreference.maxEmdInInr",e[1])}}),(0,r.jsx)("p",{className:"label d-block mt-5",children:"Range of Tender Value"}),(0,r.jsx)(ec.A,{className:"mt-1 w-100",label:"Tender Value",valueRender:e=>{let{value:s}=e;return"".concat(s," Lakh")},maxValue:5e7,value:[u,c],onChange:e=>{i("tenderPreference.minTenderValueInInr",e[0]),i("tenderPreference.maxTenderValueInInr",e[1])}}),(0,r.jsx)("p",{className:"label mt-5",children:"Relevant keywords for tenders"}),(0,r.jsx)(ex,{})]})},ef=function(){let{steps:e}=e2(),{stepsValidationDataMap:s}=(0,l.l9)();return(0,a.useMemo)(()=>{let t=eJ.map(t=>{let{groupNumber:r}=t,n=e.filter(e=>{let{stepNumber:s=""}=e;return+s.split("_")[0]===r}),a=n.every(e=>{let{id:t}=e;return s[t].completed});return{groupSteps:n,allStepsCompleted:a,groupNumber:r}}),r=t.reduce((e,s)=>({...e,[s.groupNumber]:s}),{});return{stepGroupListCompletionData:t,stepGroupValidationDataMap:r}},[s,e])};var eg=t(63949),eN=t.n(eg);let ey=e=>{let{title:s,description:t,completed:n,className:a}=e;return(0,r.jsxs)("div",{className:(0,p.t)(a,"d-flex gap-2"),children:[(0,r.jsx)("div",{className:(0,p.t)(eN().GroupIcon,n&&eN().GroupIconActive),children:(0,r.jsx)(v.A,{src:n?"/assets/images/icons/tick.svg":"/assets/images/icons/clock.svg",alt:"",width:12,height:12})}),(0,r.jsxs)("div",{className:"flex-grow-1",children:[(0,r.jsx)("div",{className:eN().GroupTitle,children:s}),(0,r.jsx)("div",{className:(0,p.t)(eN().GroupContent,"mt-1"),children:t})]})]})},eC=function(){let{stepsValidationDataMap:e}=(0,l.l9)(),{steps:s}=(0,l.sf)(),{stepGroupValidationDataMap:t}=ef();return(0,a.useMemo)(()=>{console.log("DEBUG",{steps:s,stepsValidationDataMap:e})},[s,e]),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:eN().Card,children:[(0,r.jsx)(v.A,{src:"/assets/images/pages/user-form/tick-big.svg",alt:"",width:80,height:80}),(0,r.jsx)("h3",{className:(0,p.t)(eN().CardTitle,"mt-3"),children:"You Almost There"}),(0,r.jsx)("p",{className:(0,p.t)(eN().CardContent,"mt-2"),children:"Completed your profile so we help you find tenders that match your business needs."})]}),(0,r.jsx)(ey,{title:"Business Profile",description:"Completed",className:"mt-5",completed:t[1].allStepsCompleted}),(0,r.jsx)(ey,{title:"Tender Preferences",description:"Completed",className:"mt-5",completed:t[2].allStepsCompleted})]})},e_="businessOwnershipType",eI=[{label:"MSME",value:"msme"},{label:"Startup India",value:"startup-india"},{label:"Co-Operative Society Member",value:"cooperative-society-member"},{label:"Unemployed Engineer",value:"unemployed-engineer"},{label:"Open Contractor",value:"open-contractor"}],ek=function(e){let{className:s}=e,{values:t,setFieldValue:n}=e2(),l=u()(t,e_,null),i=(0,a.useMemo)(()=>eI,[]);return(0,r.jsxs)("div",{className:s,children:[(0,r.jsx)("label",{id:"BusinessOwnershipType",className:"d-block",children:"Please select if applicable"}),(0,r.jsx)(j.Container,{"aria-labelledby":"BusinessOwnershipType",className:"mt-2",value:l,onChange:e=>{n(e_,e)},children:i.map((e,s)=>{let{label:t,value:n}=e;return(0,r.jsx)(j.Option,{value:n,children:t},s)})})]})};var eS=t(49836),eA=t(35695),eT=t(1717),eP=t(93162);let eB=function(e){let{className:s}=e,{values:t}=e2(),n=(0,eA.useRouter)(),l=(0,a.useCallback)(async()=>{await eT.a.saveUserDetailsPartial({userPreferences:t}),n.push(eP.f.HOME_PAGE)},[t,n]);return(0,r.jsx)(X.A,{className:s,variant:"ghost",size:"sm",onClick:l,children:"Save & Exit"})};var ew=t(97037),eE=t.n(ew);let eD=function(){var e,s,t,n;let{values:a,nextStep:l}=e2(),i=null==a||null==(s=a.tenderPreference)||null==(e=s.metadata)?void 0:e.governmentTendersCompleted,o=null==a||null==(n=a.tenderPreference)||null==(t=n.metadata)?void 0:t.hasSubcontractWork;return i||o?(0,r.jsxs)("div",{children:[(0,r.jsx)(ek,{className:"mb-5"}),(0,r.jsxs)(X.A,{variant:"secondary",className:"w-100",children:[(0,r.jsx)(v.A,{className:"ml-auto",src:"/assets/images/icons/plus.svg",alt:"Edit items",width:16,height:16})," ","Add Work"]})]}):(l(),null)},eM=function(){var e,s,t,n,l,i,o,d;let{values:u,setFieldValue:c,nextStep:m}=e2(),[h,v]=(0,a.useState)(!1),p=null==u||null==(s=u.tenderPreference)||null==(e=s.metadata)?void 0:e.governmentTendersCompleted,b=null==u||null==(n=u.tenderPreference)||null==(t=n.metadata)?void 0:t.hasSubcontractWork,x=p||b;return(0,r.jsxs)("div",{className:eE().Container,children:[(0,r.jsx)("div",{className:eE().ContentContainer,children:h?(0,r.jsx)(eD,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ek,{className:"mb-5"}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{className:"d-block",children:"Have you completed any government tender work in the past?"}),(0,r.jsxs)(j.Container,{className:"mt-2","aria-labelledby":"government-tenders",value:"".concat(null==u||null==(i=u.tenderPreference)||null==(l=i.metadata)?void 0:l.governmentTendersCompleted),onChange:e=>{var s;$()(u,"tenderPreference.metadata.governmentTendersCompleted",JSON.parse(e)),c("tenderPreference.metadata",JSON.parse(JSON.stringify(null==u||null==(s=u.tenderPreference)?void 0:s.metadata)))},children:[(0,r.jsx)(j.Option,{value:"true",children:"Yes"}),(0,r.jsx)(j.Option,{value:"false",children:"No"})]})]}),!p&&void 0!==p&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{className:"d-block",children:"Have you completed any sub contracting work in the past?"}),(0,r.jsxs)(j.Container,{className:"mt-2","aria-labelledby":"subcontract-work",value:"".concat(null==u||null==(d=u.tenderPreference)||null==(o=d.metadata)?void 0:o.hasSubcontractWork),onChange:e=>{var s;$()(u,"tenderPreference.metadata.hasSubcontractWork",JSON.parse(e)),c("tenderPreference.metadata",JSON.parse(JSON.stringify(null==u||null==(s=u.tenderPreference)?void 0:s.metadata)))},children:[(0,r.jsx)(j.Option,{value:"true",children:"Yes"}),(0,r.jsx)(j.Option,{value:"false",children:"No"})]})]})})]})}),(0,r.jsxs)("div",{className:"mt-auto",children:[(0,r.jsx)(eS.A,{className:"w-100",onClick:()=>{h?m():x?v(!0):m()},children:"Next"}),(0,r.jsx)(eB,{className:"mt-2 w-100"})]})]})},eO={id:o.UserDetails,content:(0,r.jsx)(k,{}),stepFields:["user.firstName","user.lastName","user.email","user.languageId"],isCompletedValidatorFunction:e=>{var s,t,r;let{errors:n}=e;return{completed:!(null==n||null==(s=n.user)?void 0:s.firstName)&&!(null==n||null==(t=n.user)?void 0:t.lastName)&&!(null==n||null==(r=n.user)?void 0:r.email)}}},eL={order:2,id:o.BusinessGovernmentDetails,content:(0,r.jsx)(function(){let{values:e,setFieldValue:s}=e2(),{business_name:t,business_description:n,business_type:a,business_registered_address:l,gst_number:i,business_website:o}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"d-block mt-4",children:"Business Name"}),(0,r.jsx)(c.A,{className:"mt-2",placeholder:"Enter Business Name",value:t,onChange:e=>{s("business_name",e)}}),(0,r.jsx)("label",{className:"d-block mt-4",children:"Introduce Your Business"}),(0,r.jsx)(c.A,{className:"mt-2",placeholder:"Enter about your Business",value:n,onChange:e=>{s("business_description",e)}}),(0,r.jsx)("label",{className:"d-block mt-4",children:"Business Type"}),(0,r.jsxs)(j.Container,{className:"mt-2","aria-labelledby":"Business Type",value:a,onChange:e=>{s("business_type",e)},children:[(0,r.jsx)(j.Option,{value:"contractor",children:"Contractor"}),(0,r.jsx)(j.Option,{value:"supplier",children:"Supplier"}),(0,r.jsx)(j.Option,{value:"manufacturer",children:"Manufacturer"}),(0,r.jsx)(j.Option,{value:"subcontractor",children:"Subcontractor"}),(0,r.jsx)(j.Option,{value:"consultant",children:"Consultant"}),(0,r.jsx)(j.Option,{value:"e-tender-services",children:"E-Tender Services"})]}),(0,r.jsx)("p",{className:(0,p.t)(g().InfoTextSmall,"mt-2"),children:"Mark only one oval"}),(0,r.jsx)("label",{className:"d-block mt-4",children:"Business Registered Address"}),(0,r.jsx)(c.A,{className:"mt-2",placeholder:"Enter Business Registered Address",value:l,onChange:e=>{s("business_registered_address",e)}}),(0,r.jsx)("label",{className:"d-block mt-4",children:"GST Number"}),(0,r.jsx)(c.A,{className:"mt-2",placeholder:"Enter GST Number",value:i,onChange:e=>{s("gst_number",e)}}),(0,r.jsx)("label",{className:"d-block mt-4",children:"Turnover of your business"}),(0,r.jsx)(c.A,{className:"mt-2",placeholder:"Enter Turnover"}),(0,r.jsx)("label",{className:"d-block mt-4",children:"Business Start Date"}),(0,r.jsx)(c.A,{className:"mt-2",placeholder:"Select Business Start Date",type:"date"}),(0,r.jsx)("label",{className:"d-block mt-4",children:"Business Website"}),(0,r.jsx)(c.A,{className:"mt-2",placeholder:"Enter Business Website Link",value:o,onChange:e=>{s("business_website",e)}})]})},{}),stepFields:["name","email","language"]},eR={id:o.BusinessDetails,content:(0,r.jsx)(G,{})},eF={id:o.BusinessPastWorkStep,content:(0,r.jsx)(eM,{})},eY={id:o.BusinessCategory,stepFields:["business_categories"],content:(0,r.jsx)(V,{})},eG={id:o.BusinessSubcategory,stepFields:["business_subcategories"],content:(0,r.jsx)(z,{})},eW={id:o.TenderTopics,order:5,content:(0,r.jsx)(H,{})},eV={id:o.TenderSubtopics,order:5.5,content:(0,r.jsx)(J,{})},eU={id:o.TenderStates,order:6,content:(0,r.jsx)(eo,{})},eK={id:o.TenderDistricts,order:6.5,content:(0,r.jsx)(eu,{})},eq={id:o.TenderLocationRange,order:6.75,content:(0,r.jsx)(eh,{})},ez={id:o.TenderAuthorities,order:7,content:(0,r.jsx)(ev,{})},eH={id:o.TenderSubauthorities,order:7.5,content:(0,r.jsx)(eb,{})},eQ={id:o.TenderKeywords,order:8,content:(0,r.jsx)(ej,{})},eJ=[{groupNumber:1,name:"Tender Preferences",totalStepsCount:4},{groupNumber:2,name:"Business Documents",totalStepsCount:4}],eZ=[{order:1,id:o.UserDetails,content:(0,r.jsx)(k,{}),stepFields:["user.firstName","user.lastName","user.email","user.languageId"],stepNumber:"1_1",isCompletedValidatorFunction:e=>{var s,t,r;let{errors:n}=e;return{completed:!(null==n||null==(s=n.user)?void 0:s.firstName)&&!(null==n||null==(t=n.user)?void 0:t.lastName)&&!(null==n||null==(r=n.user)?void 0:r.email)}}},{id:o.BusinessDetails,order:3,content:(0,r.jsx)(G,{}),stepNumber:"1_3"},{id:o.BusinessPastWorkStep,order:3,content:(0,r.jsx)(eM,{}),stepNumber:"1_4"},{order:4,id:o.BusinessCategory,stepFields:["business_categories"],content:(0,r.jsx)(V,{}),stepNumber:"1_4"},{order:4.5,id:o.BusinessSubcategory,content:(0,r.jsx)(z,{}),stepNumber:"1_4"},{order:4.5,id:o.FirstMilestone,content:(0,r.jsx)(eC,{}),stepNumber:"1_4"},{id:o.TenderTopics,order:5,content:(0,r.jsx)(H,{}),stepNumber:"2_1"},{id:o.TenderSubtopics,order:5.5,content:(0,r.jsx)(J,{}),stepNumber:"2_1"},{id:o.TenderStates,order:6,content:(0,r.jsx)(eo,{}),stepNumber:"2_2"},{id:o.TenderDistricts,order:6.5,content:(0,r.jsx)(eu,{}),stepNumber:"2_2"},{id:o.TenderLocationRange,order:6.75,content:(0,r.jsx)(eh,{}),stepNumber:"2_2"},{id:o.TenderAuthorities,order:7,content:(0,r.jsx)(ev,{}),stepNumber:"2_3"},{id:o.TenderSubauthorities,order:7.5,content:(0,r.jsx)(eb,{}),stepNumber:"2_3"},{id:o.TenderKeywords,order:8,content:(0,r.jsx)(ej,{}),stepNumber:"2_4"},{order:8.5,id:o.SecondMilestone,content:(0,r.jsx)(eC,{}),stepNumber:"2_4"}],e$=[{name:"Business Profile",steps:[eO,eR,eF,eL,[eY,eG]]},{name:"Tender Preferences",steps:[[eW,eV],[eU,eK],eq,[ez,eH],eQ]},{name:"Business Documents",steps:[]}];var eX=t(37129);let e0=eX.Ik().shape({user:eX.Ik().shape({firstName:eX.Yj().required("First name is required."),lastName:eX.Yj().required("Last name is required."),email:eX.Yj().matches(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"Email is invalid").required("Email is required."),phone:eX.Yj().matches(/^[+]?[(]?[0-9]{1,4}[)]?[-\s.]?[(]?[0-9]{1,4}[)]?[-\s.]?[0-9]{1,9}$/,"Phone number is invalid").required("Phone number is required."),languageId:eX.Yj().required("Please choose a language.")}),businessDetails:eX.Ik().shape({name:eX.Yj(),description:eX.Yj(),businessTypeId:eX.Yj(),gstNumber:eX.Yj().matches(/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/,"GST number is invalid"),annualTurnoverInInr:eX.Yj(),startDate:eX.Yj(),websiteUrl:eX.Yj().matches(/^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})([/\w .-]*)*\/?$/,"Website URL is invalid"),locationAddressId:eX.Yj()}),tenderPreference:eX.Ik().shape({radiusFromLocationInKm:eX.ai().positive("Radius must be a positive number"),minEmdInInr:eX.ai().min(0,"Minimum EMD must be at least 0"),maxEmdInInr:eX.ai().min(eX.KR("minEmdInInr"),"Maximum EMD must be greater than or equal to minimum EMD"),minTenderValueInInr:eX.ai().min(0,"Minimum tender value must be at least 0"),maxTenderValueInInr:eX.ai().min(eX.KR("minTenderValueInInr"),"Maximum tender value must be greater than or equal to minimum tender value"),stateIds:eX.YO().of(eX.Yj()),cityIds:eX.YO().of(eX.Yj()),townIds:eX.YO().of(eX.Yj()),authorityBodyCategoryIds:eX.YO().of(eX.Yj()),authorityBodyIds:eX.YO().of(eX.Yj()),categoryIds:eX.YO().of(eX.Yj()),subcategoryIds:eX.YO().of(eX.Yj()),keywordIds:eX.YO().of(eX.Yj())}),workOrders:eX.YO().of(eX.Ik().shape({type:eX.Yj(),name:eX.Yj(),stateId:eX.Yj(),locationAddressId:eX.Yj(),clientName:eX.Yj(),dateOfWork:eX.Yj(),orderReceivedTime:eX.Yj(),periodInMonths:eX.ai().positive("Period must be a positive number"),costOfWork:eX.ai().min(0,"Cost must be at least 0"),workDonePercentage:eX.ai().min(0,"Percentage must be at least 0").max(100,"Percentage cannot exceed 100"),remarks:eX.Yj(),authorityBodyId:eX.Yj()}))}),e1={},e2=l.sf;var e5=t(61245),e3=t.n(e5);let e6=function(e){let{percent:s,className:t}=e;return(0,r.jsx)("div",{className:(0,p.t)(t,e3().Container),style:{"--percent":s}})};var e4=t(30737),e9=t.n(e4);let e7=function(e){let{steps:s,className:t}=e;return(0,r.jsx)("div",{className:(0,p.t)(t,e9().Container),children:s.map((e,s)=>{let{progressPercent:t=0}=e;return(0,r.jsx)(e6,{className:e9().Step,percent:t},s)})})},e8=function(){let{activeStep:e}=e2(),s=null==e?void 0:e.stepNumber,{stepNumber:t,subStepNumber:r,totalSteps:n}=(0,a.useMemo)(()=>{if(!s)return{totalSteps:0,stepNumber:0,subStepNumber:0};let[e,t]=s.split("_").map(Number),r=eJ.find(s=>s.groupNumber===e);return{totalSteps:(null==r?void 0:r.totalStepsCount)||0,stepNumber:e,subStepNumber:t}},[s]);return{stepNumber:t,subStepNumber:r,totalSteps:n}},se=function(e){let{className:s}=e,{stepNumber:t,subStepNumber:n}=e8(),l=(0,a.useCallback)(e=>{if(t>e)return 100;if(e===t){let e=eJ.find(e=>e.groupNumber===t);return e?Math.ceil(n/e.totalStepsCount*100):0}return 0},[t,n]);return(0,r.jsx)(e7,{className:s,steps:[{progressPercent:l(1)},{progressPercent:l(2)}]})},ss=function(e){let{className:s}=e,t=(0,eA.useRouter)(),{stepFormRef:n,activeStepIndex:l}=e2(),i=(0,a.useCallback)(()=>{if(0===l)t.push("/");else{var e;null==n||null==(e=n.current)||e.previousStep()}},[n,l,t]);return(0,r.jsx)(X.A,{variant:"ghost",size:"sm",className:s,onClick:i,children:(0,r.jsx)(v.A,{src:"/assets/images/icons/chevron_left.svg",alt:"Info",height:20,width:20})})};var st=t(65051),sr=t.n(st);let sn=function(e){let{className:s}=e,{values:t,stepFormRef:n,setFieldTouched:o,activeStep:d}=e2(),{isCurrentStepCompleted:u,isOnLastStep:c}=(0,l.l9)(),m=(0,eA.useRouter)(),[h]=(0,i.Az)(),v=(0,a.useCallback)(async()=>{var e,s,r,a,l;if(!d)return;let{stepFields:i=[]}=d;if(i.forEach(e=>o(e,!0)),u){try{let{sanitized:e}=function(e){let{userProfile:s}=e;return{sanitized:function(e){let{input:s,config:t}=e,r=t.removeIfFalsy;return function e(s,t){let n={};return t.forEach(t=>{let a=s[t.key],l="boolean"==typeof t.removeIfFalsy?t.removeIfFalsy:r;if(t.child&&"object"==typeof a&&null!==a){let s=e(a,t.child);(Object.keys(s).length>0||!l)&&(n[t.targetKey||t.key]=s)}else{if(l&&!a)return;void 0!==a&&(n[t.targetKey||t.key]=a)}}),n}(s,t.output.child)}({input:s,config:{removeIfFalsy:!0,output:{child:[{key:"user",child:[{key:"firstName"},{key:"lastName"},{key:"email"},{key:"languageId"}]},{key:"businessDetails",child:[{key:"name"},{key:"description"},{key:"businessTypeId"},{key:"locationAddressId"},{key:"gstNumber"},{key:"annualTurnoverInInr"},{key:"startDate"},{key:"websiteUrl"},{key:"categoryIds"},{key:"subcategoryIds"}]},{key:"tenderPreference",child:[{key:"radiusFromLocationInKm"},{key:"minEmdInInr"},{key:"maxEmdInInr"},{key:"minTenderValueInInr"},{key:"maxTenderValueInInr"},{key:"categoryIds"},{key:"subcategoryIds"},{key:"stateIds"},{key:"cityIds"},{key:"townIds"},{key:"authorityBodyIds"},{key:"keywordIds"},{key:"metadata"}]}]}}})}}({userProfile:t});console.log("Saving profile data...",{values:t,saveProfileInput:e});let n=await h({variables:{input:e}});if(!(null==(r=n.data)||null==(s=r.saveUserProfile)?void 0:s.success))return void console.error("Failed to save user profile:",null==(l=n.data)||null==(a=l.saveUserProfile)?void 0:a.errors);console.log("User profile saved successfully:",n.data.saveUserProfile.profile)}catch(e){console.error("Error saving profile:",e);return}null==n||null==(e=n.current)||e.nextStep(),c&&m.push(eP.f.HOME_PAGE)}},[n,t,u,d,o,c,m,h]);return(0,r.jsx)(X.A,{className:s,onClick:v,fakeDisabled:!u,children:c?"Finish":"Next"})};var sa=t(80818),sl=t.n(sa);let si=function(e){let{className:s}=e;return(0,r.jsxs)("div",{className:(0,p.t)(sl().Container,s),children:[(0,r.jsx)(sn,{}),(0,r.jsx)(eB,{className:"mt-2"})]})},so=function(e){let{className:s}=e,{subStepNumber:t,totalSteps:n}=e8();return(0,r.jsxs)("div",{className:s,children:["Step ",t," of ",n]})},sd=function(e){let{className:s}=e,{stepNumber:t}=e8(),{group:n}=(0,a.useMemo)(()=>({group:eJ.find(e=>e.groupNumber===t)||null}),[t]);return(0,r.jsx)("div",{className:s,children:null==n?void 0:n.name})};var su=t(39608),sc=t.n(su);let sm=function(){let{activeStep:e}=e2(),{stepNumber:s,totalSteps:t,subStepNumber:r}=(0,a.useMemo)(()=>{if(!e)return{totalSteps:0,stepNumber:0,subStepNumber:0};let s=e$.find(s=>s.steps.find(s=>sc()(s)?s.some(s=>s.id===(null==e?void 0:e.id)):s.id===(null==e?void 0:e.id))),t=s?s.steps.length:0,r=0;return{totalSteps:t,stepNumber:s?s.steps.findIndex(s=>sc()(s)?s.some((s,t)=>{let n=s.id===(null==e?void 0:e.id);return n&&(r=t+1),n}):s.id===(null==e?void 0:e.id))+1:0,subStepNumber:r}},[e]);return{stepNumber:s,totalSteps:t,subStepNumber:r}},sh=function(e){let{children:s}=e,{values:t,errors:n,touched:l,activeStepId:i}=e2();(0,a.useEffect)(()=>{console.log("DEBUG:FORM_UPDATE",{values:t,errors:n,touched:l})},[t,n,l]);let{stepNumber:d,totalSteps:u,subStepNumber:c}=sm();return console.log("DEBUG:useStepDetails",{stepNumber:d,totalSteps:u,subStepNumber:c}),(0,r.jsxs)("div",{className:sr().Container,children:[(0,r.jsxs)("header",{className:sr().Header,children:[(0,r.jsxs)("div",{className:(0,p.t)(sr().HeaderRow,sr().HeaderActionRow),children:[(0,r.jsx)(ss,{}),(0,r.jsx)(X.A,{variant:"ghost",size:"sm",children:(0,r.jsx)(v.A,{src:"/assets/images/icons/info.svg",alt:"Info",height:20,width:20})})]}),(0,r.jsx)(se,{className:"mt-2"}),(0,r.jsxs)("div",{className:(0,p.t)(sr().HeaderRow,"mt-3"),children:[(0,r.jsx)(sd,{className:sr().StepName}),(0,r.jsx)(so,{className:sr().StepNumber})]})]}),(0,r.jsx)("div",{className:sr().StepContainer,children:s}),i!==o.BusinessPastWorkStep&&(0,r.jsx)(si,{})]})},sv=function(e){let{className:s,initialValues:t=e1}=e,n=(0,a.useRef)(null),[d,{loading:u}]=(0,i.L4)(),[c,m]=(0,a.useState)(null),[h,v]=(0,a.useState)(!1),p=(0,a.useCallback)(async e=>{try{var s,t,r,n,a,l;m(null),v(!1);let i={...e},o=await d({variables:{input:i}});if(null==(t=o.data)||null==(s=t.updateUserDetails)?void 0:s.success)v(!0),console.log("User details saved successfully:",o.data.updateUserDetails.profile);else{let e=(null==(n=o.data)||null==(r=n.updateUserDetails)?void 0:r.message)||"Failed to save user details";m(e),console.error("Save failed:",null==(l=o.data)||null==(a=l.updateUserDetails)?void 0:a.errors)}}catch(e){m(e instanceof Error?e.message:"An error occurred while saving"),console.error("Error saving user details:",e)}},[d]);return(0,r.jsxs)("div",{children:[c&&(0,r.jsx)("div",{className:"alert alert-danger",role:"alert",children:c}),h&&(0,r.jsx)("div",{className:"alert alert-success",role:"alert",children:"Profile saved successfully!"}),(0,r.jsx)(l.Ay,{ref:n,className:s,initialValues:t,yupValidationSchema:e0,onSubmit:p,initialStepId:o.UserDetails,steps:eZ,children:e=>{let{children:s}=e;return(0,r.jsxs)(sh,{children:[s,u&&(0,r.jsx)("div",{className:"mt-3 text-muted",children:(0,r.jsx)("span",{children:"Saving..."})})]})}})]})},sp=function(){let{data:e,loading:s}=(0,i.V8)();if(s)return(0,r.jsx)(n.A,{});let t=null==e?void 0:e.myProfile,a=t?{...e1,...t}:e1;return(0,r.jsx)("div",{className:"container",children:(0,r.jsx)(sv,{initialValues:a})})}},44618:e=>{e.exports={InfoText:"OnboardingForm_InfoText__mG_oB",InfoTextSmall:"OnboardingForm_InfoTextSmall__7emOj",LabelSmall:"OnboardingForm_LabelSmall__U_sBA"}},51206:(e,s,t)=>{Promise.resolve().then(t.bind(t,38647))},61245:e=>{e.exports={Container:"Progress_Container__NQ81n"}},61319:e=>{e.exports={Card:"RadioGroupCard_Card__R8Wy_",CardWithValue:"RadioGroupCard_CardWithValue__8Idfd",Container:"RadioGroupCard_Container__mi9u2",Title:"RadioGroupCard_Title__K_tht"}},63949:e=>{e.exports={Card:"MilestoneStep_Card__NjMoV",CardTitle:"MilestoneStep_CardTitle__IDQtA",CardContent:"MilestoneStep_CardContent__8LJ0W",GroupIcon:"MilestoneStep_GroupIcon__ip_EM",GroupIconActive:"MilestoneStep_GroupIconActive__vsf_P",GroupTitle:"MilestoneStep_GroupTitle__7rDKq",GroupContent:"MilestoneStep_GroupContent___QEXa"}},65051:e=>{e.exports={Container:"FormLayout_Container__omwfx",Header:"FormLayout_Header__NF3L_",HeaderRow:"FormLayout_HeaderRow__4cKW1",HeaderActionRow:"FormLayout_HeaderActionRow__UpUgf",StepName:"FormLayout_StepName__RkGA5",StepNumber:"FormLayout_StepNumber__5qsBv",StepContainer:"FormLayout_StepContainer__dd9R6",ActionsContainer:"FormLayout_ActionsContainer__cBWEu"}},80818:e=>{e.exports={Container:"ActionButtons_Container__nqg9Y"}},97037:e=>{e.exports={Container:"BusinessPastWorkStep_Container__JAv54",ContentContainer:"BusinessPastWorkStep_ContentContainer__K3PGg",CountField:"BusinessPastWorkStep_CountField__YQIPa",CountFieldInput:"BusinessPastWorkStep_CountFieldInput___igGQ"}},97275:e=>{e.exports={Container:"RadioGroup_Container__OmPuI",ContainerButtonVariant:"RadioGroup_ContainerButtonVariant__HzOn_",Radio:"RadioGroup_Radio__zIhkk",ContainerListVariant:"RadioGroup_ContainerListVariant__7SW9X",OptionCheckbox:"RadioGroup_OptionCheckbox__LMHQ6",OptionTick:"RadioGroup_OptionTick__VE6eh"}}},e=>{var s=s=>e(e.s=s);e.O(0,[587,407,173,20,119,741,660,820,978,717,994,441,684,358],()=>s(51206)),_N_E=e.O()}]);