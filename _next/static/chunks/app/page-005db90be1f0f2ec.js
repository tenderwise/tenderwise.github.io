(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2620:e=>{e.exports={Main:"HomePage_Main__YQfuW"}},43344:(e,s,t)=>{"use strict";t.d(s,{default:()=>P});var r=t(95155),a=t(12115),l=t(39922),o=t(39608),n=t.n(o),i=t(17476),c=t(82855),d=t(67666),u=t(55050),m=t(93162),p=t(63813),g=t(30816),_=t(95279),v=t(50822),f=t.n(v);function h(e){let{title:s,description:t,completed:a,className:l,progressPercent:o=0,showProgress:n=!0}=e;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:(0,c.t)(l,"d-flex align-items-center gap-2"),children:[(0,r.jsx)("div",{className:(0,c.t)(f().GroupIcon,a&&f().GroupIconActive),children:(0,r.jsx)(d.A,{src:a?"/assets/images/icons/tick.svg":"/assets/images/icons/clock.svg",alt:"",width:a?12:18,height:a?12:18})}),(0,r.jsxs)("div",{className:"flex-grow-1",children:[(0,r.jsx)("div",{className:f().GroupTitle,children:s}),(0,r.jsx)("div",{className:(0,c.t)(f().GroupContent,"mt-2"),children:t})]})]}),n&&!a&&(0,r.jsx)("span",{className:(0,c.t)(f().Progress,"mt-3"),style:{"--percent":o}})]})}let x=function(e){let{className:s}=e,{data:t,loading:l}=(0,g.V8)(),{stepsListValidationData:o,stepsValidationDataMap:d}=(0,a.useMemo)(()=>(0,_.m)({values:null==t?void 0:t.myProfile,errors:{},steps:p.GL.map(e=>{let{steps:s}=e;return n()(s)?s.flat():[s]}).flat()}),[t]);(0,a.useEffect)(()=>{t&&p.sD.validate(null==t?void 0:t.myProfile,{strict:!1}).then(e=>console.log("DEBUG",{valid:e,data:t.myProfile})).catch(e=>console.log("DEBUG",{error:e,data:t.myProfile}))},[t]);let v=(0,a.useMemo)(()=>p.GL.filter(e=>{let{steps:s}=e;return n()(s)&&!!(null==s?void 0:s.length)}),[]),{formSectionValidationData:x,allSectionsCompleted:N}=(0,a.useMemo)(()=>{let e={};p.GL.forEach(s=>{let{groupId:t,steps:r}=s,a=(n()(r)?r:[r]).flat(),l=0,o=a.length,i=a.reduce((e,s)=>{let t=d[s.id];return(null==t?void 0:t.completed)?e+1:e},0);o>0&&(l=Math.floor(i/o*100));let c=l>=100;e[t]={isCompleted:c,progressPercent:l}});let s=Object.values(e).every(e=>e.isCompleted);return s&&Object.keys(e).forEach(s=>{e[s].progressPercent=100}),{formSectionValidationData:e,allSectionsCompleted:s}},[d]);return(console.log("DEBUG OnboardingStatusCard",{FORM_STEPS_NEW:p.GL,stepsListValidationData:o,stepsValidationDataMap:d,sections:v}),l)?(0,r.jsx)("div",{children:"Loading..."}):(0,r.jsxs)("div",{className:(0,c.t)(s,f().Card),children:[v.map((e,s)=>{var t,a,l;return(0,r.jsx)(h,{title:e.name,description:(null==(t=x[e.groupId])?void 0:t.isCompleted)?"Completed":e.description||"",completed:null==(a=x[e.groupId])?void 0:a.isCompleted,progressPercent:null==(l=x[e.groupId])?void 0:l.progressPercent,className:0===s?"":"mt-4"},e.groupId)}),!N&&(0,r.jsx)(u.A,{className:"w-100 mt-4",color:"black",children:"Complete Now"}),(0,r.jsx)(i.A,{href:m.f.ONBOARDING_FORM_PAGE,className:f().Link})]})};var N=t(27993),j=t(66758),C=t(98665),G=t(7618),E=t(2620),O=t.n(E);let P=function(){let{tenders:e,isLoading:s}=(0,j.FX)();return(0,a.useEffect)(()=>{G.M&&console.log("DEBUG MODE")},[]),(0,r.jsxs)(l.A,{mainClassName:O().Main,children:[(0,r.jsx)(x,{}),(0,r.jsx)(C.A,{className:(0,c.t)(O().TenderFilters,"mt-4")}),s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.u,{className:"mt-4"}),(0,r.jsx)(N.u,{className:"mt-4"})]}):e.map(e=>(0,r.jsx)(N.A,{className:"mt-4",tender:e},e.tender_id)),(0,r.jsx)(u.A,{color:"gray",className:"w-100 mt-3",linkProps:{href:m.f.TENDERS_PAGE},children:"View more"})]})}},50822:e=>{e.exports={Card:"OnboardingStatusCard_Card__ktD6K",GroupIcon:"OnboardingStatusCard_GroupIcon__47c25",GroupIconActive:"OnboardingStatusCard_GroupIconActive__eBoBN",GroupTitle:"OnboardingStatusCard_GroupTitle__AF8Hj",GroupContent:"OnboardingStatusCard_GroupContent__C6O_w",Progress:"OnboardingStatusCard_Progress__a6sob",Link:"OnboardingStatusCard_Link__VZ13g"}},83350:(e,s,t)=>{Promise.resolve().then(t.bind(t,43344))}},e=>{var s=s=>e(e.s=s);e.O(0,[31,22,540,621,587,119,362,869,594,211,620,777,717,16,813,697,441,684,358],()=>s(83350)),_N_E=e.O()}]);