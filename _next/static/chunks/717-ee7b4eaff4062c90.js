(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[717],{1717:(e,t,s)=>{"use strict";s.d(t,{a:()=>q,qh:()=>V,av:()=>J});var a=s(94971),r=s(95920),n=s(86266),i=s(23464),l=s(45009),o=s.n(l),c=s(48973),d=s.n(c);let u="AUTH_TOKEN";var h=new WeakMap,m=new WeakMap,g=new WeakMap,_=new WeakMap;class v{constructor(e){var t=this;(0,r._)(this,h,{writable:!0,value:void 0}),(0,r._)(this,m,{writable:!0,value:void 0}),(0,r._)(this,g,{writable:!0,value:void 0}),(0,r._)(this,_,{writable:!0,value:void 0}),(0,n._)(this,h,"@".concat("TENDERWISE",":API")),(0,n._)(this,g,""),(0,n._)(this,_,!0),this.getAuthToken=()=>{if((0,a._)(this,_)&&"undefined"!=typeof localStorage)try{let e=JSON.parse(localStorage.getItem(u)||"{}"),t=d()(e,"token");(0,n._)(this,g,t)}catch(e){}return(0,a._)(this,g)?"Bearer ".concat((0,a._)(this,g)):""},this.setAuthToken=e=>{(0,n._)(this,g,e),(0,a._)(this,_)&&"undefined"!=typeof localStorage&&localStorage.setItem(u,JSON.stringify({token:e}))},this.clearAuthToken=()=>{(0,n._)(this,g,""),(0,a._)(this,_)&&"undefined"!=typeof localStorage&&localStorage.removeItem(u)},this.createAxiosInstance=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{baseUrl:""},{baseUrl:s,requestInterceptor:a,responseInterceptor:r,responseErrorInterceptor:l,authToken:o}=e,c=i.A.create({baseURL:s});return o&&(0,n._)(t,g,o),a&&c.interceptors.request.use(async e=>(a&&await a(e),Promise.resolve(e))),(r||l)&&c.interceptors.response.use(async e=>(r&&await r(e),e),async e=>(l&&await l(e),Promise.reject(e))),c},this.get=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.getAuthToken())throw Error("[".concat((0,a._)(t,h),"]: Auth token is not set, use anonGet method for anonymous get calls"));return o()(s,'headers["Authorization"]',t.getAuthToken()),(0,a._)(t,m).get(e,s)},this.post=function(e,s){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.getAuthToken())throw Error("[".concat((0,a._)(t,h),"]: Auth token is not set, use anonPost method for anonymous post calls"));return o()(r,'headers["Authorization"]',t.getAuthToken()),(0,a._)(t,m).post(e,s,r)},this.put=function(e,s){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.getAuthToken())throw Error("[".concat((0,a._)(t,h),"]: Auth token is not set, use anonPut method for anonymous put calls"));return o()(r,'headers["Authorization"]',t.getAuthToken()),(0,a._)(t,m).put(e,s,r)},this.delete=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.getAuthToken())throw Error("[".concat((0,a._)(t,h),"]: Auth token is not set, use anonDelete method for anonymous delete calls"));return o()(s,'headers["Authorization"]',t.getAuthToken()),(0,a._)(t,m).delete(e,s)},this.patch=function(e,s){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.getAuthToken())throw Error("[".concat((0,a._)(t,h),"]: Auth token is not set, use anonPatch for anonymous patch calls"));return o()(r,'headers["Authorization"]',t.getAuthToken()),(0,a._)(t,m).patch(e,s,r)},this.anonGet=(e,t)=>(0,a._)(this,m).get(e,t),this.anonPost=(e,t,s)=>(0,a._)(this,m).post(e,t,s),this.anonPut=(e,t,s)=>(0,a._)(this,m).put(e,t,s),this.anonDelete=(e,t)=>(0,a._)(this,m).delete(e,t),this.anonPatch=(e,t,s)=>(0,a._)(this,m).patch(e,t,s),this.mockCall=function(){let{data:e,delayInMs:t=2e3}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(s=>{setTimeout(()=>{s(e||null)},t)})},(0,n._)(this,m,this.createAxiosInstance(e)),this.getAuthToken()}}var p=s(10649),f=s(38771),y=s(658),x=s(39285),A=s(63179),C=s(54076),b=s(31957);let j="AUTH_TOKEN";var S=new WeakMap,w=new WeakMap,I=new WeakMap,k=new WeakMap;class N{constructor(e){(0,r._)(this,S,{writable:!0,value:void 0}),(0,r._)(this,w,{writable:!0,value:void 0}),(0,r._)(this,I,{writable:!0,value:void 0}),(0,r._)(this,k,{writable:!0,value:void 0}),(0,n._)(this,S,"@".concat("TENDERWISE",":GQL")),(0,n._)(this,I,""),(0,n._)(this,k,!0),this.getAuthToken=()=>{if((0,a._)(this,k)&&"undefined"!=typeof localStorage)try{let e=JSON.parse(localStorage.getItem(j)||"{}").token||"";(0,n._)(this,I,e)}catch(e){}return(0,a._)(this,I)?"Bearer ".concat((0,a._)(this,I)):""},this.setAuthToken=e=>{(0,n._)(this,I,e),(0,a._)(this,k)&&"undefined"!=typeof localStorage&&localStorage.setItem(j,JSON.stringify({token:e}))},this.clearAuthToken=()=>{(0,n._)(this,I,""),(0,a._)(this,k)&&"undefined"!=typeof localStorage&&localStorage.removeItem(j)},this.createApolloClient=e=>{let{uri:t,authToken:s,enableCache:r=!0,defaultFetchPolicy:i="cache-and-network",requestInterceptor:l,responseInterceptor:o,responseErrorInterceptor:c}=e;s&&(0,n._)(this,I,s);let d=new p.P({uri:t}),u=new C.m((e,t)=>{let s=this.getAuthToken();return l&&l({query:t.query,variables:t.variables,context:{}}).catch(e=>{console.error("[".concat((0,a._)(this,S),"]: Request interceptor error"),e)}),{...e,headers:{...e.headers||{},authorization:s||""}}}),h=new b.L(e=>{let{graphQLErrors:t,networkError:s,operation:r}=e;if(t&&t.forEach(e=>{console.error("[".concat((0,a._)(this,S),"]: GraphQL error:"),{message:e.message,locations:e.locations,path:e.path,extensions:e.extensions,operation:r.operationName})}),s&&console.error("[".concat((0,a._)(this,S),"]: Network error:"),s),c&&(t||s)){var n;c(s||Error((null==t||null==(n=t[0])?void 0:n.message)||"GraphQL Error")).catch(e=>{console.error("[".concat((0,a._)(this,S),"]: Error interceptor failed"),e)})}}),m=new f.C((e,t)=>{let s=t(e);return new y.c(e=>{let t=s.subscribe({next:t=>{o&&o(t).catch(e=>{console.error("[".concat((0,a._)(this,S),"]: Response interceptor error"),e)}),e.next(t)},error:t=>e.error(t),complete:()=>e.complete()});return()=>{t&&t.unsubscribe()}})}),g=f.C.from([h,m,u,d]);return new x.R({link:g,cache:new A.D(r?{resultCaching:!0}:{resultCaching:!1}),defaultOptions:{watchQuery:{fetchPolicy:i,errorPolicy:"all"},query:{fetchPolicy:i,errorPolicy:"all"},mutate:{errorPolicy:"all"}}})},this.query=async(e,t)=>{try{return await (0,a._)(this,w).query({query:e,variables:null==t?void 0:t.variables,fetchPolicy:null==t?void 0:t.fetchPolicy,context:null==t?void 0:t.context})}catch(e){throw console.error("[".concat((0,a._)(this,S),"]: Query error"),e),e}},this.mutate=async(e,t)=>{try{return await (0,a._)(this,w).mutate({mutation:e,variables:null==t?void 0:t.variables,context:null==t?void 0:t.context,refetchQueries:null==t?void 0:t.refetchQueries,awaitRefetchQueries:null==t?void 0:t.awaitRefetchQueries})}catch(e){throw console.error("[".concat((0,a._)(this,S),"]: Mutation error"),e),e}},this.getClient=()=>(0,a._)(this,w),this.clearCache=async()=>{await (0,a._)(this,w).clearStore()},this.resetStore=async()=>{await (0,a._)(this,w).resetStore()},(0,n._)(this,w,this.createApolloClient(e)),this.getAuthToken()}}s(44377),s(30816);var T=s(8979),F=new WeakMap,P=new WeakMap;class E{constructor(e){(0,r._)(this,F,{writable:!0,value:void 0}),(0,r._)(this,P,{writable:!0,value:void 0}),this.uploadDocument=e=>{let{file:t,tenderId:s,uploadCategory:r}=e,n=new FormData;return n.append("tender_id",s),n.append("user_id",(0,a._)(this,P).getUserId()||""),n.append("upload_category",r),n.append("file",t),(0,a._)(this,F).post("/documents/upload_document",n)},(0,n._)(this,F,e.apiService),(0,n._)(this,P,e.authenticationService)}}s(12115);var O=s(51990);let B=(0,O.Z0)({name:"TAG",initialState:{tags:[]},reducers:{addTags:(e,t)=>{let{tags:s,replaceData:a,replaceList:r}=t.payload;e.tags=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{replaceData:a,replaceList:r,itemIdKey:n="id",oldNewItemCombineFunction:i}=s;return r?t:(t.forEach(t=>{let s=t[n],r=e.findIndex(e=>e.id===s);if(-1===r)e.unshift(t);else if(a)e[r]=t,e=[...e];else{let s=e[r],a=i?i(s,t):{...s,...t};e[r]=a}}),e)}(e.tags,s,{replaceData:a,replaceList:r})},removeTags:(e,t)=>{var s;let{idList:a}=t.payload;s=e.tags,e.tags=s.filter(e=>!a.includes(e.id))}}}),R=B.actions,D=B.reducer,L=(0,O.U1)({reducer:{tag:D},middleware:e=>e()});var M=new WeakMap,U=new WeakMap;class W{constructor(e){(0,r._)(this,M,{writable:!0,value:void 0}),(0,r._)(this,U,{writable:!0,value:void 0}),this.fetchTagByIds=e=>{let{tagIds:t}=e;return(0,a._)(this,M).post("/tags/by_id",{tag_ids:t,user_id:(0,a._)(this,U).getUserId()}).then(e=>{let t=e.data;return L.dispatch(R.addTags({tags:t})),{tags:t}})},this.fetchTags=e=>{let{type:t,parentId:s}=e;return(0,a._)(this,M).post("/tags",{type:t,user_id:(0,a._)(this,U).getUserId(),parent_id:s}).then(e=>{let t=e.data.data;return L.dispatch(R.addTags({tags:t})),{tags:t}})},this.addTag=e=>{let{tag:t}=e;return(0,a._)(this,M).post("/tags/insert_or_update",{...t,tag:"static_data"}).then(e=>e.data)},this.updateTag=e=>{let{tag:t}=e;return(0,a._)(this,M).post("/tags/insert_or_update",t)},(0,n._)(this,M,e.apiService),(0,n._)(this,U,e.authenticationService)}}s(67206),s(39608);var H=s(66758);let G=new v({baseUrl:"https://dev.api.tenderwise.in/gql"}),q=new T.Ht({apiService:G}),V=new N({uri:"https://dev.api.tenderwise.in/gql",enableCache:!0,defaultFetchPolicy:"cache-and-network",requestInterceptor:async e=>e,responseInterceptor:async e=>((e.errors||[]).find(e=>{var t;return null==e||null==(t=e.message)?void 0:t.toLocaleLowerCase().includes("invalid access token")})&&(G.clearAuthToken(),window.location.reload()),e),responseErrorInterceptor:async e=>(console.error("GQL Response Error Interceptor:",e),Promise.reject(e))});new W({apiService:G,authenticationService:q});let J=new H.cs({apiService:G,authenticationService:q});new E({apiService:G,authenticationService:q})},4407:e=>{e.exports={Container:"PhoneField_Container__EtH3i",Input:"PhoneField_Input__dCT3d",Button:"PhoneField_Button__O8Eae"}},8979:(e,t,s)=>{"use strict";s.d(t,{Ht:()=>h,As:()=>m.useAuth});var a=s(94971),r=s(95920),n=s(86266),i=s(48973),l=s.n(i),o=s(19587);let c="USER_DATA";var d=new WeakMap,u=new WeakMap;class h{constructor(e){(0,r._)(this,d,{writable:!0,value:void 0}),(0,r._)(this,u,{writable:!0,value:void 0}),(0,n._)(this,u,null),this.checkUserExists=e=>{let{phoneNumberWithCountryCode:t}=e;return(0,a._)(this,d).anonPost("/auth/user_exist_check?user_id=".concat(t)).then(e=>e.data)},this.generateOtp=e=>{let{phoneNumberWithCountryCode:t}=e;return this.setUserId({userId:t}),(0,a._)(this,d).anonPost("/auth/generate_otp?user_id=".concat(t),{user_id:t}).then(e=>e.data)},this.verifyOtp=async e=>{let{otp:t,token:s}=e;return(0,a._)(this,d).anonPost("/auth/verify_otp",{otp:t,user_id:this.getUserId()},{headers:{Authorization:"Bearer ".concat(s)}}).then(e=>e.data)},this.fetchUserDetails=()=>(0,a._)(this,d).post("/users/fetch_preferences",{user_id:this.getUserId()}).then(e=>({userPreferences:(0,o.vB)({userPreferences:e.data.data}).userPreferencesSanitized,success:!0})),this.saveUserDetails=e=>{let{userPreferences:t}=e,s={...t,user_id:this.getUserId()};return(0,a._)(this,d).put("/users/update_preferences",s).then(()=>({success:!0}))},this.saveUserDetailsPartial=e=>{let{userPreferences:t}=e,s={...t,user_id:this.getUserId()||""};return s=(0,o.vB)({userPreferences:s}).userPreferencesSanitized,(0,a._)(this,d).patch("/users/update_preferences_partial",s).then(()=>({success:!0}))},this.mockFetchUserDetails=()=>{let e=null;if("undefined"!=typeof localStorage)try{e=JSON.parse(localStorage.getItem("TENDERWISE:USER_DETAILS")||"{}")}catch(t){e=null}return this.fetchUserDetails(),(0,a._)(this,d).mockCall().then(()=>({userDetails:e}))},this.mockSaveUserDetails=e=>{let{userPreferences:t}=e;return"undefined"!=typeof localStorage&&localStorage.setItem("TENDERWISE:USER_DETAILS",JSON.stringify(t)),this.saveUserDetailsPartial({userPreferences:t}),(0,a._)(this,d).mockCall().then(()=>({success:!0}))},this.setUserId=e=>{let{userId:t}=e;return"undefined"!=typeof localStorage&&localStorage.setItem(c,JSON.stringify({user_id:t})),(0,n._)(this,u,t),(0,a._)(this,u)},this.getUserId=()=>{if("undefined"!=typeof localStorage)try{let e=JSON.parse(localStorage.getItem(c)||"{}"),t=l()(e,"user_id");(0,n._)(this,u,t)}catch(e){}return(0,a._)(this,u)},this.resetUserId=()=>("undefined"!=typeof localStorage&&localStorage.removeItem(c),(0,n._)(this,u,null),(0,a._)(this,u)),(0,n._)(this,d,e.apiService),this.getUserId()}}s(90183);var m=s(29629);s(32768)},19587:(e,t,s)=>{"use strict";s.d(t,{tg:()=>u,vB:()=>d});var a=s(45009),r=s.n(a),n=s(48973),i=s.n(n),l=s(78966),o=s.n(l),c=s(93162);function d(e){let{userPreferences:t}=e,s=o()(t);["location.state","location.districts","location.town","location.locality","location.locality_village"].forEach(e=>{i()(s,e)||r()(s,e,[])});try{"string"==typeof s.keywords&&(s.keywords=JSON.parse(s.keywords)||[])}catch(e){s.keywords=[]}Array.isArray(s.emd)&&2===s.emd.length||(s.emd=[0,0]),Array.isArray(s.value)&&2===s.value.length||(s.value=[0,0]);try{if("string"==typeof s.authority_tenders_completed_count){let e=JSON.parse(s.authority_tenders_completed_count);s.authority_tenders_completed_count="number"==typeof e?String(e):"0"}}catch(e){s.authority_tenders_completed_count="0"}s.business_category||(s.business_category={}),s.product_category||(s.product_category={}),s.authority||(s.authority={});try{"string"==typeof s.metadata&&(s.metadata=JSON.parse(s.metadata)||{})}catch(e){s.metadata={}}return{userPreferencesSanitized:s}}function u(e){return c.F.some(t=>!!(e===t||e.startsWith(t+"/")))}},29545:(e,t,s)=>{"use strict";s.d(t,{default:()=>y});var a=s(95155),r=s(12115),n=s(17476),i=s(82855),l=s(65504),o=s(93162),c=s(55050),d=s(67666),u=s(35695),h=s(79510),m=s.n(h);let g=e=>{let{icon:t,label:s,link:r}=e,l=(0,u.usePathname)();return(0,a.jsxs)(n.A,{href:r,className:(0,i.t)(m().NavItem,r===l&&m().NavItemActive),children:[(0,a.jsx)(d.A,{className:m().Icon,src:t,alt:"",width:20,height:20}),(0,a.jsx)("span",{className:m().Label,children:s})]})},_=function(e){let{className:t}=e;return(0,a.jsx)("div",{className:t,children:(0,a.jsx)("div",{className:m().Container,children:(0,a.jsxs)("nav",{className:m().Nav,children:[(0,a.jsx)(g,{label:"Home",icon:"/assets/images/icons/home.svg",link:o.f.HOME_PAGE}),(0,a.jsx)(g,{label:"Search",icon:"/assets/images/icons/search.svg",link:o.f.TENDERS_PAGE}),(0,a.jsx)(g,{label:"My Tenders",icon:"/assets/images/icons/suitcase.svg",link:o.f.USER_DASHBOARD_PAGE}),(0,a.jsx)(g,{label:"My Profile",icon:"/assets/images/icons/user_outline.svg",link:o.f.PROFILE_PAGE})]})})})};var v=s(8979),p=s(37244),f=s.n(p);let y=function(e){let{children:t,className:s,mainClassName:h,appendHeader:m,appendActionButtons:g,showNotificationAction:p=!1,showSearchAction:y=!1,showLogo:x=!0,heading:A,showBackButton:C=!1}=e,{isAuthenticated:b}=(0,v.As)(),{back:j}=(0,u.useRouter)(),S=b&&y,w=(0,r.useRef)(null),I=(0,r.useRef)(null),k=(0,r.useRef)(null),N=(0,r.useRef)(0),T=(0,r.useCallback)(e=>{let t=e.target.scrollTop;t>N.current?(w.current&&w.current.classList.add("scroll-out"),I.current&&I.current.classList.add("scroll-out")):(w.current&&w.current.classList.remove("scroll-out"),I.current&&I.current.classList.remove("scroll-out")),N.current=t},[]),F=(0,r.useCallback)(()=>(0,a.jsx)("div",{className:f().HeaderContaier,children:(0,a.jsxs)("header",{ref:w,className:f().Header,children:[C&&(0,a.jsx)(c.A,{className:f().BackButton,color:"gray",onClick:j,children:(0,a.jsx)(d.A,{src:"/assets/images/icons/chevron_left.svg",alt:"Back",height:20,width:20})}),A,x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.A,{href:o.f.HOME_PAGE,children:(0,a.jsx)(l.A,{})})," ",(0,a.jsx)(d.A,{src:"/assets/images/icons/pro_subscription_badge.svg",alt:"Pro Subscription Badge",height:24,width:24})]}),(0,a.jsxs)("div",{className:f().HeaderRightSection,children:[S&&(0,a.jsx)(c.A,{className:f().RoundButton,color:"gray",children:(0,a.jsx)(d.A,{src:"/assets/images/icons/search.svg",alt:"Info",height:18,width:18})}),!1,g]}),m]})}),[g,m,j,A,C,x,!1,S]);return(0,r.useEffect)(()=>{},[T]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:(0,i.t)(f().Outer,s),children:(0,a.jsx)("div",{className:(0,i.t)(f().Container,"container"),children:(0,a.jsx)("main",{ref:k,className:(0,i.t)(f().Main,h),children:t})})}),(0,a.jsx)(F,{}),b&&(0,a.jsx)("div",{ref:I,children:(0,a.jsx)(_,{className:f().AppTabBar})})]})}},29629:(e,t,s)=>{"use strict";s.d(t,{g:()=>r,j:()=>i,useAuth:()=>n});var a=s(12115);let r=(0,a.createContext)({}),n=()=>(0,a.useContext)(r),i=!1},32701:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(95155),r=s(8889),n=s(67666),i=s(55050);let l=function(e){return(0,a.jsx)(r.A,{placeholder:"Search",...e,prependContent:(0,a.jsx)(n.A,{src:"/assets/images/icons/search.svg",alt:"Search",height:18,width:18}),appendContent:e.value?(0,a.jsx)(i.A,{variant:"ghost",onClick:()=>{e.onChange&&e.onChange("")},children:(0,a.jsx)(n.A,{src:"/assets/images/icons/cross.svg",alt:"Close",height:18,width:18})}):null})}},32768:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var a=s(12115),r=s(26072),n=s(1717);let i=function(){let{data:e,isLoading:t,error:s,mutate:i}=(0,r.Ay)("/user_info/fetch",()=>n.a.fetchUserDetails(),{errorRetryCount:1,revalidateOnFocus:!1,shouldRetryOnError:!1});return{data:e,isLoading:t,error:s,update:(0,a.useCallback)(async e=>{await n.a.saveUserDetails({userPreferences:e}),i({userPreferences:e,success:!0})},[i])}}},37244:e=>{e.exports={Outer:"Layout_Outer__NjEpg",Container:"Layout_Container__8QhIo",CommonContainer:"Layout_CommonContainer__bq4CX",HeaderContaier:"Layout_HeaderContaier__ZzNUx",Header:"Layout_Header__f_3V0",Main:"Layout_Main__KyruP",HeaderRightSection:"Layout_HeaderRightSection__ocSBD",RoundButton:"Layout_RoundButton__6Bjo4",AppTabBar:"Layout_AppTabBar__i6Dk4",BackButton:"Layout_BackButton__flrGI",FormContainer:"Layout_FormContainer__8ims9"}},39922:(e,t,s)=>{"use strict";s.d(t,{A:()=>a.default});var a=s(29545)},44377:(e,t,s)=>{"use strict";s.d(t,{GraphqlProvider:()=>i});var a=s(95155),r=s(43565),n=s(1717);function i(e){let{children:t}=e;return(0,a.jsx)(r.X,{client:n.qh.getClient(),children:t})}},50418:e=>{e.exports={Layout:"AuthenticationPage_Layout__7Pyd_",Main:"AuthenticationPage_Main__gll00",FormContainer:"AuthenticationPage_FormContainer__NwHe6"}},61781:e=>{e.exports={Container:"OtpField_Container__eAguj",Input:"OtpField_Input__xzhuh"}},66758:(e,t,s)=>{"use strict";s.d(t,{cs:()=>o,oC:()=>f,WS:()=>v,s_:()=>m,FX:()=>h});var a=s(94971),r=s(95920),n=s(86266),i=new WeakMap,l=new WeakMap;class o{constructor(e){(0,r._)(this,i,{writable:!0,value:void 0}),(0,r._)(this,l,{writable:!0,value:void 0}),this.fetchTendersList=e=>{let{limit:t=30,offset:s=0}=e;return(0,a._)(this,i).post("/tenders/view_all_tenders",{user_id:(0,a._)(this,l).getUserId(),limit:t,offset:s}).then(e=>({tenders:e.data}))},this.fetchTenderById=e=>{let{tenderId:t}=e;return(0,a._)(this,i).post("/tenders/single_page_view",{user_id:(0,a._)(this,l).getUserId(),tender_id:t}).then(e=>({tendersDetails:e.data}))},this.addTenderToInterestedList=e=>{let{tenderId:t}=e;return(0,a._)(this,i).post("/tenders/add_event",{user_id:(0,a._)(this,l).getUserId(),tender_id:t,event_type:"interest",event_data:{interest:"yes"}})},this.removeTenderFromInterestedList=e=>{let{tenderId:t}=e;return(0,a._)(this,i).post("/tenders/add_event",{user_id:(0,a._)(this,l).getUserId(),tender_id:t,event_type:"interest",event_data:{interest:"no"}})},this.createWorkOrder=e=>(0,a._)(this,i).post("/users/work-orders",{user_id:(0,a._)(this,l).getUserId(),...e}),this.getWorkOrderById=e=>{let{workOrderId:t}=e;return(0,a._)(this,i).post("/users/work-orders/get",{user_id:(0,a._)(this,l).getUserId(),work_order_id:t})},this.getWorkOrders=()=>(0,a._)(this,i).post("/users/work-orders/list",{user_id:(0,a._)(this,l).getUserId()}),this.updateWorkOrder=e=>(0,a._)(this,i).post("/users/work-orders/update",{user_id:(0,a._)(this,l).getUserId(),...e}),this.deleteWorkOrder=e=>{let{workOrderId:t}=e;return(0,a._)(this,i).post("/users/work-orders/delete",{user_id:(0,a._)(this,l).getUserId(),work_order_id:t})},this.calculateTenderScore=e=>{let{tenderId:t}=e;return(0,a._)(this,i).post("/tender/calculate-score",{tenderId:t}).then(e=>e.data)},(0,n._)(this,i,e.apiService),(0,n._)(this,l,e.authenticationService)}}var c=s(12115),d=s(30816),u=s(80609);let h=function(){var e,t,s;let{filters:a={limit:5}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{tenderFilters:r}=(0,u.Z0)(),n=(0,c.useMemo)(()=>({locationCityIds:r.selectedCityIds||[],authorityBodyIds:r.selectedSubAuthorityIds||[],minValue:r.minValue,maxValue:r.maxValue,minEmd:r.minEmd,maxEmd:r.maxEmd,minDistanceRadius:r.minDistanceRadius,maxDistanceRadius:r.maxDistanceRadius,limit:null==a?void 0:a.limit,page:null==a?void 0:a.page,search:null==a?void 0:a.search}),[a,r]),{data:i,error:l,loading:o,refetch:h,networkStatus:m}=(0,d.dm)({variables:{filters:n},fetchPolicy:"cache-and-network",notifyOnNetworkStatusChange:!0}),g=(null==i||null==(e=i.tenders)?void 0:e.data)||[],_=o&&!i,v=o&&!!i,p=!o&&(!i||!g.length);return{tenders:g,error:l,isLoading:_,isUpdating:v,refresh:()=>h(),noData:p,networkStatus:m,page:(null==i||null==(t=i.tenders)?void 0:t.page)||0,total:(null==i||null==(s=i.tenders)?void 0:s.total)||0}},m=function(e){let{tenderId:t}=e,{data:s,error:a,loading:r,refetch:n,networkStatus:i}=(0,d.Wb)({variables:{filters:{ids:t?[t]:[]}},skip:!t,fetchPolicy:"cache-and-network",notifyOnNetworkStatusChange:!0}),l=(null==s?void 0:s.tender)||null,o=r&&!s;return{tenderDetails:l,error:a,isLoading:o,isUpdating:r&&!!s,refresh:()=>n(),noData:!r&&!l,networkStatus:i}};var g=s(1717),_=s(26072);let v=function(e){let{tenderId:t}=e,{data:s,error:a,isLoading:r,mutate:n}=(0,_.Ay)(t?"tender-calculate-score-".concat(t):null,async()=>{if(!t)throw Error("Tender ID is required");return await g.av.calculateTenderScore({tenderId:t})},{revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateOnMount:!1,revalidateIfStale:!1,refreshInterval:0}),i=s||null;return{scoreData:i,error:a,isLoading:r,isUpdating:r&&!!s,refresh:()=>n(),noData:!r&&!i}};var p=s(93162);function f(e){let{tenderId:t}=e;return"".concat(p.f.TENDERS_PAGE,"/details?tender_id=").concat(t)}},79510:e=>{e.exports={Nav:"AppTabBar_Nav__MRdug",Container:"AppTabBar_Container__2UFXP",NavItem:"AppTabBar_NavItem__abfL3",NavItemActive:"AppTabBar_NavItemActive__x0oKN",Label:"AppTabBar_Label__4bL65",Icon:"AppTabBar_Icon__Sfl98"}},80609:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>B,Z0:()=>g});var a=s(95155),r=s(71411),n=s(82855),i=s(67666),l=s(78066),o=s(12115),c=s(72415);let d=(0,o.createContext)({}),u=()=>(0,o.useContext)(d);var h=function(e){return e.Default="",e.AllTenders="all_tenders",e.AllFilters="all_filters",e.ByCategory="by_category",e.ByAuthority="by_authority",e.ByLocation="by_location",e}({});let m={selectedSubCategoryIds:[],selectedSubAuthorityIds:[],selectedCityIds:[],minDistanceRadius:void 0,maxDistanceRadius:void 0,minEmd:void 0,maxEmd:void 0,minValue:void 0,maxValue:void 0},g=function(){let[e,t]=(0,c.gk)("tender_filters",{}),[s,a]=(0,o.useState)(e),r=(0,o.useCallback)(e=>{t(e),a(e)},[t]),n=(0,o.useCallback)(()=>{if(JSON.stringify(s)!==JSON.stringify(e)){if(JSON.stringify(s)===JSON.stringify(m))return void t(void 0);t(s)}},[s,e,t]),i=(0,o.useCallback)(()=>{t(void 0),a(m)},[t]);return{tenderFilters:e,draftTenderFilters:s,setDraftTenderFilters:a,applyFilters:n,setTenderFilters:r,resetFilters:i}},_=function(e){let{children:t,useGlobalFilters:s=!1}=e,{tenderFilters:r,draftTenderFilters:n,setDraftTenderFilters:i,applyFilters:l,setTenderFilters:u,resetFilters:m}=g(),[_,v]=(0,c.gk)("active_filter_menu",h.Default),p=_===h.ByCategory,f=(0,o.useCallback)(e=>{if(e)return void v(h.ByCategory);p&&v(void 0)},[v,p]),y=_===h.ByAuthority,x=(0,o.useCallback)(e=>{if(e)return void v(h.ByAuthority);y&&v(void 0)},[v,y]),A=_===h.ByLocation,C=(0,o.useCallback)(e=>{if(e)return void v(h.ByLocation);A&&v(void 0)},[v,A]),[b,j]=(0,c.gk)("show_filters",!1),S=(0,o.useCallback)(e=>{j(e||void 0)},[j]),w=(0,o.useMemo)(()=>({tenderFilters:r,setTenderFilters:u,draftTenderFilters:n,setDraftTenderFilters:i,applyFilters:l,resetFilters:m,isCategoryFilterDrawerOpen:p,setCategoryFilterDrawerOpenState:f,isAuthorityFilterDrawerOpen:y,setAuthorityFilterDrawerOpenState:x,isLocationFilterDrawerOpen:A,setLocationFilterDrawerOpenState:C,isAllFiltersDrawerOpen:b,setAllFiltersDrawerOpenState:S,useGlobalFilters:s}),[r,u,n,i,l,m,p,f,y,x,A,C,b,S,s]);return(0,a.jsx)(d.Provider,{value:w,children:t})};var v=s(55050),p=s(91954),f=s.n(p);let y=function(e){let{className:t}=e;return(0,a.jsxs)(v.A,{variant:"secondary",color:"gray",className:(0,n.t)(f().FilterButtonSecondary,t),children:["Sort By",(0,a.jsx)(i.A,{src:"/assets/images/icons/sort.svg",alt:"",width:16,height:16})]})},x=function(e){let{className:t,...s}=e,{setAllFiltersDrawerOpenState:r}=u();return(0,a.jsxs)(v.A,{variant:"secondary",color:"gray",className:(0,n.t)(f().FilterButtonSecondary,t),onClick:()=>{r(!0)},...s,children:["Filter",(0,a.jsx)(i.A,{src:"/assets/images/icons/filter.svg",alt:"",width:16,height:16})]})};var A=s(72074),C=s(30816),b=s(8889),j=s(61413),S=s(49836);function w(e){let{tenderCategoryId:t,tenderCategoryName:s,subcategories:r=[],value:n,onChange:i}=e,l=r.some(e=>!!e.id&&!!e.name),{data:c,loading:d}=(0,C.Oe)({variables:{filters:{tenderCategoryIds:[t]}}}),u=(0,o.useMemo)(()=>(l?r:(null==c?void 0:c.tenderSubcategories)||[]).map(e=>({name:e.name||"",value:"".concat(e.id)}))||[],[r,null==c?void 0:c.tenderSubcategories,l]);return d?(0,a.jsx)("div",{children:"Loading Subcategories..."}):(0,a.jsx)(j.A,{"aria-labelledby":"c-".concat(t),className:"mt-3",title:s,options:u,value:n.map(String),searchLabel:"Select Subcategory",searchPlaceholder:"Search Subcategories",onChange:e=>{i(Array.from(new Set([...n.filter(e=>!u.some(t=>t.value===String(e))),...e])))}})}let I=function(){var e;let{isCategoryFilterDrawerOpen:t,setCategoryFilterDrawerOpenState:s,draftTenderFilters:r,setDraftTenderFilters:l,tenderFilters:c,applyFilters:d,useGlobalFilters:h}=u(),[m,g]=(0,o.useState)(""),{data:_,loading:v,error:p}=(0,C.fS)({variables:{categoryFilters:{}}}),{data:y,loading:x,error:j}=(0,C._P)({variables:{filters:{isActive:!0}}}),I=h?(null==y?void 0:y.tenderCategories)||[]:(null==_||null==(e=_.userTenderCategoryFiltersHierarchical)?void 0:e.categories)||[],k=I.length>0,N=r.selectedSubCategoryIds||[];return(0,a.jsx)(A.A,{isOpen:t,onOpenChange:s,title:"Select Category",children:(h?x:v)?(0,a.jsx)("div",{children:"Loading Categories..."}):(h?j:p)?(0,a.jsx)("div",{children:"Error loading category filters"}):(0,a.jsxs)("div",{className:"d-flex flex-column h-100 gap-3 pb-3",children:[(0,a.jsxs)("div",{className:"flex-grow-1 overflow-y-auto overflow-x-hidden py-3",children:[k&&(0,a.jsx)(b.A,{id:"search-field",className:"mt-2",placeholder:"Search",value:m,onChange:g,prependContent:(0,a.jsx)(i.A,{src:"/assets/images/icons/search.svg",alt:"Search",height:18,width:18})}),I.map(e=>{let t=e.subcategories||[];return(0,a.jsx)(w,{tenderCategoryId:String(e.id),tenderCategoryName:e.name||"",subcategories:t,value:N,onChange:e=>{l(t=>({...t,selectedSubCategoryIds:e}))}},e.id)})]}),(0,a.jsxs)("div",{className:(0,n.t)(f().ButtonsContainer),children:[(0,a.jsx)(S.default,{color:"gray",variant:"secondary",onClick:()=>{l({...r,selectedSubCategoryIds:c.selectedSubCategoryIds}),setTimeout(()=>{s(!1)},500)},children:"Cancel"}),(0,a.jsx)(S.default,{className:f().ButtonPrimary,onClick:()=>{d(),s(!1)},children:"Apply"})]})]})})};var k=s(25509);let N=function(){var e;let{isAuthorityFilterDrawerOpen:t,setAuthorityFilterDrawerOpenState:s,draftTenderFilters:r,setDraftTenderFilters:l,applyFilters:c,tenderFilters:d}=u(),[h,m]=(0,o.useState)(""),{data:g,loading:_,error:v}=(0,C.cb)({variables:{authorityFilters:{}}}),p=(null==g||null==(e=g.userTenderAuthorityFiltersHierarchical)?void 0:e.authorities)||[],y=p.length>0,x=r.selectedSubAuthorityIds||[];return(0,a.jsx)(A.A,{isOpen:t,onOpenChange:s,title:"Select Authority",children:_?(0,a.jsx)("div",{children:"Loading Authorities..."}):v?(0,a.jsx)("div",{children:"Error loading authority filters"}):(0,a.jsxs)("div",{className:"d-flex flex-column h-100 gap-3 pb-3",children:[(0,a.jsxs)("div",{className:"flex-grow-1 overflow-y-auto overflow-x-hidden",children:[y&&(0,a.jsx)(b.A,{id:"search-field",className:"mt-2",placeholder:"Search",value:h,onChange:m,prependContent:(0,a.jsx)(i.A,{src:"/assets/images/icons/search.svg",alt:"Search",height:18,width:18})}),(0,a.jsx)(k.A.Container,{value:x,onChange:e=>{l(t=>({...t,selectedSubAuthorityIds:e}))},className:"mt-5",children:p.map((e,t)=>{let{name:s,id:r}=e;return(0,a.jsx)(k.A.Option,{value:r,className:"w-100 mb-2",children:s},t)})})]}),(0,a.jsxs)("div",{className:(0,n.t)(f().ButtonsContainer),children:[(0,a.jsx)(S.default,{color:"gray",variant:"secondary",onClick:()=>{l({...r,selectedSubAuthorityIds:d.selectedSubAuthorityIds}),setTimeout(()=>{s(!1)},500)},children:"Cancel"}),(0,a.jsx)(S.default,{className:f().ButtonPrimary,onClick:()=>{c(),s(!1)},children:"Apply"})]})]})})};function T(e){let{stateId:t,stateName:s,cities:r=[],value:n,onChange:i}=e,l=r.some(e=>!!e.id&&!!e.name),{data:c,loading:d}=(0,C.WC)({variables:{filters:{stateIds:[t]}},skip:l}),u=(0,o.useMemo)(()=>(l?r:(null==c?void 0:c.cities)||[]).map(e=>({name:e.name||"",value:"".concat(e.id)}))||[],[r,null==c?void 0:c.cities,l]);return d?(0,a.jsx)("div",{children:"Loading Cities..."}):(0,a.jsx)(j.A,{"aria-labelledby":"state-".concat(t),className:"mt-3",title:s,options:u,value:n.map(String),searchLabel:"Select City",searchPlaceholder:"Search Cities",onChange:e=>{i(Array.from(new Set([...n.filter(e=>!u.some(t=>t.value===String(e))),...e])))}})}let F=function(){var e;let{isLocationFilterDrawerOpen:t,setLocationFilterDrawerOpenState:s,draftTenderFilters:r,setDraftTenderFilters:l,tenderFilters:c,applyFilters:d,useGlobalFilters:h}=u(),[m,g]=(0,o.useState)(""),{data:_,loading:v,error:p}=(0,C.yG)({skip:h}),{data:y,loading:x,error:j}=(0,C.JR)({skip:!h}),w=(h?null==y?void 0:y.states:null==_||null==(e=_.userTenderLocationFiltersHierarchical)?void 0:e.states)||[],I=w.length>0,k=r.selectedCityIds||[],N=h?x:v,F=h?j:p;return(0,a.jsx)(A.A,{isOpen:t,onOpenChange:s,title:"Select Location",children:N?(0,a.jsx)("div",{children:"Loading States..."}):F?(0,a.jsx)("div",{children:"Error loading location filters"}):(0,a.jsxs)("div",{className:"d-flex flex-column h-100 gap-3 pb-3",children:[(0,a.jsxs)("div",{className:"flex-grow-1 overflow-y-auto overflow-x-hidden py-3",children:[I&&(0,a.jsx)(b.A,{id:"search-field",className:"mt-2",placeholder:"Search",value:m,onChange:g,prependContent:(0,a.jsx)(i.A,{src:"/assets/images/icons/search.svg",alt:"Search",height:18,width:18})}),w.map(e=>{let t=(null==e?void 0:e.cities)||[];return(0,a.jsx)(T,{stateId:String(e.id),stateName:e.name||"",cities:t,value:k,onChange:e=>{l(t=>({...t,selectedCityIds:e}))}},e.id)})]}),(0,a.jsxs)("div",{className:(0,n.t)(f().ButtonsContainer),children:[(0,a.jsx)(S.default,{color:"gray",variant:"secondary",onClick:()=>{l({...r,selectedCityIds:c.selectedCityIds}),s(!1)},children:"Cancel"}),(0,a.jsx)(S.default,{className:f().ButtonPrimary,onClick:()=>{d(),setTimeout(()=>{s(!1)},500)},children:"Apply"})]})]})})};var P=s(32701),E=s(1977);s(68265);let O=function(){var e,t,s,r,l,o;let{isAllFiltersDrawerOpen:c,setAllFiltersDrawerOpenState:d,draftTenderFilters:h,setDraftTenderFilters:g,setAuthorityFilterDrawerOpenState:_,setCategoryFilterDrawerOpenState:p,setLocationFilterDrawerOpenState:y,applyFilters:x}=u(),{data:b}=(0,C.$K)({variables:{filters:{authorityBodyIds:h.selectedSubAuthorityIds,locationCityIds:h.selectedCityIds},intervals:50}}),j=(null==b?void 0:b.userTenderRangeFilterIntervalCounts.emd)||[],S=(null==b?void 0:b.userTenderRangeFilterIntervalCounts.tenderValue)||[],w=j.length?Math.max(...j.map(e=>e.end)):1e5,I=S.length?Math.max(...S.map(e=>e.end)):1e5,k=e=>{let{value:t,count:s,onClick:r}=e;return(0,a.jsxs)("button",{className:(0,n.t)(f().SelectedItemsDisplay,s?f().Active:""),onClick:r,type:"button",children:[(0,a.jsxs)("span",{children:[t," ",!!s&&(0,a.jsx)("span",{className:f().Count,children:s})]}),(0,a.jsx)(i.A,{src:"/assets/images/icons/chevron_left.svg",alt:"Info",height:20,width:20})]})},N=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"d-flex gap-3 justify-content-between align-items-center mb-3",children:[(0,a.jsx)("label",{className:"d-block",children:"Category"}),!!(null==(e=h.selectedSubCategoryIds)?void 0:e.length)&&(0,a.jsx)(v.A,{variant:"ghost",color:"red",size:"sm",onClick:()=>{g({...h,selectedSubCategoryIds:[]})},children:"Reset"})]}),k({value:"Select Category",count:null==(t=h.selectedSubCategoryIds)?void 0:t.length,onClick:()=>p(!0)})]}),T=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"d-flex gap-3 justify-content-between align-items-center mt-4 mb-3",children:[(0,a.jsx)("label",{className:"d-block",children:"Authority"}),!!(null==(s=h.selectedSubAuthorityIds)?void 0:s.length)&&(0,a.jsx)(v.A,{variant:"ghost",color:"red",size:"sm",onClick:()=>{g({...h,selectedSubAuthorityIds:[]})},children:"Reset"})]}),k({value:"Select Authorities",count:null==(r=h.selectedSubAuthorityIds)?void 0:r.length,onClick:()=>_(!0)})]}),F=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"d-flex gap-3 justify-content-between align-items-center mt-4",children:[(0,a.jsx)("label",{className:"d-block mb-3",children:"Location"})," ",!!(null==(l=h.selectedCityIds)?void 0:l.length)&&(0,a.jsx)(v.A,{variant:"ghost",color:"red",size:"sm",onClick:()=>{g({...h,selectedCityIds:[]})},children:"Reset"})]}),k({value:"Select Locations",count:null==(o=h.selectedCityIds)?void 0:o.length,onClick:()=>y(!0)})]});a.Fragment,f().FilterDescription,P.A,a.Fragment,E.A,null==h||h.minDistanceRadius,null==h||h.maxDistanceRadius,f().InputUnit,f().InputUnit;let O=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{className:"d-block mt-4",children:"Emd Range"}),(0,a.jsx)(E.A,{className:"mb-5",value:[(null==h?void 0:h.minEmd)||0,(null==h?void 0:h.maxEmd)||w],onChange:e=>{let[t,s]=e;g({...h,minEmd:t,maxEmd:s})},minValue:0,maxValue:w,barGraph:{bars:j.map(e=>{let{start:t,end:s,count:a}=e;return{value:(t+s)/2,count:a}})},slidersConfig:[{id:"Min Amount",inputProps:{id:"Min Amount",appendContent:(0,a.jsx)("span",{className:f().InputUnit,children:(0,a.jsx)(i.A,{src:"/assets/images/icons/rupees.svg",alt:"Rupees",width:10,height:14})})}},{id:"Max Amount",inputProps:{placeholder:"Max Amount",appendContent:(0,a.jsx)("span",{className:f().InputUnit,children:(0,a.jsx)(i.A,{src:"/assets/images/icons/rupees.svg",alt:"Rupees",width:10,height:14})})}}]})]}),B=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{className:"d-block",children:"Tender Value"}),(0,a.jsx)(E.A,{className:"mb-5",value:[(null==h?void 0:h.minValue)||0,(null==h?void 0:h.maxValue)||I],onChange:e=>{let[t,s]=e;g({...h,minValue:t,maxValue:s})},minValue:0,maxValue:I,barGraph:{bars:S.map(e=>{let{start:t,end:s,count:a}=e;return{value:(t+s)/2,count:a}})},slidersConfig:[{id:"Min Amount",inputProps:{id:"Min Amount",appendContent:(0,a.jsx)("span",{className:f().InputUnit,children:(0,a.jsx)(i.A,{src:"/assets/images/icons/rupees.svg",alt:"Rupees",width:10,height:14})})}},{id:"Max Amount",inputProps:{placeholder:"Max Amount",appendContent:(0,a.jsx)("span",{className:f().InputUnit,children:(0,a.jsx)(i.A,{src:"/assets/images/icons/rupees.svg",alt:"Rupees",width:10,height:14})})}}]})]});return(0,a.jsx)(A.A,{isOpen:c,onOpenChange:d,title:"Filters",children:(0,a.jsxs)("div",{className:(0,n.t)(f().AllFiltersDrawerContent,"d-flex flex-column h-100 gap-3 pb-3"),children:[(0,a.jsxs)("div",{className:"flex-grow-1 overflow-y-auto overflow-x-hidden py-3",children:[N,T,F,!1,!1,O,B,!1]}),(0,a.jsxs)("div",{className:(0,n.t)(f().ButtonsContainer),children:[(0,a.jsx)(v.A,{color:"red",variant:"secondary",onClick:()=>{g(m)},children:"Reset All"}),(0,a.jsx)(v.A,{className:f().ButtonPrimary,onClick:()=>{x(),setTimeout(()=>{d(!1)},500)},children:"Apply"})]})]})})},B=function(e){let{className:t,showMainCategoryButtons:s=!1,showFilterButton:o=!0,showSortButton:c=!1,filterHeading:d,isLoading:u,useGlobalFilters:h=!1}=e;return(0,a.jsx)(_,{useGlobalFilters:h,children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O,{}),(0,a.jsx)(I,{}),(0,a.jsx)(F,{}),(0,a.jsx)(N,{}),(0,a.jsxs)("div",{className:(0,n.t)(t,f().Container),children:[s&&!1,(0,a.jsxs)("div",{className:"d-flex justify-content-between align-items-center gap-2",children:[(0,a.jsx)("div",{className:f().MatchingTendersLabel,children:d||"Matching Tenders"}),o&&(0,a.jsx)(x,{disabled:u}),c&&(0,a.jsx)(y,{disabled:u})]}),u?(0,a.jsxs)("div",{className:(0,n.t)(f().ScrollableFilterContainer,"d-flex gap-3 mt-3 overflow-auto"),children:[(0,a.jsx)(l.A.Default,{style:{width:"10rem",height:"38px",borderRight:"0.75rem"}}),(0,a.jsx)(l.A.Default,{style:{width:"10rem",height:"38px",borderRight:"0.75rem"}}),(0,a.jsx)(l.A.Default,{style:{width:"10rem",height:"38px",borderRight:"0.75rem"}})]}):(0,a.jsxs)("div",{className:(0,n.t)(f().ScrollableFilterContainer,"d-flex gap-3 mt-3 overflow-auto"),children:[(0,a.jsxs)(r.f,{className:f().FilterButtonSecondary,children:["Close to deadline"," ",(0,a.jsx)(i.A,{src:"/assets/images/icons/sort_arrows.svg",alt:"",width:11,height:14})]}),(0,a.jsxs)(r.f,{className:f().FilterButtonSecondary,children:["Tender value",(0,a.jsx)(i.A,{src:"/assets/images/icons/sort_arrows.svg",alt:"",width:11,height:14})]}),(0,a.jsxs)(r.f,{className:f().FilterButtonSecondary,children:["EMD Amount",(0,a.jsx)(i.A,{src:"/assets/images/icons/sort_arrows.svg",alt:"",width:11,height:14})]})]})]})]})})}},83660:e=>{e.exports={Button:"AuthenticationForm_Button__v_7mk",Heading:"AuthenticationForm_Heading__D1NbZ",SubHeading:"AuthenticationForm_SubHeading__4X5o_",Label:"AuthenticationForm_Label__sbeYb",Small:"AuthenticationForm_Small__l3N8b",PhoneDisplay:"AuthenticationForm_PhoneDisplay__1BEpb",ErrorText:"AuthenticationForm_ErrorText___QNLF",ResendButton:"AuthenticationForm_ResendButton__gLM1r"}},90183:(e,t,s)=>{"use strict";s.d(t,{default:()=>M});var a=s(95155),r=s(12115),n=s(35695),i=s(1717),l=s(15616),o=s(8979),c=s(93162),d=function(e){return e.Phone="phone",e.Otp="otp",e}({}),u=s(37129),h=s(82855),m=s(39365),g=s.n(m),_=s(4407),v=s.n(_);s(30133);let p=function(e){let{className:t,value:s,onChange:n}=e,i=(0,r.useCallback)(function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];n&&n(t[3])},[n]);return(0,a.jsx)(g(),{disableDropdown:!0,country:"in",containerClass:(0,h.t)(v().Container,t),inputClass:v().Input,buttonClass:v().Button,value:s,onChange:i,placeholder:"Enter Your Mobile Number",inputProps:{name:"phone",autoComplete:"phone"}})};var f=s(55050),y=s(83660),x=s.n(y),A=s(23293),C=s(61781),b=s.n(C);let j=function(e){let{className:t,value:s,onChange:n}=e,[i,l]=(0,r.useState)(""),o=void 0!==s&&void 0!==n;return(0,a.jsx)(A.A,{containerStyle:(0,h.t)(t,b().Container),value:o?s:i,onChange:o?n:l,numInputs:6,renderInput:e=>(0,a.jsx)("input",{...e,type:"number",pattern:"[0-9]*",inputMode:"numeric",className:b().Input}),placeholder:"------"})};var S=s(67666);let w=l.sf,I={phone:"",otp:""},k=u.Ik().shape({phone:u.Yj().required(),otp:u.Yj().min(6).max(6).required()}),N=[{id:d.Phone,order:1,content:(0,a.jsx)(function(){let{setFieldValue:e,values:{phone:t},stepFormRef:s,setOtpResendTime:n,setOtpError:i,setIsOtpSent:l,setVerificationId:c}=w(),{generateOtp:u,isGettingOtp:m}=(0,o.As)(),g=(0,r.useCallback)(t=>{e("phone",t),e("otp","")},[e]),_=(0,r.useCallback)(async()=>{let a=t.replaceAll(" ","").replaceAll("-","");try{let t=await u({phoneNumberWithCountryCode:a});(null==t?void 0:t.success)&&t.verificationId&&(e("otp",""),n(30),l(!0),i(null),c(t.verificationId),s.current&&s.current.gotToStep(d.Otp))}catch(e){i(e.message||"Failed to send OTP")}},[u,e,t,s,l,n,i,c]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:x().Heading,children:"Enter Whatsapp Number"}),(0,a.jsx)("div",{className:(0,h.t)("mt-2",x().SubHeading),children:"We'll have to make sure it's you."}),(0,a.jsx)("label",{className:(0,h.t)("mt-4",x().Label),children:"Mobile Number"}),(0,a.jsx)(p,{className:"w-100 mt-2",value:t,onChange:g}),(0,a.jsx)("div",{className:(0,h.t)("mt-2",x().Small),children:"We will send a verification otp on your number to verify your number."}),(0,a.jsx)(f.A,{disabled:m,onClick:_,className:(0,h.t)("w-100","mt-4 mt-md-5",x().Button),children:m?"Please wait...":"Send OTP"})]})},{})},{id:d.Otp,order:1,content:(0,a.jsx)(function(){let{isSubmittingOtp:e,values:{phone:t,otp:s},setFieldValue:n,stepFormRef:i,errors:l,submitForm:c,otpError:u,otpResendTime:m,setOtpResendTime:g,setIsOtpSent:_,setOtpError:v,setVerificationId:p}=w(),{generateOtp:y,isGettingOtp:A}=(0,o.As)(),C=!!l.otp||e;(0,r.useEffect)(()=>{if(m>0){let e=setTimeout(()=>{g(m-1)},1e3);return()=>clearTimeout(e)}},[m,g]);let b=(0,r.useCallback)(()=>{i.current&&i.current.gotToStep(d.Phone)},[i]),I=(0,r.useCallback)(async()=>{let e=t.replaceAll(" ","").replaceAll("-","");try{let t=await y({phoneNumberWithCountryCode:e});(null==t?void 0:t.success)&&t.verificationId&&(n("otp",""),g(30),_(!0),v(null),p(t.verificationId))}catch(e){v(e.message||"Failed to send OTP")}},[y,t,n,g,_,v,p]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:x().Heading,children:"Verify Your Number"}),(0,a.jsx)("div",{className:(0,h.t)("mt-2",x().SubHeading),children:"Enter the OTP sent to"}),(0,a.jsxs)("div",{className:(0,h.t)("mt-1",x().PhoneDisplay),children:[t,(0,a.jsx)(f.A,{variant:"ghost",size:"sm",onClick:b,children:(0,a.jsx)(S.A,{src:"/assets/images/icons/edit.svg",alt:"Info",height:16,width:16})})]}),(0,a.jsx)("label",{className:(0,h.t)("mt-4",x().Label),children:"OTP"}),(0,a.jsx)(j,{className:"mt-2",value:s,onChange:e=>{n("otp",e)}}),u&&(0,a.jsx)("div",{className:(0,h.t)("mt-2",x().ErrorText),children:u}),(0,a.jsx)("div",{className:(0,h.t)("mt-2",x().Small),children:m>0?"Resend OTP in ".concat(m," seconds"):(0,a.jsx)(f.A,{variant:"ghost",className:x().ResendButton,disabled:A,onClick:I,children:"Resend OTP"})}),(0,a.jsx)(f.A,{disabled:C,className:(0,h.t)("w-100","mt-4 mt-md-5",x().Button),onClick:()=>{c()},children:e?"Please wait...":"Proceed"})]})},{})}],T=function(e){let{className:t}=e,[s,i]=(0,r.useState)(!1),[u,h]=(0,r.useState)(null),[m,g]=(0,r.useState)(!1),[_,v]=(0,r.useState)(0),[p,f]=(0,r.useState)(""),y=(0,n.useRouter)(),{verifyOtp:x}=(0,o.As)(),A=(0,r.useRef)(null),C=(0,r.useCallback)(async e=>{if(s)return;i(!0);let{otp:t,phone:a}=e,r=a.replaceAll(" ","").replaceAll("-","");try{let e=await x({otp:t,phoneNumberWithCountryCode:r});e&&(h(null),e.isNewUser?y.push(c.f.WELCOME_PAGE):y.push(c.f.ONBOARDING_FORM_PAGE))}catch(e){h(e.message||"Invalid OTP. Please try again.")}finally{i(!1)}},[s,x,y]),b=(0,r.useMemo)(()=>({isSubmittingOtp:s,setIsSubmittingOtp:i,otpError:u,setOtpError:h,isOtpSent:m,setIsOtpSent:g,otpResendTime:_,setOtpResendTime:v,verificationId:p,setVerificationId:f}),[s,u,m,_,p]);return(0,a.jsx)(l.Ay,{ref:A,className:t,extraFields:b,initialValues:I,yupValidationSchema:k,onSubmit:C,initialStepId:d.Phone,steps:N})};var F=s(39922),P=s(50418),E=s.n(P);let O=function(){return(0,a.jsx)(F.A,{className:E().Layout,mainClassName:E().Main,appendHeader:!1,children:(0,a.jsx)("div",{className:(0,h.t)(E().FormContainer),children:(0,a.jsx)(T,{})})})};var B=s(30816),R=s(29629),D=s(19587),L=s(25768);let M=function(e){let{children:t}=e,s=(0,n.usePathname)(),l=(0,n.useRouter)(),[o,d]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!0),[m,g]=(0,r.useState)(!0),[_,v]=(0,r.useState)(""),[p,{loading:f}]=(0,B.dZ)(),[y]=(0,B.x8)(),x=(0,D.tg)(s),A=(0,r.useCallback)(async e=>{let{phoneNumberWithCountryCode:t}=e;if(!f)try{var s,a;let e=await p({variables:{input:{phoneNumber:t,deviceId:"web-client"}}});if((null==(s=e.data)?void 0:s.generateOtp.success)&&e.data.generateOtp.verificationId)return v(e.data.generateOtp.verificationId),{success:!0,verificationId:e.data.generateOtp.verificationId,expiresInSeconds:e.data.generateOtp.expiresInSeconds};throw Error((null==(a=e.data)?void 0:a.generateOtp.message)||"Failed to generate OTP")}catch(e){throw e}},[f,p]),C=(0,r.useCallback)(async function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return i.qh.clearAuthToken(),localStorage.removeItem("sessionId"),d(!1),h(!1),g(!0),v(""),e&&l.push(c.f.HOME_PAGE),{success:!0}},[l]),b=(0,r.useCallback)(async e=>{let{otp:t,phoneNumberWithCountryCode:s}=e;if(h(!0),R.j)return h(!1),d(!0),{isNewUser:!0};try{var a;let e=await y({variables:{input:{phoneNumber:s,otpCode:t,verificationId:_,deviceId:"web-client"}}});if(null==(a=e.data)?void 0:a.verifyOtp){let{accessToken:t,user:s}=e.data.verifyOtp;i.qh.setAuthToken(t),d(!0);let a=!s.firstName||"User"===s.firstName;return g(a),h(!1),{isNewUser:a}}throw Error("Verification failed")}catch(e){throw C(),h(!1),e}},[_,y,C]);(0,r.useEffect)(()=>{d(!!i.qh.getAuthToken()),h(!1)},[]);let j=(0,r.useMemo)(()=>({isAuthenticated:o,isAuthenticating:u,isGettingOtp:f,generateOtp:A,verifyOtp:b,isNewUser:m,logout:C}),[o,u,f,A,b,m,C]),S=(u||!o)&&!x;return u?(0,a.jsx)(L.A,{}):(0,a.jsx)(R.g.Provider,{value:j,children:S?(0,a.jsx)(O,{}):t})}},91954:e=>{e.exports={FilterToggleButton:"TenderFilters_FilterToggleButton__DN4g6",RoundIconContainer:"TenderFilters_RoundIconContainer__RCjof",RoundIconContainerActive:"TenderFilters_RoundIconContainerActive__uZw3I",FilterCount:"TenderFilters_FilterCount__F56ok",MatchingTendersLabel:"TenderFilters_MatchingTendersLabel__C3Fg6",FilterButtonSecondary:"TenderFilters_FilterButtonSecondary___Yl6y",ScrollableFilterContainer:"TenderFilters_ScrollableFilterContainer__mL8KS",InputUnit:"TenderFilters_InputUnit__WHhOI",FilterDescription:"TenderFilters_FilterDescription__LC6a8",AllFiltersDrawerContent:"TenderFilters_AllFiltersDrawerContent__PDJNi",SelectedItemsDisplay:"TenderFilters_SelectedItemsDisplay__W3HyG",Active:"TenderFilters_Active__SOK1_",Count:"TenderFilters_Count__FEitl",ButtonsContainer:"TenderFilters_ButtonsContainer__pDCF4",ButtonPrimary:"TenderFilters_ButtonPrimary__IcIKv"}}}]);